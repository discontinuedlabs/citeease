import{u as C,j as e,I as i,T as n,S as I,O as $,a as b,b as h}from"./index.js";function N(f){const{content:r,setContent:o}=f,{data:p}=C(a=>a.settings);function t(a){const{name:l,value:c}=a.target,s=l.match(/(dropping-particle|given|non-dropping-particle|family|suffix)-(\d+)/);if(s){const v=s[1],d=s[2];o(m=>{const u=[...m.author];return u[d]={...u[d],[v]:c},{...m,author:u}})}}function g(){o(a=>({...a,author:[...a.author,{"dropping-particle":"",given:"","non-dropping-particle":"",family:"",suffix:""}]}))}function x(){o(a=>({...a,author:[...a.author,{literal:""}]}))}function j(a){o(l=>({...l,author:l.author.filter((c,s)=>s!==a)}))}return e.jsxs("div",{className:"grid gap-2",children:[r&&r.author&&r.author.map((a,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:["literal"in a?e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"apartment"}),e.jsx(n,{className:"flex-1",type:"text",name:`literal-${l}`,label:"Organization's name",placeholder:"International Business Machines",value:a.literal||"",onChange:t,autoComplete:!1})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{name:"person"}),p!=null&&p.advancedAuthorFields?e.jsxs(e.Fragment,{children:[e.jsx(n,{type:"text",name:`dropping-particle-${l}`,label:"Title",placeholder:"e.g., Sir",value:a["dropping-particle"]||"",onChange:t,autoComplete:!1}),e.jsx(n,{type:"text",name:`given-${l}`,label:"First name(s)",placeholder:"e.g., Isaac Newton",value:a.given||"",onChange:t,autoComplete:!1}),e.jsx(n,{type:"text",name:`non-dropping-particle-${l}`,label:"Infix",placeholder:"e.g., van der",value:a["non-dropping-particle"]||"",onChange:t,autoComplete:!1}),e.jsx(n,{type:"text",name:`family-${l}`,label:"Last name",placeholder:"e.g., Graaf",value:a.family||"",onChange:t,autoComplete:!1}),e.jsx(n,{type:"text",name:`suffix-${l}`,label:"Suffix",placeholder:"e.g., III",value:a.suffix||"",onChange:t,autoComplete:!1}),e.jsx(I,{label:"Role",options:[{headline:"Author",value:"author"},{headline:"Editor",value:"editor"},{headline:"Translator",value:"translator"}]})]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"flex-1",type:"text",name:`given-${l}`,label:"First name(s)",placeholder:"e.g., Sir Isaac Newton III",value:`${a["dropping-particle"]||""} ${a.given||""} ${a.suffix||""}`.trim(),onChange:t,autoComplete:!1}),e.jsx(n,{className:"flex-1",type:"text",name:`family-${l}`,label:"Last name",placeholder:"e.g., van der Graaf",value:`${a["non-dropping-particle"]||""} ${a.family||""}`.trim(),onChange:t,autoComplete:!1})]})]}),e.jsx($,{name:"delete",onClick:()=>j(l)})]},b())),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{className:"flex-1",onClick:g,children:[e.jsx(i,{name:"person"})," Add person"]}),e.jsxs(h,{className:"flex-1",onClick:x,children:[e.jsx(i,{name:"apartment"})," Add organization"]})]})]})}export{N as default};
