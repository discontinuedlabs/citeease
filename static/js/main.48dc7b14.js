/*! For license information please see main.48dc7b14.js.LICENSE.txt */
(()=>{var e={3404:(e,t,n)=>{"use strict";Object.defineProperty(t,"GP",{enumerable:!0,get:function(){return i.default}});var r=s(n(2908)),i=s(n(3623));function s(e){return e&&e.__esModule?e:{default:e}}},2908:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},s=/ (?:to|[-/]) | ?(?:--|[\u2013\u2014]) ?/,o=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function a(e){return i[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],s=r[2],o=r[3];return+s?+o?[i,s,o]:[i,s]:[i]},u=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!==typeof e||!t.test(e))return null;let r=n(e.match(t),4),i=r[1],s=r[2],o=r[3];return s=a(s),s?[o,s,i]:null};function c(e){const t=function(e){const t=new Date(e);return"number"!==typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||u(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],s=r[2],o=r[3];return new Date(o,i,s).getMonth()===parseInt(i)?[o,i,s]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,s,o;if("string"!==typeof e)return null;if(t.test(e)){var l=n(e.match(t),4);o=l[1],s=l[2],i=l[3]}else{if(!r.test(e))return null;var u=n(e.match(r),4);i=u[1],s=u[2],o=u[3]}if(a(s))s=a(s);else if(isNaN(s))return null;return[i,s,o]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"===typeof e&&t.test(e)){const n=e.match(t).slice(1,3);let r;if(a(n[1]))r=a(n.pop());else if(a(n[0]))r=a(n.shift());else{if(n.some(isNaN)||n.every((e=>+e<0)))return null;r=+n[0]<0||+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(e)||function(e){if("string"!==typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=n(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var h=function(e,t){const n=[],r="string"===typeof e&&function(e){return o.test(e)?e.match(o).slice(1,3):e.split(s)}(e);t?n.push(e,t):r&&2===r.length?n.push(...r):n.push(e);const i=n.map(c);return i.filter(Boolean).length===n.length?{"date-parts":i}:{raw:t?n.join("/"):e}};t.default=h},3623:(e,t)=>{"use strict";function n(e,t,n){if(e.length>=t)return e;for(;e.length<t;)e=n+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(t)};t.default=r},971:(e,t,n)=>{"use strict";Object.defineProperty(t,"qg",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"GP",{enumerable:!0,get:function(){return i.default}});var r=s(n(3)),i=s(n(3982));function s(e){return e&&e.__esModule?e:{default:e}}},3:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.parse=t.types=t.scope=void 0;const r=e=>e.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),i=e=>"(?:".concat(e.join("|"),")\\b"),s=(e,t)=>new RegExp("(?:^| )(".concat(e,"$)"),t),o=i(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(r)),a=i(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(r)),l=i(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),u=new RegExp("^((?:".concat(o," )*)(.*)$"),"i"),c=s("(?:".concat(a,", )*(?:").concat(a,")"),"i"),h=s("".concat(/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source,".*")),p=s("(?:".concat(/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source,".*|").concat(l,".*|\\S*)"));t.default=t.parse=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"string"!==typeof e&&(e+="");let t="",r="",i="";if(/[^.], /.test(e)){const n=e.split(", ");i=n.shift();const s=RegExp(a).exec(n.join(", "));t=n.splice(s&&0!==s.index?0:-1,1)[0],r=n.join(", ")}else{const n=e.split(c,2),s=n.shift().split(p,2);t=s[0],i=s[1],r=n.pop()}const s=n(t.match(u),3),o=s[1],l=s[2],d=r,m=n(i.split(h,2).reverse(),2),f=m[0],g=m[1];if(!l&&f)return f.includes(" ")?{literal:f}:{family:f};if(f){const e={"dropping-particle":o,given:l,suffix:d,"non-dropping-particle":g,family:f};return Object.keys(e).forEach((t=>{e[t]||delete e[t]})),e}return{literal:e}};t.scope="@name";t.types="@name"},3982:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=["dropping-particle","given"],r=["suffix"],i=["non-dropping-particle","family"];var s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=t=>t.map((t=>e[t]||"")).filter(Boolean).join(" ");if(e.literal)return e.literal;if(t){const e=s(r)?", ".concat(s(r)):"",t=s(n)?", ".concat(s(n)):"";return s(i)+e+t}return"".concat(s([...n,...r,...i]))};t.default=s},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=a(e),o=s[0],l=s[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),c=0,h=l>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,u=r-i;a<u;a+=o)s.push(l(e,a,a+o>u?u:a+o));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2045:e=>{e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},6382:(e,t,n)=>{"use strict";var r=n(4445),i=n(6900),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=a(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|m(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||q(e.length)?a(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),a(e<0?0:0|m(e))}function p(e){for(var t=e.length<0?0:0|m(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function m(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(i)return r?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){for(var h=!0,p=0;p<l;p++)if(u(e,s+p)!==u(t,p)){h=!1;break}if(h)return s}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(q(a))return o;e[n+o]=a}return o}function E(e,t,n,r){return U(j(t,e.length-n),e,n,r)}function T(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return U(B(t),e,n,r)}function w(e,t,n,r){return U(function(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128===(192&(s=e[i+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[i+1],o=e[i+2],128===(192&s)&&128===(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(H(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(H(s,Uint8Array))i+s.length>r.length?l.from(s).copy(r,i):Uint8Array.prototype.set.call(r,s,i);else{if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i)}i+=s.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(H(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),u=this.slice(r,i),c=e.slice(t,n),h=0;h<a;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return T(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=z[e[s]];return i}function O(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,s){return t=+t,n>>>=0,s||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,s){return t=+t,n>>>=0,s||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var F=/[^+/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function B(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!==e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},8585:e=>{"use strict";var t={PROCESSOR_VERSION:"1.4.61",error:function(e){throw"undefined"===typeof Error?new Error("citeproc-js error: "+e):"citeproc-js error: "+e},debug:function(e){"undefined"===typeof console?dump("CSL: "+e+"\n"):console.log("citeproc-js warning: "+e)},toLocaleUpperCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleUpperCase(t)}catch(n){e=e.toUpperCase()}return e},toLocaleLowerCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleLowerCase(t)}catch(n){e=e.toLowerCase()}return e},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(e){"note"===e.opt.xclass?(this.depth=0,this.update=function(e){for(var t=(e=e||"").split(/([\(\)])/),n=1,r=t.length;n<r;n+=2)"("===t[n]?(1===this.depth%2&&(t[n]="["),this.depth+=1):")"===t[n]&&(0===this.depth%2&&(t[n]="]"),this.depth-=1);return t.join("")}):this.update=function(e){return e}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(e,t,n){var r=null;if(e.opt.availableAbbrevDomains&&t&&"default"!==t){var i=e.locale[e.opt.lang].opts["jurisdiction-preference"],s=null;if(e.locale[n]&&(s=e.locale[n].opts["jurisdiction-preference"]),s)for(var o=s.length-1;o>-1;o--)if(e.opt.availableAbbrevDomains[t].indexOf(s[o])>-1){r=s[o];break}if(!r&&i)for(o=i.length-1;o>-1;o--)if(e.opt.availableAbbrevDomains[t].indexOf(i[o])>-1){r=i[o];break}}return r},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(e){if(this.opt.development_extensions.locator_date_and_revision&&e.locator){e.locator=""+e.locator;var t=e.locator.indexOf("|");if(t>-1){var n=e.locator;e.locator=n.slice(0,t);var r=(n=n.slice(t+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(e["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),n=n.slice(r[1].length)),e["locator-extra"]=n.replace(/^\s+/,"").replace(/\s+$/,"")}}return e.locator&&(e.locator=(""+e.locator).replace(/\s+$/,"")),e},normalizeLocaleStr:function(e){if(e){var t=e.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(e,n,r){if("string"===typeof e.note){for(var i=[],s=e.note.split("\n"),o=0,a=s.length;o<a;o++){i=[];var l=(m=s[o]).match(t.NOTE_FIELDS_REGEXP);if(l){for(var u=m.split(t.NOTE_FIELDS_REGEXP),c=0,h=u.length-1;c<h;c++)i.push(u[c]),i.push(l[c]);i.push(u[u.length-1]);for(c=1,h=i.length;c<h&&(!i[c-1].trim()||!(o>0||c>1)||i[c-1].match(t.NOTE_FIELD_REGEXP));c+=2)i[c]="\n"+i[c].slice(2,-1).trim()+"\n";s[o]=i.join("")}}var p=0,d={};for(o=0,a=(s=s.join("\n").split("\n")).length;o<a;o++){var m,f=(m=s[o]).match(t.NOTE_FIELD_REGEXP);if(m.trim()){if(!f){if(0===o)continue;p=o;break}var g=f[1],b=f[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)e.type=b,s[o]="";else if(t.DATE_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1)e[g]&&!r||(e[g]=t.DateParser.parseDateToArray(b),(!n||n[g]&&this.isDateString(b))&&(s[o]=""));else if(!e[g]){if(t.NAME_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1){d[g]||(d[g]=[]);var y=b.split(/\s*\|\|\s*/);if(1===y.length)d[g].push({literal:y[0]});else if(2===y.length){var v={family:y[0],given:y[1]};t.parseParticles(v),d[g].push(v)}}else e[g]=b;n&&!n[g]||(s[o]="")}}}for(var g in d)e[g]=d[g];if(n){s[p].trim()&&(s[p]="\n"+s[p]);for(o=p-1;o>-1;o--)s[o].trim()||(s=s.slice(0,o).concat(s.slice(o+1)))}e.note=s.join("\n").trim()}},checkPrefixSpaceAppend:function(e,n){n||(n="");var r="",i=n.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=i.slice(-1);return(i.match(t.ENDSWITH_ROMANESQUE_REGEXP)||t.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1||s.match(/[\)\],0-9]/))&&(r=" "),n=(n+r).replace(/\s+/g," ")},checkIgnorePredecessor:function(e,n){var r=n.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return t.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(r)>-1&&n.trim().indexOf(" ")>-1&&(e.tmp.term_predecessor=!1,!0)},checkSuffixSpacePrepend:function(e,n){return n?((n.match(t.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(n.slice(0,1))>-1)&&(n=" "+n),n):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(e){for(var t=["title","short","main","sub","subjoin"],n={},r=0,i=t.length;r<i;r++)n[t[r]]=e+"title"+("title"===t[r]?"":"-"+t[r]);return n},demoteNoiseWords:function(e,t,n){var r=e.locale[e.opt.lang].opts["leading-noise-words"];if(t&&n){(t=t.split(/\s+/)).reverse();for(var i=[],s=t.length-1;s>-1&&r.indexOf(t[s].toLowerCase())>-1;s+=-1)i.push(t.pop());t.reverse();var o=t.join(" "),a=i.join(" ");"drop"!==n&&a?"demote"===n&&(t=[o,a].join(", ")):t=o}return t},extractTitleAndSubtitle:function(e,n){var r=n?"\u202f":"",i=[""];this.opt.development_extensions.split_container_title&&i.push("container-");for(var s=0,o=i.length;s<o;s++){var a=i[s],l=t.TITLE_FIELD_SPLITS(a),u=[!1];if(e.multi)for(var c in e.multi._keys[l.short])u.push(c);for(var h=0,p=u.length;h<p;h++){var d={};(c=u[h])?(e.multi._keys[l.title]&&(d[l.title]=e.multi._keys[l.title][c]),e.multi._keys[l.short]&&(d[l.short]=e.multi._keys[l.short][c])):(d[l.title]=e[l.title],d[l.short]=e[l.short]),d[l.main]=d[l.title],d[l.sub]=!1;var m=d[l.short];if(d[l.title]){if(m&&m.toLowerCase()===d[l.title].toLowerCase())d[l.main]=d[l.title],d[l.subjoin]="",d[l.sub]="";else if(m){var f=d[l.title].slice(m.replace(/[\?\!]+$/,"").length),g=d[l.title].replace(f.replace(/^[\?\!]+/,""),"").trim();if((v=t.TITLE_SPLIT_REGEXP.matchfirst.exec(f))&&g.toLowerCase()===m.toLowerCase())d[l.main]=g,d[l.subjoin]=v[1].replace(/[\?\!]+(\s*)$/,"$1"),d[l.sub]=f.replace(t.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(d[l.short]=d[l.main]);else 3==(b=t.TITLE_SPLIT(d[l.title])).length?(d[l.main]=b[0],d[l.subjoin]=b[1],d[l.sub]=b[2]):(d[l.main]=d[l.title],d[l.subjoin]="",d[l.sub]="")}else{var b;if(3==(b=t.TITLE_SPLIT(d[l.title])).length){if(d[l.main]=b[0],d[l.subjoin]=b[1],d[l.sub]=b[2],this.opt.development_extensions.implicit_short_title&&"legal_case"!==e.type&&!e[l.short]&&!d[l.main].match(/^[\-\.[0-9]+$/)){var y=d[l.subjoin].trim();-1===["?","!"].indexOf(y)&&(y=""),d[l.short]=d[l.main]+y}}else d[l.main]=d[l.title],d[l.subjoin]="",d[l.sub]=""}if(d[l.subjoin]&&d[l.subjoin].match(/([\?\!])/)){var v=d[l.subjoin].match(/(\s*)$/);d[l.main]=d[l.main]+r+d[l.subjoin].trim(),d[l.subjoin]=v[1]}}if(d[l.subjoin]&&(d[l.subjoin].indexOf(":")>-1&&(d[l.subjoin]=r+": "),(d[l.subjoin].indexOf("-")>-1||d[l.subjoin].indexOf("\u2014")>-1)&&(d[l.subjoin]="\u2014")),c)for(var _ in d)e.multi._keys[_]||(e.multi._keys[_]={}),e.multi._keys[_][c]=d[_];else for(var _ in d)e[_]=d[_]}}},titlecaseSentenceOrNormal:function(e,n,r,i,s){var o=t.TITLE_FIELD_SPLITS(r),a={};if(i&&n.multi?(n.multi._keys[o.title]&&(a[o.title]=n.multi._keys[o.title][i]),n.multi._keys[o.main]&&(a[o.main]=n.multi._keys[o.main][i]),n.multi._keys[o.sub]&&(a[o.sub]=n.multi._keys[o.sub][i]),n.multi._keys[o.subjoin]&&(a[o.subjoin]=n.multi._keys[o.subjoin][i])):(a[o.title]=n[o.title],a[o.main]=n[o.main],a[o.sub]=n[o.sub],a[o.subjoin]=n[o.subjoin]),a[o.main]&&a[o.sub]){var l=a[o.main],u=a[o.subjoin],c=a[o.sub];return s?(l=t.Output.Formatters.sentence(e,l),c=t.Output.Formatters.sentence(e,c)):e.opt.development_extensions.uppercase_subtitles&&(c=t.Output.Formatters["capitalize-first"](e,c)),[l,u,c].join("")}if(a[o.title]){if(s)return t.Output.Formatters.sentence(e,a[o.title]);if(e.opt.development_extensions.uppercase_subtitles){for(var h=t.TITLE_SPLIT(a[o.title]),p=0,d=h.length;p<d;p+=2)h[p]=t.Output.Formatters["capitalize-first"](e,h[p]);for(p=1,d=h.length-1;p<d;p+=2){var m=h[p].match(/([:\?\!] )/);if(m){var f="fr"===e.opt["default-locale"][0].slice(0,2).toLowerCase()?"\u202f":"";h[p]=f+m[1]}(h[p].indexOf("-")>-1||h[p].indexOf("\u2014")>-1)&&(h[p]="\u2014")}return a[o.title]=h.join(""),a[o.title]}return a[o.title]}return""},getSafeEscape:function(e){if(["bibliography","citation"].indexOf(e.tmp.area)>-1){var n=[];return e.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===e.opt.mode&&n.push((function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')})),n.length?function(r){for(var i=0,s=n.length;i<s;i+=1)r=n[i](r);return t.Output.Formats[e.opt.mode].text_escape(r)}:t.Output.Formats[e.opt.mode].text_escape}return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-\xe0-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokm\xe5l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"\xaa":"a","\xb2":"2","\xb3":"3","\xb9":"1","\xba":"o","\u02b0":"h","\u02b1":"\u0266","\u02b2":"j","\u02b3":"r","\u02b4":"\u0279","\u02b5":"\u027b","\u02b6":"\u0281","\u02b7":"w","\u02b8":"y","\u02e0":"\u0263","\u02e1":"l","\u02e2":"s","\u02e3":"x","\u02e4":"\u0295","\u1d2c":"A","\u1d2d":"\xc6","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d32":"\u018e","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3d":"\u0222","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u1d42":"W","\u1d43":"a","\u1d44":"\u0250","\u1d45":"\u0251","\u1d46":"\u1d02","\u1d47":"b","\u1d48":"d","\u1d49":"e","\u1d4a":"\u0259","\u1d4b":"\u025b","\u1d4c":"\u025c","\u1d4d":"g","\u1d4f":"k","\u1d50":"m","\u1d51":"\u014b","\u1d52":"o","\u1d53":"\u0254","\u1d54":"\u1d16","\u1d55":"\u1d17","\u1d56":"p","\u1d57":"t","\u1d58":"u","\u1d59":"\u1d1d","\u1d5a":"\u026f","\u1d5b":"v","\u1d5c":"\u1d25","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03c6","\u1d61":"\u03c7","\u2070":"0","\u2071":"i","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u207a":"+","\u207b":"\u2212","\u207c":"=","\u207d":"(","\u207e":")","\u207f":"n","\u2120":"SM","\u2122":"TM","\u3192":"\u4e00","\u3193":"\u4e8c","\u3194":"\u4e09","\u3195":"\u56db","\u3196":"\u4e0a","\u3197":"\u4e2d","\u3198":"\u4e0b","\u3199":"\u7532","\u319a":"\u4e59","\u319b":"\u4e19","\u319c":"\u4e01","\u319d":"\u5929","\u319e":"\u5730","\u319f":"\u4eba","\u02c0":"\u0294","\u02c1":"\u0295","\u06e5":"\u0648","\u06e6":"\u064a"},SUPERSCRIPTS_REGEXP:new RegExp("[\xaa\xb2\xb3\xb9\xba\u02b0\u02b1\u02b2\u02b3\u02b4\u02b5\u02b6\u02b7\u02b8\u02e0\u02e1\u02e2\u02e3\u02e4\u1d2c\u1d2d\u1d2e\u1d30\u1d31\u1d32\u1d33\u1d34\u1d35\u1d36\u1d37\u1d38\u1d39\u1d3a\u1d3c\u1d3d\u1d3e\u1d3f\u1d40\u1d41\u1d42\u1d43\u1d44\u1d45\u1d46\u1d47\u1d48\u1d49\u1d4a\u1d4b\u1d4c\u1d4d\u1d4f\u1d50\u1d51\u1d52\u1d53\u1d54\u1d55\u1d56\u1d57\u1d58\u1d59\u1d5a\u1d5b\u1d5c\u1d5d\u1d5e\u1d5f\u1d60\u1d61\u2070\u2071\u2074\u2075\u2076\u2077\u2078\u2079\u207a\u207b\u207c\u207d\u207e\u207f\u2120\u2122\u3192\u3193\u3194\u3195\u3196\u3197\u3198\u3199\u319a\u319b\u319c\u319d\u319e\u319f\u02c0\u02c1\u06e5\u06e6]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(e,t,n,r,i){if(e.opt.use_context_condition){var s=e.tmp.group_context.tip;s.condition?(s.condition.termtxt||(s.condition.termtxt=t,s.condition.valueTerm=n),s.value_seen||"comma-safe-numbers-only"!==s.condition.test||i&&(s.value_seen=!0,i.match(/^[0-9]/)||(e.tmp.just_did_number=!1))):r&&r.decorations.filter((e=>"@vertical-align"===e[0])).length>0||r&&r.strings.suffix?e.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(e,n){if(e.opt.use_context_condition){var r,i="comma-safe-numbers-only"===n.condition.test;if("empty-label"===n.condition.test)r=!n.condition.termtxt;else if("empty-label-no-decor"===n.condition.test)r=!n.condition.termtxt||n.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(n.condition.test)>-1){var s=n.condition.termtxt,o=!1;n.condition.termtxt&&(o=n.condition.termtxt.slice(0,1).match(t.ALL_ROMANESQUE_REGEXP)),r=e.tmp.just_did_number?n.condition.valueTerm?!i:!s||(o?!i:["always","after-number"].indexOf(e.opt.require_comma_on_symbol)>-1):!n.condition.valueTerm&&(!!s&&(o?!i:"always"===e.opt.require_comma_on_symbol))}if(r)var a=!1;else a=!0;return n.condition.not&&(a=!a),a}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var e=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*\u2014\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+e.join("|")+")","g"),matchfirst:new RegExp("^("+e.join("|")+")"),split:new RegExp("(?:"+e.join("|")+")")}}(),TITLE_SPLIT:function(e){if(!e)return e;for(var n=e.match(t.TITLE_SPLIT_REGEXP.match),r=e.split(t.TITLE_SPLIT_REGEXP.split),i=r.length-2;i>-1;i--)r[i]=r[i].trim(),r[i]&&r[i].slice(-1).toLowerCase()!==r[i].slice(-1)?(r[i]=r[i]+n[i]+r[i+1],r=r.slice(0,i+1).concat(r.slice(i+2))):r=r.slice(0,i+1).concat([n[i]]).concat(r.slice(i+1));return r},GET_COURT_CLASS:function(e,t,n){var r="",i=null,s=t.jurisdiction?t.jurisdiction.split(":")[0]:null,o="court_condition_classes";return n&&(o="court_key_classes"),s&&t.authority&&("string"===typeof t.authority?i=t.authority:t.authority[0]&&t.authority[0].literal&&(i=t.authority[0].literal)),i&&(this.lang&&e.locale[this.lang].opts[o]&&e.locale[this.lang].opts[o][s]&&e.locale[this.lang].opts[o][s][i]?r=e.locale[this.lang].opts[o][s][i]:e.locale[e.opt["default-locale"][0]].opts[o]&&e.locale[e.opt["default-locale"][0]].opts[o][s]&&e.locale[e.opt["default-locale"][0]].opts[o][s][i]&&(r=e.locale[e.opt["default-locale"][0]].opts[o][s][i])),r},SET_COURT_CLASSES:function(e,t,n,r){for(var i=n.getNodesByName(r,"court-class"),s=0,o=n.numberofnodes(i);s<o;s+=1){var a=i[s],l=n.attributes(a),u=l["@name"],c=l["@country"],h=l["@courts"],p="court_key_classes";if(e.registry&&(p="court_condition_classes"),u&&c&&h){h=h.trim().split(/\s+/),e.locale[t].opts[p]||(e.locale[t].opts[p]={}),e.locale[t].opts[p][c]||(e.locale[t].opts[p][c]={});for(var d=0,m=h.length;d<m;d++)e.locale[t].opts[p][c][h[d]]=u}}},INIT_JURISDICTION_MACROS:function(e,n,r,i){if(n["best-jurisdiction"])return!0;if(!e.sys.retrieveStyleModule||!t.MODULE_MACROS[i]||!n.jurisdiction)return!1;var s=e.getJurisdictionList(n.jurisdiction);if(!e.opt.jurisdictions_seen[s[0]]){var o=e.retrieveAllStyleModules(s);for(var a in o){var l=e.loadStyleModule(a,o[a]);l&&(o[l]||(Object.assign(o,e.retrieveAllStyleModules([l])),e.loadStyleModule(l,o[l],!0)))}}s=e.getJurisdictionList(n.jurisdiction);e.opt.parallel.enable&&(e.parallel||(e.parallel=new t.Parallel(e)));for(var u=0,c=s.length;u<c;u++){a=s[u];if(r&&e.juris[a]&&!r["best-jurisdiction"]&&e.juris[a].types.locator&&(n["best-jurisdiction"]=a),e.juris[a]&&e.juris[a].types[n.type])return n["best-jurisdiction"]=a,!0}return!1},XmlJSON:function(e){this.dataObj=e,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}}};t.XmlJSON.prototype.clean=function(e){return e},t.XmlJSON.prototype.getStyleId=function(e,t){var n="id";t&&(n="title");for(var r="",i=e.children,s=0,o=i.length;s<o;s++)if("info"===i[s].name)for(var a=i[s].children,l=0,u=a.length;l<u;l++)a[l].name===n&&(r=a[l].children[0]);return r},t.XmlJSON.prototype.children=function(e){return!(!e||!e.children.length)&&e.children.slice()},t.XmlJSON.prototype.nodename=function(e){return e?e.name:null},t.XmlJSON.prototype.attributes=function(e){var t={};for(var n in e.attrs)t["@"+n]=e.attrs[n];return t},t.XmlJSON.prototype.content=function(e){var t="";if(!e||!e.children)return t;for(var n=0,r=e.children.length;n<r;n+=1)"string"===typeof e.children[n]&&(t+=e.children[n]);return t},t.XmlJSON.prototype.namespace={},t.XmlJSON.prototype.numberofnodes=function(e){return e&&"number"==typeof e.length?e.length:0},t.XmlJSON.prototype.getAttributeValue=function(e,t,n){var r="";return n&&(t=n+":"+t),e&&e.attrs&&(r=e.attrs[t]?e.attrs[t]:""),r},t.XmlJSON.prototype.getNodeValue=function(e,t){var n="";if(t)for(var r=0,i=e.children.length;r<i;r+=1)e.children[r].name===t&&(n=e.children[r].children.length?e.children[r]:"");else e&&(n=e);return n&&n.children&&1==n.children.length&&"string"===typeof n.children[0]&&(n=n.children[0]),n},t.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,n,r,i){"@"===r.slice(0,1)&&(r=r.slice(1));for(var s=0,o=e.children.length;s<o;s+=1)e.children[s].name===t&&e.children[s].attrs.name===n&&(e.children[s].attrs[r]=i)},t.XmlJSON.prototype.deleteNodeByNameAttribute=function(e,t){var n,r;for(n=0,r=e.children.length;n<r;n+=1)e.children[n]&&"string"!==typeof e.children[n]&&e.children[n].attrs.name==t&&(e.children=e.children.slice(0,n).concat(e.children.slice(n+1)))},t.XmlJSON.prototype.deleteAttribute=function(e,t){"undefined"!==typeof e.attrs[t]&&e.attrs.pop(t)},t.XmlJSON.prototype.setAttribute=function(e,t,n){return e.attrs[t]=n,!1},t.XmlJSON.prototype.nodeCopy=function(e,t){if(!t)t={};if("object"===typeof t&&"undefined"===typeof t.length)for(var n in e)"string"===typeof e[n]?t[n]=e[n]:"object"===typeof e[n]&&("undefined"===typeof e[n].length?t[n]=this.nodeCopy(e[n],{}):t[n]=this.nodeCopy(e[n],[]));else for(var r=0,i=e.length;r<i;r+=1)"string"===typeof e[r]?t[r]=e[r]:t[r]=this.nodeCopy(e[r],{});return t},t.XmlJSON.prototype.getNodesByName=function(e,t,n,r){if(!r)r=[];if(!e||!e.children)return r;t===e.name&&(n?n===e.attrs.name&&r.push(e):r.push(e));for(var i=0,s=e.children.length;i<s;i+=1)"object"===typeof e.children[i]&&this.getNodesByName(e.children[i],t,n,r);return r},t.XmlJSON.prototype.nodeNameIs=function(e,t){return"undefined"!==typeof e&&t==e.name},t.XmlJSON.prototype.makeXml=function(e){return"string"===typeof e&&(e="<"===e.slice(0,1)?this.jsonStringWalker.walkToObject(e):JSON.parse(e)),e},t.XmlJSON.prototype.insertChildNodeAfter=function(e,t,n,r){for(var i=0,s=e.children.length;i<s;i+=1)if(t===e.children[i]){e.children=e.children.slice(0,i).concat([r]).concat(e.children.slice(i+1));break}return e},t.XmlJSON.prototype.insertPublisherAndPlace=function(e){if("group"===e.name){for(var t=!0,n=["publisher","publisher-place"],r=0,i=e.children.length;r<i;r+=1){var s=n.indexOf(e.children[r].attrs.variable);if(!("text"===e.children[r].name&&s>-1)||e.children[r].attrs.prefix||e.children[r].attrs.suffix){t=!1;break}n=n.slice(0,s).concat(n.slice(s+1))}t&&!n.length&&(e.attrs["has-publisher-and-publisher-place"]=!0)}for(r=0,i=e.children.length;r<i;r+=1)"object"===typeof e.children[r]&&this.insertPublisherAndPlace(e.children[r])},t.XmlJSON.prototype.isChildOfSubstitute=function(e){if(e.length>0){var t=e.slice();return"substitute"===t.pop()||this.isChildOfSubstitute(t)}return!1},t.XmlJSON.prototype.addMissingNameNodes=function(e,t){if(t||(t=[]),"names"===e.name&&!this.isChildOfSubstitute(t)){for(var n=!0,r=0,i=e.children.length;r<i;r++)if("name"===e.children[r].name){n=!1;break}n&&(e.children=[{name:"name",attrs:{},children:[]}].concat(e.children))}t.push(e.name);for(r=0,i=e.children.length;r<i;r+=1)"object"===typeof e.children[r]&&this.addMissingNameNodes(e.children[r],t);t.pop()},t.XmlJSON.prototype.addInstitutionNodes=function(e){if("names"===e.name){for(var n={},r=-1,i=0,s=e.children.length;i<s;i+=1){if("name"==e.children[i].name){for(var o in e.children[i].attrs)n[o]=e.children[i].attrs[o];n.delimiter=e.children[i].attrs.delimiter,n.and=e.children[i].attrs.and,r=i;for(var a=0,l=e.children[i].children.length;a<l;a+=1)if("family"===e.children[i].children[a].attrs.name)for(var o in e.children[i].children[a].attrs)n[o]=e.children[i].children[a].attrs[o]}if("institution"==e.children[i].name){r=-1;break}}if(r>-1){var u=this.nodeCopy(this.institution);for(i=0,s=t.INSTITUTION_KEYS.length;i<s;i+=1){var c=t.INSTITUTION_KEYS[i];"undefined"!==typeof n[c]&&(u.children[0].attrs[c]=n[c]),n.delimiter&&(u.attrs.delimiter=n.delimiter),n.and&&(u.attrs.and=n.and)}e.children=e.children.slice(0,r+1).concat([u]).concat(e.children.slice(r+1))}}for(i=0,s=e.children.length;i<s;i+=1)"string"!==typeof e.children[i]&&this.addInstitutionNodes(e.children[i])},t.XmlJSON.prototype.flagDateMacros=function(e){for(var t=0,n=e.children.length;t<n;t+=1)"macro"===e.children[t].name&&this.inspectDateMacros(e.children[t])&&(e.children[t].attrs["macro-has-date"]="true")},t.XmlJSON.prototype.inspectDateMacros=function(e){if(!e||!e.children)return!1;if("date"===e.name)return!0;for(var t=0,n=e.children.length;t<n;t+=1)if(this.inspectDateMacros(e.children[t]))return!0;return!1},t.stripXmlProcessingInstruction=function(e){return e?e=(e=(e=(e=e.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):e},t.parseXml=function(e){var t={children:[]},n=[t.children];function r(e){return e.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,(function(e,t){var n=parseInt(t,10);return String.fromCharCode(n)})).replace(/&#x([a-f0-9]{1,6});/gi,(function(e,t){var n=parseInt(t,16);return String.fromCharCode(n)}))}function i(e,t){var n=RegExp("^.*[\t ]+"+t+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),r=e.match(n);return r?r[1].slice(1,-1):null}function s(e){var t=RegExp("^<([^\t />]+)"),n=e.match(t);return n?n[1]:null}function o(e){var t={};t.name=s(e),t.attrs={};var n=function(e){var t=e.match(/([^\'\"=\x09 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(t)for(var n=0,r=t.length;n<r;n++)t[n]=t[n].replace(/=.*/,"");return t}(e);if(n)for(var o=0,a=n.length;o<a;o++){var l={name:n[o],value:i(e,n[o])};t.attrs[l.name]=r(l.value)}return t.children=[],t}function a(e){return r(e.match(/^.*>([^<]*)<.*$/)[1])}function l(e){n.slice(-1)[0].push(e)}function u(e){var t;e.slice(1).indexOf("<")>-1?((t=o(e.slice(0,e.indexOf(">")+1))).children=[a(e)],l(t)):"/>"===e.slice(-2)?(t=o(e),"term"===s(e)&&t.children.push(""),l(t)):"</"===e.slice(0,2)?n.pop():(l(t=o(e)),function(e){n.push(e.children)}(t))}for(var c=function(e){for(var t=(e=e.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[\x09 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),n=null,r=0,i=t.length;r<i;r++)r>0&&(t[r]="<"+t[r]),r<t.length-1&&(t[r]=t[r]+">"),"number"!=typeof n&&("<style "!==t[r].slice(0,7)&&"<locale "!=t[r].slice(0,8)||(n=r));for(r=(t=t.slice(n)).length-2;r>-1;r--)if(-1===t[r].slice(1).indexOf("<")){var s=t[r].slice(0,5);"/>"!==t[r].slice(-2)&&("<term"===s?"</term"===t[r+1].slice(0,6)&&(t[r]=t[r]+t[r+1],t=t.slice(0,r+1).concat(t.slice(r+2))):["<sing","<mult"].indexOf(s)>-1&&"/>"!==t[r].slice(-2)&&"<"===t[r+1].slice(0,1)&&(t[r]=t[r]+t[r+1],t=t.slice(0,r+1).concat(t.slice(r+2))))}return t}(e),h=0,p=c.length;h<p;h++){u(c[h])}return t.children[0]},t.XmlDOM=function(e){this.dataObj=e,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(e,t){var n;return"undefined"!=typeof ActiveXObject?((n=new ActiveXObject("MSXML.DomDocument")).async=!1,n.loadXML(e),n):"undefined"!=typeof XMLHttpRequest?(t||(t="text/xml"),(n=new XMLHttpRequest).open("GET","data:"+t+";charset=utf-8,"+encodeURIComponent(e),!1),n.overrideMimeType&&n.overrideMimeType(t),n.send(null),n.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(e):void 0},this.hasAttributes=function(e){return!(!e.attributes||!e.attributes.length)}):this.hasAttributes=function(e){return!(!e.attributes||!e.attributes.length)},this.importNode=function(e,t){return"undefined"==typeof e.importNode?this._importNode(e,t,!0):e.importNode(t,!0)},this._importNode=function(e,t,n){if(1===t.nodeType){var r=e.createElement(t.nodeName);if(t.attributes&&t.attributes.length>0)for(var i=0,s=t.attributes.length;i<s;)r.setAttribute(t.attributes[i].nodeName,t.getAttribute(t.attributes[i++].nodeName));if(n&&t.childNodes&&t.childNodes.length>0)for(i=0,s=t.childNodes.length;i<s;)r.appendChild(this._importNode(e,t.childNodes[i++],n));return r}},this.parser=new DOMParser;var t=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),n=t.getElementsByTagName("institution");this.institution=n.item(0);var r=t.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},t.XmlDOM.prototype.clean=function(e){return e=(e=(e=(e=(e=e.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},t.XmlDOM.prototype.getStyleId=function(e,t){var n="",r="id";t&&(r="title");var i=e.getElementsByTagName(r);return i&&i.length&&(i=i.item(0)),i&&(n=i.textContent),n||(n=i.innerText),n||(n=i.innerHTML),n},t.XmlDOM.prototype.children=function(e){var t,n,r,i;if(e){for(i=[],n=0,r=(t=e.childNodes).length;n<r;n+=1)"#text"!=t[n].nodeName&&i.push(t[n]);return i}return[]},t.XmlDOM.prototype.nodename=function(e){return e.nodeName},t.XmlDOM.prototype.attributes=function(e){var t,n,r,i,s;if(t=new Object,e&&this.hasAttributes(e))for(i=0,s=(n=e.attributes).length;i<s;i+=1)t["@"+(r=n[i]).name]=r.value;return t},t.XmlDOM.prototype.content=function(e){return"undefined"!=typeof e.textContent?e.textContent:"undefined"!=typeof e.innerText?e.innerText:e.txt},t.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},t.XmlDOM.prototype.numberofnodes=function(e){return e?e.length:0},t.XmlDOM.prototype.getAttributeName=function(e){return e.name},t.XmlDOM.prototype.getAttributeValue=function(e,t,n){var r="";return n&&(t=n+":"+t),e&&this.hasAttributes(e)&&e.getAttribute(t)&&(r=e.getAttribute(t)),r},t.XmlDOM.prototype.getNodeValue=function(e,t){var n=null;if(t){var r=e.getElementsByTagName(t);r.length>0&&(n="undefined"!=typeof r[0].textContent?r[0].textContent:"undefined"!=typeof r[0].innerText?r[0].innerText:r[0].text)}return null===n&&e&&e.childNodes&&(0==e.childNodes.length||1==e.childNodes.length&&"#text"==e.firstChild.nodeName)&&(n="undefined"!=typeof e.textContent?e.textContent:"undefined"!=typeof e.innerText?e.innerText:e.text),null===n&&(n=e),n},t.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,n,r,i){var s,o,a,l;for("@"===r.slice(0,1)&&(r=r.slice(1)),s=0,o=(a=e.getElementsByTagName(t)).length;s<o;s+=1)(l=a[s]).getAttribute("name")==n&&l.setAttribute(r,i)},t.XmlDOM.prototype.deleteNodeByNameAttribute=function(e,t){var n,r,i,s;for(n=0,r=(s=e.childNodes).length;n<r;n+=1)(i=s[n])&&i.nodeType!=i.TEXT_NODE&&this.hasAttributes(i)&&i.getAttribute("name")==t&&e.removeChild(s[n])},t.XmlDOM.prototype.deleteAttribute=function(e,t){e.removeAttribute(t)},t.XmlDOM.prototype.setAttribute=function(e,t,n){return e.ownerDocument||(e=e.firstChild),["function","unknown"].indexOf(typeof e.setAttribute)>-1&&e.setAttribute(t,n),!1},t.XmlDOM.prototype.nodeCopy=function(e){return e.cloneNode(!0)},t.XmlDOM.prototype.getNodesByName=function(e,t,n){var r,i,s,o,a;for(r=[],o=0,a=(i=e.getElementsByTagName(t)).length;o<a;o+=1)s=i.item(o),(!n||this.hasAttributes(s)&&s.getAttribute("name")==n)&&r.push(s);return r},t.XmlDOM.prototype.nodeNameIs=function(e,t){return t==e.nodeName},t.XmlDOM.prototype.makeXml=function(e){return e||(e="<docco><bogus/></docco>"),e=e.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(e,"application/xml").firstChild},t.XmlDOM.prototype.insertChildNodeAfter=function(e,t,n,r){var i;return i=this.importNode(t.ownerDocument,r),e.replaceChild(i,t),e},t.XmlDOM.prototype.insertPublisherAndPlace=function(e){for(var t=e.getElementsByTagName("group"),n=0,r=t.length;n<r;n+=1){for(var i=t.item(n),s=[],o=0,a=i.childNodes.length;o<a;o+=1)1!==i.childNodes.item(o).nodeType&&s.push(o);if(i.childNodes.length-s.length===2){var l=[];for(o=0,a=2;o<a;o+=1)if(!(s.indexOf(o)>-1)){for(var u=i.childNodes.item(o),c=[],h=0,p=u.childNodes.length;h<p;h+=1)1!==u.childNodes.item(h).nodeType&&c.push(h);if(u.childNodes.length-c.length===0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&i.setAttribute("has-publisher-and-publisher-place",!0)}}},t.XmlDOM.prototype.isChildOfSubstitute=function(e){return!!e.parentNode&&("substitute"===e.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(e.parentNode))},t.XmlDOM.prototype.addMissingNameNodes=function(e){for(var t=e.getElementsByTagName("names"),n=0,r=t.length;n<r;n+=1){var i=t.item(n),s=i.getElementsByTagName("name");if((!s||0===s.length)&&!this.isChildOfSubstitute(i)){var o=i.ownerDocument.createElement("name");i.appendChild(o)}}},t.XmlDOM.prototype.addInstitutionNodes=function(e){var n,r,i,s,o,a,l,u;for(l=0,u=(n=e.getElementsByTagName("names")).length;l<u;l+=1)if(0!=(o=(r=n.item(l)).getElementsByTagName("name")).length&&0==r.getElementsByTagName("institution").length){s=(i=this.importNode(e.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),a=o.item(0),r.insertBefore(i,a.nextSibling);for(var c=0,h=t.INSTITUTION_KEYS.length;c<h;c+=1){var p=t.INSTITUTION_KEYS[c];(g=a.getAttribute(p))&&s.setAttribute(p,g)}var d=a.getElementsByTagName("name-part");for(c=0,h=d.length;c<h;c+=1)if("family"===d[c].getAttribute("name"))for(var m=0,f=t.INSTITUTION_KEYS.length;m<f;m+=1){var g;p=t.INSTITUTION_KEYS[m];(g=d[c].getAttribute(p))&&s.setAttribute(p,g)}}},t.XmlDOM.prototype.flagDateMacros=function(e){var t,n,r,i=e.getElementsByTagName("macro");for(t=0,n=i.length;t<n;t+=1)(r=i.item(t)).getElementsByTagName("date").length&&r.setAttribute("macro-has-date","true")},t.setupXml=function(e){var n={},r=null;return"undefined"!==typeof e?"string"===typeof e?(n="<"===(e=e.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?t.parseXml(e):JSON.parse(e),r=new t.XmlJSON(n)):r="undefined"!==typeof e.getAttribute?new t.XmlDOM(e):"undefined"!==typeof e.toXMLString?new t.XmlE4X(e):new t.XmlJSON(e):t.error("unable to parse XML input"),r||t.error("citeproc-js error: unable to parse CSL style or locale object"),r},t.getSortCompare=function(e){if(t.stringCompare)return t.stringCompare;var n,r=this,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};e||(e="en-US");var s=function(e){return e.replace(/^[\[\]\'\"]*/g,"")},o=!!(n=function(n,s){return t.toLocaleLowerCase.call(r,n).localeCompare(t.toLocaleLowerCase.call(r,s),e,i)})("[x","x")&&function(e,t){return n(s(e),s(t))};return function(e,t){return o?o(e,t):n(e,t)}},t.ambigConfigDiff=function(e,t){var n,r,i,s;if(e.names.length!==t.names.length)return 1;for(n=0,r=e.names.length;n<r;n+=1){if(e.names[n]!==t.names[n])return 1;for(i=0,s=e.givens[n];i<s;i+=1)if(e.givens[n][i]!==t.givens[n][i])return 1}return e.disambiguate!=t.disambiguate||e.year_suffix!==t.year_suffix?1:0},t.cloneAmbigConfig=function(e,t){var n,r,i,s,o,a={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(n=0,r=e.names.length;n<r;n+=1)o=e.names[n],a.names[n]=o;for(n=0,r=e.givens.length;n<r;n+=1){for(o=[],i=0,s=e.givens[n].length;i<s;i+=1)o.push(e.givens[n][i]);a.givens.push(o)}return t?(a.year_suffix=t.year_suffix,a.disambiguate=t.disambiguate):(a.year_suffix=e.year_suffix,a.disambiguate=e.disambiguate),a},t.getAmbigConfig=function(){var e;return(e=this.tmp.disambig_request)||(e=this.tmp.disambig_settings),t.cloneAmbigConfig(e)},t.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},t.getMinVal=function(){return this.tmp["et-al-min"]},t.tokenExec=function(e,t,n){var r,i;r=e.next,i=!1;e.test&&(r=function(t){return t?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)}.call(this,e.test(t,n)));for(var s=0,o=e.execs.length;s<o;s++)(i=e.execs[s].call(e,this,t,n))&&(r=i);return r},t.expandMacro=function(e,n){var r,i,s;r=e.postponed_macro;var o=e.strings.sort_direction;e=new t.Token("group",t.START);var a=!1,l=!1;(i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",r)).length&&(l=this.cslXml.getAttributeValue(i[0],"cslid"),a=this.cslXml.getAttributeValue(i[0],"macro-has-date")),a&&(r=r+"@"+this.build.current_default_locale,h=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!0)},e.execs.push(h)),this.build.macro_stack.indexOf(r)>-1?t.error('CSL processor error: call to macro "'+r+'" would cause an infinite loop'):this.build.macro_stack.push(r),e.cslid=l,t.MODULE_MACROS[r]&&(e.juris=r,this.opt.update_mode=t.POSITION),t.Node.group.build.call(e,this,n,!0),this.cslXml.getNodeValue(i)||t.error('CSL style error: undefined macro "'+r+'"');var u,c=t.getMacroTarget.call(this,r);if(c&&(t.buildMacro.call(this,c,i),t.configureMacro.call(this,c)),!this.build.extension){var h=(u=r,function(e,n,r){for(var i=0;i<e.macros[u].length;)i=t.tokenExec.call(e,e.macros[u][i],n,r)}),p=new t.Token("text",t.SINGLETON);p.execs.push(h),n.push(p)}(s=new t.Token("group",t.END)).strings.sort_direction=o,a&&(h=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!1)},s.execs.push(h)),e.juris&&(s.juris=r),t.Node.group.build.call(s,this,n,!0),this.build.macro_stack.pop()},t.getMacroTarget=function(e){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[e]||(t=[],this.macros[e]=t),t},t.buildMacro=function(e,n){t.makeBuilder(this,e)("undefined"===typeof n.length?n:n[0])},t.configureMacro=function(e){this.build.extension||this.configureTokenList(e)},t.XmlToToken=function(e,n,r,i){var s,o,a,l,u,c;if(s=e.cslXml.nodename(this),!e.build.skip||e.build.skip===s)if(s){if(t.Node[e.cslXml.nodename(this)]||t.error('Undefined node name "'+s+'".'),a=e.cslXml.attributes(this),l=t.setDecorations.call(this,e,a),u=new t.Token(s,n),n!==t.END||"if"===s||"else-if"===s||"layout"===s){for(var h in a)if(a.hasOwnProperty(h)){if(n===t.END&&"@language"!==h&&"@locale"!==h)continue;if(a.hasOwnProperty(h))if(t.Attributes[h])try{t.Attributes[h].call(u,e,""+a[h])}catch(p){t.error(h+" attribute: "+p)}else t.debug('warning: undefined attribute "'+h+'" in style')}u.decorations=l,t.DATE_VARIABLES.indexOf(a["@variable"])>-1&&i.push(u.variables)}else n===t.END&&a["@variable"]&&(u.hasVariable=!0,t.DATE_VARIABLES.indexOf(a["@variable"])>-1&&(u.variables=i.pop()));c=r||e[e.build.area].tokens,t.Node[s].build.call(u,e,c,!0)}else(o=e.cslXml.content(this))&&(e.build.text=o)},t.DateParser=function(){for(var e=[["\u660e\u6cbb",1867],["\u5927\u6b63",1911],["\u662d\u548c",1925],["\u5e73\u6210",1988]],n={},r=0,i=e.length;r<i;r++){var s=e[r][0],o=e[r][1];n[s]=o}var a=[],l={};for(r=0,i=e.length;r<i;r++){var u=e[r];o=u[0];a.push(o),l[u[0]]=u[1]}var c=a.join("|"),h=new RegExp("(?:"+c+")(?:[0-9]+)"),p=new RegExp("(?:"+c+")(?:[0-9]+)","g"),d=/(\u6708|\u5E74)/g,m=/\u65E5/g,f=/\u301c/g,g="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",b=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),y=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),v=new RegExp(g.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var e=0,t=this.monthStrings.length;e<t;e++)this.monthSets.push([this.monthStrings[e]]);this.monthAbbrevs=[];for(e=0,t=this.monthSets.length;e<t;e++){this.monthAbbrevs.push([]);for(var n=0,r=this.monthSets[e].length;n<r;n++)this.monthAbbrevs[e].push(this.monthSets[e][0].slice(0,3))}this.monthRexes=[];for(e=0,t=this.monthAbbrevs.length;e<t;e++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[e].join("|")+")"))},this.addDateParserMonths=function(e){if("string"===typeof e&&(e=e.split(/\s+/)),12===e.length||16===e.length){for(var n=0,r=e.length;n<r;n++){for(var i=null,s=!1,o=3,a={},l=0,u=this.monthAbbrevs.length;l<u;l++){if(a[l]={},l===n){for(var c=0,h=this.monthAbbrevs[n].length;c<h;c++)if(this.monthAbbrevs[n][c]===e[n].slice(0,this.monthAbbrevs[n][c].length)){s=!0;break}}else for(c=0,h=this.monthAbbrevs[l].length;c<h;c++)if(i=this.monthAbbrevs[l][c].length,this.monthAbbrevs[l][c]===e[n].slice(0,i)){for(;this.monthSets[l][c].slice(0,i)===e[n].slice(0,i);){if(i>e[n].length||i>this.monthSets[l][c].length){t.debug("unable to disambiguate month string in date parser: "+e[n]);break}i+=1}o=i,a[l][c]=i}for(var p in a)for(var d in a[p])i=a[p][d],p=parseInt(p,10),d=parseInt(d,10),this.monthAbbrevs[p][d]=this.monthSets[p][d].slice(0,i)}s||(this.monthSets[n].push(e[n]),this.monthAbbrevs[n].push(e[n].slice(0,o)))}this.monthRexes=[],this.monthRexStrs=[];for(n=0,r=this.monthAbbrevs.length;n<r;n++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[n].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[n].join("|")+")");if(18===this.monthAbbrevs.length)for(n=12,r=14;n<r;n++)this.monthRexes[n+4]=new RegExp("^(?:"+this.monthAbbrevs[n].join("|")+")"),this.monthRexStrs[n+4]="^(?:"+this.monthAbbrevs[n].join("|")+")"}else t.debug("month [+season] list of "+e.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(e){e["date-parts"]=[],e["date-parts"].push([]);for(var t,n=0,r=0,i=3;r<i&&e[t=["year","month","day"][r]];r++)n+=1,e["date-parts"][0].push(e[t]),delete e[t];e["date-parts"].push([]);for(r=0,i=n;r<i&&e[t=["year_end","month_end","day_end"][r]];r++)e["date-parts"][1].push(e[t]),delete e[t];return e["date-parts"][0].length!==e["date-parts"][1].length&&e["date-parts"].pop(),e},this.convertDateObjectToString=function(e){for(var n=[],r=0;r<3&&e[t.DATE_PARTS_ALL[r]];r+=1)n.push(e[t.DATE_PARTS_ALL[r]]);return n.join("-")},this._parseNumericDate=function(e,t,n,r){n||(n="");for(var i=r.split(t),s=0,o=i.length;s<o;s++)if(4===i[s].length){e["year"+n]=i[s].replace(/^0*/,""),i=s?i.slice(0,s):i.slice(1);break}for(s=0,o=i.length;s<o;s++)i[s]=parseInt(i[s],10);if(1===i.length||2===i.length&&!i[1])(a=i[0])&&(e["month"+n]=""+i[0]);else if(2===i.length)if(i[this.monthGuess]>12){var a=i[this.dayGuess],l=i[this.monthGuess];a&&(e["month"+n]=""+a,l&&(e["day"+n]=""+l))}else{a=i[this.monthGuess],l=i[this.dayGuess];a&&(e["month"+n]=""+a,l&&(e["day"+n]=""+l))}},this.parseDateToObject=function(e){var n,r=e,i=-1,s=-1,o=!1;if(e){if("-"===(e=e.replace(/^(.*[0-9])T[0-9].*/,"$1")).slice(0,1)&&(o=!0,e=e.slice(1)),e.match(/^[0-9]{1,3}$/))for(;e.length<4;)e="0"+e;if(C=(e=(e=""+e).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(d)){var a=(e=(e=(e=(e=(e=(e=e.replace(/\s+/g,"")).replace(m,"")).replace(d,"-")).replace(f,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(h);n=[];var u=e.match(p);if(u){for(var c=[],g=0,_=u.length;g<_;g++)c=c.concat(u[g].match(/([^0-9]+)([0-9]+)/).slice(1));for(g=0,_=a.length;g<_;g++)if(n.push(a[g]),g!==_-1){var E=2*g;n.push(c[E]),n.push(c[E+1])}}else n=a;for(g=1,_=n.length;g<_;g+=3)n[g+1]=l[n[g]]+parseInt(n[g+1],10),n[g]="";i=(e=(e=(e=(e=n.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=e.indexOf("-")}}var T,x,w="",A="",S={};if('"'===(e=e.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===e.slice(-1))return S.literal=e.slice(1,-1),S;i>-1&&s>-1?e.split("/").length>3?(T="-",x="/",n=(e=e.replace(/\_/g,"-")).split(v)):(T="/",x="-",n=(e=e.replace(/\_/g,"/")).split(y)):(T="-",x="-",n=(e=(e=e.replace(/\//g,"-")).replace(/\_/g,"-")).split(b));var k=[];for(g=0,_=n.length;g<_;g++){var C;(C=n[g].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&k.push(C[1])}var I=k.indexOf(T),N=[],O=!1;I>-1?(N.push([0,I]),N.push([I+1,k.length]),O=!0):N.push([0,k.length]);var R="";for(g=0,_=N.length;g<_;g++){var D=N[g],P=k.slice(D[0],D[1]);e:for(var L=0,M=P.length;L<M;L++){var F=P[L];if(F.indexOf(x)>-1)this._parseNumericDate(S,x,R,F);else if(F.match(/[0-9]{4}/))S["year"+R]=F.replace(/^0*/,"");else{("~"===F||"?"===F||"c"===F||F.match(/^cir/))&&(S.circa=!0);for(var j=0,B=this.monthRexes.length;j<B;j++)if(F.toLocaleLowerCase().match(this.monthRexes[j])){S["month"+R]=""+(parseInt(j,10)+1);continue e}F.match(/^[0-9]+$/)&&(w=F),F.toLocaleLowerCase().match(/^bc/)&&w?(S["year"+R]=""+-1*w,w=""):F.toLocaleLowerCase().match(/^ad/)&&w?(S["year"+R]=""+w,w=""):!F.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||S["season"+R]||(A=F)}}w&&(S["day"+R]=w,w=""),A&&!S["season"+R]&&(S["season"+R]=A.trim(),A=""),R="_end"}if(O)for(L=0,M=t.DATE_PARTS_ALL.length;L<M;L++){var U=t.DATE_PARTS_ALL[L];S[U]&&!S[U+"_end"]?S[U+"_end"]=S[U]:!S[U]&&S[U+"_end"]&&(S[U]=S[U+"_end"])}(!S.year||S.year&&S.day&&!S.month)&&(S={literal:r});var H=["year","month","day","year_end","month_end","day_end"];for(g=0,_=H.length;g<_;g++){var q=H[g];"string"===typeof S[q]&&S[q].match(/^[0-9]+$/)&&(S[q]=parseInt(S[q],10))}return o&&Object.keys(S).indexOf("year")>-1&&(S.year=-1*S.year),S},this.parseDateToArray=function(e){return this.convertDateObjectToArray(this.parseDateToObject(e))},this.parseDateToString=function(e){return this.convertDateObjectToString(this.parseDateToObject(e))},this.parse=function(e){return this.parseDateToObject(e)},this.setOrderMonthDay(),this.resetDateParserMonths()},t.DateParser=new t.DateParser,t.Engine=function(e,n,r,i){var s,o;for(var a in this.processor_version=t.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=e,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},writable:!0,configurable:!0}),e.variableWrapper&&(t.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(t.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),t.retrieveStyleModule&&(this.sys.retrieveStyleModule=t.retrieveStyleModule),t.getAbbreviation&&(this.sys.getAbbreviation=t.getAbbreviation),this.sys.stringCompare&&(t.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=t.AbbreviationSegments,this.transform=new t.Transform(this),this.setParseNames=function(e){this.opt["parse-names"]=e},this.opt=new t.Engine.Opt,this.tmp=new t.Engine.Tmp,this.build=new t.Engine.Build,this.fun=new t.Engine.Fun(this),this.configure=new t.Engine.Configure,this.citation_sort=new t.Engine.CitationSort,this.bibliography_sort=new t.Engine.BibliographySort,this.citation=new t.Engine.Citation(this),this.bibliography=new t.Engine.Bibliography,this.intext=new t.Engine.InText,this.output=new t.Output.Queue(this),this.dateput=new t.Output.Queue(this),this.cslXml=t.setupXml(n),t.SYS_OPTIONS){var l=t.SYS_OPTIONS[a];"boolean"===typeof this.sys[l]&&(this.opt.development_extensions[l]=this.sys[l])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(e,t){var n=this.cslXml.children(e);this.cslXml.setAttribute(e,"cslid",this.build.cslNodeId),this.opt.nodenames.push(t),this.build.cslNodeId+=1;for(var r=0,i=this.cslXml.numberofnodes(n);r<i;r+=1)(t=this.cslXml.nodename(n[r]))&&this.setCslNodeIds(n[r],t)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),"undefined"===typeof this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),r&&(r=r.replace("_","-"),r=t.normalizeLocaleStr(r)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=t.normalizeLocaleStr(this.opt["default-locale"][0])),r&&i&&(this.opt["default-locale"]=[r]),r&&!i&&this.opt["default-locale"][0]&&(r=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(r||(r="en-US"),this.opt["default-locale"].push("en-US")),r||(r=this.opt["default-locale"][0]),s=t.localeResolve(r),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=(o=(o=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+o.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new t.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new t.Registry(this),this.macros={},this.build.area="citation";var u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="bibliography";u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.build.area="intext";u=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(u,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new t.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new t.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=t.DateParser,this.fun.flipflopper=new t.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=t.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=t.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},t.Engine.prototype.setCloseQuotesArray=function(){var e;(e=[]).push(this.getTerm("close-quote")),e.push(this.getTerm("close-inner-quote")),e.push('"'),e.push("'"),this.opt.close_quotes_array=e},t.makeBuilder=function(e,n){var r=[],i=[];function s(s){i.push(s),t.XmlToToken.call(s,e,t.START,n,r)}function o(){var s=i.pop();t.XmlToToken.call(s,e,t.END,n,r)}function a(i){t.XmlToToken.call(i,e,t.SINGLETON,n,r)}return function n(r,i,l){l||(l=[]),r||(r=[]),"undefined"===typeof r.length&&(r=[r]);for(var u=0;u<r.length;u++){var c=r[u];null!==e.cslXml.nodename(c)&&(i&&"date"===e.cslXml.nodename(c)&&(t.Util.fixDateNode.call(e,i,u,c),c=e.cslXml.children(i)[u]),e.cslXml.numberofnodes(e.cslXml.children(c))?(s(c),n(e.cslXml.children(c),c,l),o()):a(c))}}},t.Engine.prototype.buildTokenLists=function(e,n){this.cslXml.getNodeValue(e)&&t.makeBuilder(this,n)("undefined"===typeof e.length?e:e[0])},t.Engine.prototype.setStyleAttributes=function(){var e,n,r={};for(n in r.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj))e.hasOwnProperty(n)&&t.Attributes[n].call(r,this,e[n])},t.Engine.prototype.getTerm=function(e,n,r,i,s,o){var a;e&&e.match(/[A-Z]/)&&e===e.toUpperCase()&&(t.debug("Warning: term key is in uppercase form: "+e),e=e.toLowerCase()),a=o?this.opt["default-locale"][0]:this.opt.lang;var l=t.Engine.getField(t.LOOSE,this.locale[a].terms,e,n,r,i);return l||"range-delimiter"!==e||(l="\u2013"),"undefined"===typeof l&&(s===t.STRICT?t.error('Error in getTerm: term "'+e+'" does not exist.'):s===t.TOLERANT&&(l="")),l&&(this.tmp.cite_renders_content=!0),l},t.Engine.prototype.getDate=function(e,t){var n;return n=t?this.opt["default-locale"]:this.opt.lang,!!this.locale[n].dates[e]&&this.locale[n].dates[e]},t.Engine.prototype.getOpt=function(e){return"undefined"!==typeof this.locale[this.opt.lang].opts[e]&&this.locale[this.opt.lang].opts[e]},t.Engine.prototype.getVariable=function(e,n,r,i){return t.Engine.getField(t.LOOSE,e,n,r,i)},t.Engine.prototype.getDateNum=function(e,t){return"undefined"===typeof e?0:e[t]},t.Engine.getField=function(e,n,r,i,s,o){var a,l,u,c,h,p;if(a="","undefined"===typeof n[r]){if(e!==t.STRICT)return;t.error('Error in getField: term "'+r+'" does not exist.')}for(p=o&&n[r][o]?n[r][o]:n[r],l=[],"symbol"===i?l=["symbol","short"]:"verb-short"===i?l=["verb-short","verb"]:"long"!==i&&(l=[i]),h=(l=l.concat(["long"])).length,c=0;c<h;c+=1)if(u=l[c],"string"===typeof p||"number"===typeof p)a=p;else if("undefined"!==typeof p[u]){a="string"===typeof p[u]||"number"===typeof p[u]?p[u]:"number"===typeof s?p[u][s]:p[u][0];break}return a},t.Engine.prototype.configureTokenLists=function(){var e,n;for(n=t.AREAS.length,e=0;e<n;e+=1){var r=this[t.AREAS[e]].tokens;this.configureTokenList(r)}return this.version=t.version,this.state},t.Engine.prototype.configureTokenList=function(e){var n,r,i,s,o,a;for(n=["year","month","day"],s=e.length-1;s>-1;s+=-1){if("date"===(r=e[s]).name&&t.END===r.tokentype&&(i=[]),"date-part"===r.name&&r.strings.name)for(a=n.length,o=0;o<a;o+=1)n[o]===r.strings.name&&i.push(r.strings.name);"date"===r.name&&t.START===r.tokentype&&(i.reverse(),r.dateparts=i),r.next=s+1,r.name&&t.Node[r.name].configure&&t.Node[r.name].configure.call(r,this,s)}},t.Engine.prototype.refetchItems=function(e){for(var t=[],n=0,r=e.length;n<r;n+=1)t.push(this.refetchItem(""+e[n]));return t},t.ITERATION=0,t.Engine.prototype.retrieveItem=function(e){var n,r;if(this.tmp.loadedItemIDs[e])return this.registry.refhash[e];if(this.tmp.loadedItemIDs[e]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"===typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var i=0,s=this.opt["default-locale"].length;i<s;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(i=0,s=this.opt["locale-translit"].length;i<s;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(i=0,s=this.opt["locale-translat"].length;i<s;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(t.ITERATION+=1,n=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+e))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(n.multi){if(n.multi._keys)for(var o in n.multi._keys)for(var a in n.multi._keys[o])a!==a.toLowerCase()&&(n.multi._keys[o][a.toLowerCase()]=n.multi._keys[o][a],delete n.multi._keys[o][a]);if(n.multi.main)for(var o in n.multi.main)n.multi.main[o]=n.multi.main[o].toLowerCase()}for(i=0,s=t.NAME_VARIABLES.length;i>s;i+=1){var l=t.NAME_VARIABLES[i];if(n[l]&&n[l].multi)for(var u=0,c=n[l].length;u<c;u+=1){var h=n[l][u];if(h.multi){if(h.multi._key)for(var a in h.multi._key)a!==a.toLowerCase()&&(h.multi._key[a.toLowerCase()]=h.multi._key[a],delete h.multi._key[a]);h.multi.main&&(h.multi.main=h.multi.main.toLowerCase())}}}}n.language&&n.language.match(/[><]/)&&("<"===(r=n.language.match(/(.*?)([<>])(.*)/))[2]?(n["language-name"]=r[1],n["language-name-original"]=r[3]):(n["language-name"]=r[3],n["language-name-original"]=r[1]),this.opt.multi_layout?n["language-name-original"]&&(n.language=n["language-name-original"]):n["language-name"]&&(n.language=n["language-name"]));n.page&&(n["page-first"]=n.page,"\\"!==(r=(""+n.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(n["page-first"]=r[0]));for(var a in this.opt.development_extensions.field_hack&&n.note&&t.parseNoteFieldHacks(n,!1,this.opt.development_extensions.allow_field_hack_date_override),n)if(t.DATE_VARIABLES.indexOf(a.replace(/^alt-/,""))>-1){var p=n[a];p&&(this.opt.development_extensions.raw_date_parsing&&(!p.raw||p["date-parts"]&&0!==p["date-parts"].length||(p=this.fun.dateparser.parseDateToObject(p.raw))),n[a]=this.dateParseArray(p))}if(this.opt.development_extensions.consolidate_legal_items&&n.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)>-1){var d=[];for(i=0,s=(g=["type","title","jurisdiction","genre","volume","container-title"]).length;i<s;i+=1)n[f=g[i]]&&d.push(n[f]);for(i=0,s=(g=["original-date","issued"]).length;i<s;i+=1)if(n[f=g[i]]&&n[f].year){var m=n[f].year;d.push(m);break}n.legislation_id=d.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(n.type)>-1){var f,g,b=[];for(i=0,s=(g=["type","container-title","publisher","edition"]).length;i<s;i+=1)n[f=g[i]]&&b.push(n[f]);n.container_id=b.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"===typeof n.authority&&(n.authority=[{literal:n.authority,multi:{_key:{}}}],n.multi&&n.multi._keys&&n.multi._keys.authority))for(var a in n.authority[0].multi._key={},n.multi._keys.authority)n.authority[0].multi._key[a]={literal:n.multi._keys.authority[a]};if(n["title-short"]||(n["title-short"]=n.shortTitle),this.opt.development_extensions.main_title_from_short_title){var y="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();t.extractTitleAndSubtitle.call(this,n,y)}var v,_=["bill","legal_case","legislation","gazette","regulation"].indexOf(n.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&_&&(n.jurisdiction||(n.jurisdiction="us")),!_&&n.title&&this.sys.getAbbreviation){n.jurisdiction||!0,v=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey("title",n.title):n.title;var E=this.transform.loadAbbreviation(n.jurisdiction,"title",v,n.language);this.transform.abbrevs[E].title&&this.transform.abbrevs[E].title[v]&&(n["title-short"]=this.transform.abbrevs[E].title[v])}if(n["container-title-short"]||(n["container-title-short"]=n.journalAbbreviation),n["container-title"]&&this.sys.getAbbreviation){v=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(n["container-title"]):n["container-title"];E=this.transform.loadAbbreviation(n.jurisdiction,"container-title",v,n.language);this.transform.abbrevs[E]["container-title"]&&this.transform.abbrevs[E]["container-title"][v]&&(n["container-title-short"]=this.transform.abbrevs[E]["container-title"][v])}if(n.jurisdiction&&(n.country=n.jurisdiction.split(":")[0]),this.registry.refhash[e]){if(JSON.stringify(this.registry.refhash[e])!=JSON.stringify(n)){for(var a in this.registry.refhash[e])delete this.registry.refhash[e][a];this.tmp.taintedItemIDs[n.id]=!0,Object.assign(this.registry.refhash[e],n)}}else this.registry.refhash[e]=n;return this.registry.refhash[e]},t.Engine.prototype.refetchItem=function(e){return this.registry.refhash[e]},t.Engine.prototype.setOpt=function(e,t,n){"style"===e.name||"cslstyle"===e.name?(this.opt.inheritedAttributes[t]=n,this.citation.opt.inheritedAttributes[t]=n,this.bibliography.opt.inheritedAttributes[t]=n):["citation","bibliography"].indexOf(e.name)>-1?this[e.name].opt.inheritedAttributes[t]=n:e.strings[t]=n},t.Engine.prototype.inheritOpt=function(e,t,n,r){if("undefined"!==typeof e.strings[t])return e.strings[t];var i=this[this.tmp.root].opt.inheritedAttributes[n||t];return"undefined"!==typeof i?i:r},t.Engine.prototype.remapSectionVariable=function(e){for(var n=0,r=e.length;n<r;n+=1){var i=e[n][0],s=e[n][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(s.locator)s.locator=s.locator.trim(),(a=s.locator.match(t.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=t.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var o=null;if(i.section)i.section=i.section.trim(),(a=i.section.match(t.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?o=a[0].trim():(i.section="sec. "+i.section,o="sec.");if(i.section)if(s.locator){var a,l=" ";(a=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===a[1]&&"p."!==o&&(s.locator=a[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(l="")):l="",s.locator=i.section+l+s.locator}else s.locator=i.section;s.label=""}}},t.Engine.prototype.setNumberLabels=function(e){if(e.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var n=""+e.number,r=(n=n.split("\\").join("")).split(/\s+/)[0],i=t.STATUTE_SUBDIV_STRINGS[r];if(i){var s=n.split(t.STATUTE_SUBDIV_PLAIN_REGEX);if(s.length>1){for(var o=[],a=1,l=s.length;a<l;a+=1)o.push(s[a].replace(/\s*$/,"").replace(/^\s*/,""));n=o.join(" ")}else n=s[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",n,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",n,!1]),this.tmp.shadow_numbers.number.numeric=!0}},t.substituteOne=function(e){return function(t,n){return n?e.replace("%%STRING%%",n):""}},t.substituteTwo=function(e){return function(t){var n=e.replace("%%PARAM%%",t);return function(e,t){return t?n.replace("%%STRING%%",t):""}}},t.Mode=function(e){var n,r,i,s,o,a;for(i in n={},r=t.Output.Formats[e])"@"===i.slice(0,1)?(s=!1,o=r[i],a=i.split("/"),"string"===typeof o&&o.indexOf("%%STRING%%")>-1?s=o.indexOf("%%PARAM%%")>-1?t.substituteTwo(o):t.substituteOne(o):"boolean"!==typeof o||o?"function"===typeof o?s=o:t.error("Bad "+e+" config entry for "+i+": "+o):s=t.Output.Formatters.passthrough,1===a.length?n[a[0]]=s:2===a.length&&(n[a[0]]||(n[a[0]]={}),n[a[0]][a[1]]=s)):n[i]=r[i];return n},t.setDecorations=function(e,n){var r,i;for(i in r=[],t.FORMAT_KEY_SEQUENCE){var s;n[s=t.FORMAT_KEY_SEQUENCE[i]]&&(r.push([s,n[s]]),delete n[s])}return r},t.Doppeler=function(e,t){var n=new RegExp("("+e+")","g"),r=new RegExp(e,"g");this.split=function(e){t&&(e=t(e));var i=e.match(n);if(!i)return{tags:[],strings:[e]};for(var s=e.split(r),o=i.length-1;o>-1;o--){"number"===typeof i[o]&&(i[o]=""),"'"===i[o]&&s[o+1].length>0&&(s[o+1]=i[o]+s[o+1],i[o]="")}return{tags:i,strings:s,origStrings:s.slice()}},this.join=function(e){for(var t=e.strings.slice(-1),n=e.tags.length-1;n>-1;n--)t.push(e.tags[n]),t.push(e.strings[n]);return t.reverse(),t.join("")}},t.Engine.prototype.normalDecorIsOrphan=function(e,t){if("normal"===t[1]){for(var n,r=!1,i=(n="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(e.alldecor):e.alldecor).length-1;i>-1;i+=-1)for(var s=n[i].length-1;s>-1;s+=-1)n[i][s][0]===t[0]&&"normal"!==n[i][s][1]&&(r=!0);if(!r)return!0}return!1},t.Engine.prototype.getCitationLabel=function(e){var n="",r=this.getTrigraphParams(),i=r[0],s=this.getTerm("reference","short",0);"undefined"===typeof s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var o=0,a=t.NAME_VARIABLES.length;o<a;o+=1){var l=t.NAME_VARIABLES[o];if(e[l]){var u=e[l];i=u.length>r.length?r[r.length-1]:r[u.length-1];for(var c=0,h=u.length;c<h&&c!==i.authors.length;c+=1){var p=this.nameOutput.getName(u[c],"locale-translit",!0).name;p&&p.family?s=(s=p.family).replace(/^([ \'\u2019a-z]+\s+)/,""):p&&p.literal&&(s=p.literal);var d=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(d&&(s=s.slice(d[1].length)),!(s=s.replace(t.ROMANESQUE_NOT_REGEXP,"")))break;(s=s.slice(0,i.authors[c])).length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),n+=s}break}}if(!n&&e.title){var m=this.locale[this.opt.lang].opts["skip-words"],f=e.title.split(/\s+/);for(o=f.length-1;o>-1;o--)m.indexOf(f[o])>-1&&(f=f.slice(0,o).concat(f.slice(o+1)));var g=f.join("");(g=g.slice(0,r[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),n=g}var b="0000";return e.issued&&e.issued.year&&(b=""+e.issued.year),n+=b=b.slice(-1*i.year)},t.Engine.prototype.getTrigraphParams=function(){var e=[],n=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||t.error("Bad trigraph definition: "+this.opt.trigraph);for(var r=0,i=n.length;r<i;r+=1){for(var s=n[r],o={authors:[],year:0},a=0,l=s.length;a<l;a+=1)switch(s.slice(a,a+1)){case"A":o.authors.push(1);break;case"a":o.authors[o.authors.length-1]+=1;break;case"0":o.year+=1;break;default:t.error("Invalid character in trigraph definition: "+this.opt.trigraph)}e.push(o)}return e},t.Engine.prototype.setOutputFormat=function(e){this.opt.mode=e,this.fun.decorate=t.Mode(e),this.output[e]||(this.output[e]={},this.output[e].tmp={})},t.Engine.prototype.getSortFunc=function(){return function(e,t){return e=e.split("-"),t=t.split("-"),e.length<t.length?1:e.length>t.length?-1:(e=e.slice(-1)[0],t=t.slice(-1)[0],e.length<t.length?1:e.length>t.length?-1:0)}},t.Engine.prototype.setLangTagsForCslSort=function(e){var t,n;if(e)for(this.opt["locale-sort"]=[],t=0,n=e.length;t<n;t+=1)this.opt["locale-sort"].push(e[t]);this.opt["locale-sort"].sort(this.getSortFunc())},t.Engine.prototype.setLangTagsForCslTransliteration=function(e){var t,n;if(this.opt["locale-translit"]=[],e)for(t=0,n=e.length;t<n;t+=1)this.opt["locale-translit"].push(e[t]);this.opt["locale-translit"].sort(this.getSortFunc())},t.Engine.prototype.setLangTagsForCslTranslation=function(e){var t,n;if(this.opt["locale-translat"]=[],e)for(t=0,n=e.length;t<n;t+=1)this.opt["locale-translat"].push(e[t]);this.opt["locale-translat"].sort(this.getSortFunc())},t.Engine.prototype.setLangPrefsForCites=function(e,t){var n=this.opt["cite-lang-prefs"];t||(t=function(e){return e.toLowerCase()});for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],i=0,s=r.length;i<s;i+=1){var o=t(r[i]),a=r[i].toLowerCase();if(e[o]){for(var l=[];e[o].length>1;)l.push(e[o].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)e[o].push(l.pop());for(var c=n[a];c.length;)c.pop();for(var h=0,p=e[o].length;h<p;h+=1)c.push(e[o][h])}}},t.Engine.prototype.setLangPrefsForCiteAffixes=function(e){if(e&&48===e.length){for(var t,n=this.opt.citeAffixes,r=0,i=["persons","institutions","titles","journals","publishers","places"],s=["translit","orig","translit","translat"],o=0,a=i.length;o<a;o+=1)for(var l=0,u=s.length;l<u;l+=1)t="",r%8===4&&(n[i[o]]["locale-"+s[l]].prefix||n[i[o]]["locale-"+s[l]].suffix)||(t=e[r]?e[r]:"",n[i[o]]["locale-"+s[l]].prefix=t,t=e[r]?e[r+1]:"",n[i[o]]["locale-"+s[l]].suffix=t),r+=2;this.opt.citeAffixes=n}},t.Engine.prototype.setAutoVietnameseNamesOption=function(e){this.opt["auto-vietnamese-names"]=!!e},t.Engine.prototype.setAbbreviations=function(e){this.sys.setAbbreviations&&this.sys.setAbbreviations(e)},t.Engine.prototype.setSuppressTrailingPunctuation=function(e){this.citation.opt.suppressTrailingPunctuation=!!e},t.Output={},t.Output.Queue=function(e){this.levelname=["top"],this.state=e,this.queue=[],this.empty=new t.Token("empty");var n={};n.empty=this.empty,this.formats=new t.Stack(n),this.current=new t.Stack(this.queue)},t.Output.Queue.prototype.pop=function(){var e=this.current.value();return e.length?e.pop():e.blobs.pop()},t.Output.Queue.prototype.getToken=function(e){return this.formats.value()[e]},t.Output.Queue.prototype.mergeTokenStrings=function(e,n){var r,i,s;if(s=r=this.formats.value()[e],i=this.formats.value()[n]){r||((r=new t.Token(e,t.SINGLETON)).decorations=[]),s=new t.Token(e,t.SINGLETON);var o="";for(var o in r.strings)r.strings.hasOwnProperty(o)&&(s.strings[o]=r.strings[o]);for(var o in i.strings)i.strings.hasOwnProperty(o)&&(s.strings[o]=i.strings[o]);s.decorations=r.decorations.concat(i.decorations)}return s},t.Output.Queue.prototype.addToken=function(e,n,r){var i,s;if(i=new t.Token("output"),"string"===typeof r&&(r=this.formats.value()[r]),r&&r.strings){for(s in r.strings)r.strings.hasOwnProperty(s)&&(i.strings[s]=r.strings[s]);i.decorations=r.decorations}"string"===typeof n&&(i.strings.delimiter=n),this.formats.value()[e]=i},t.Output.Queue.prototype.pushFormats=function(e){e||(e={}),e.empty=this.empty,this.formats.push(e)},t.Output.Queue.prototype.popFormats=function(){this.formats.pop()},t.Output.Queue.prototype.startTag=function(e,t){var n={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,e="empty"),n[e]=t,this.pushFormats(n),this.openLevel(e)},t.Output.Queue.prototype.endTag=function(e){this.closeLevel(e),this.popFormats()},t.Output.Queue.prototype.openLevel=function(e){var n,r;"object"===typeof e?n=new t.Blob(void 0,e):"undefined"===typeof e?n=new t.Blob(void 0,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[e]||t.error('CSL processor error: call to nonexistent format token "'+e+'"'),n=new t.Blob(void 0,this.formats.value()[e],e)),r=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(n.strings.prefix=this.checkNestedBrace.update(n.strings.prefix)),r.push(n),this.current.push(n)},t.Output.Queue.prototype.closeLevel=function(e){e&&e!==this.current.value().levelname&&t.error("Level mismatch error:  wanted "+e+" but found "+this.current.value().levelname);var n=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(n.strings.suffix=this.checkNestedBrace.update(n.strings.suffix))},t.Output.Queue.prototype.append=function(e,n,r,i,s){var o,a,l,u=!0;if(r&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!r){if("macro-with-date"!==n)return!1;"macro-with-date"===n&&(n="empty")}if("undefined"===typeof e)return!1;if("number"===typeof e&&(e=""+e),!r&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(a=!1,n?"literal"===n?(o=!0,u=!1):o="string"===typeof n?this.formats.value()[n]:n:o=this.formats.value().empty,o||t.error("CSL processor error: unknown format token name: "+n),o.strings&&"undefined"===typeof o.strings.delimiter&&(o.strings.delimiter=""),"string"===typeof e&&e.length&&(e=e.replace(/ ([:;?!\u00bb])/g,"\u202f$1").replace(/\u00ab /g,"\xab\u202f"),this.last_char_rendered=e.slice(-1),e=e.replace(/\s+'/g," '"),r||(e=e.replace(/^'/g," '")),i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),a=new t.Blob(e,o),"undefined"===typeof(l=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),l=this.current.value()),"string"===typeof a.blobs&&(i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"===typeof e){if("string"===typeof a.blobs&&" "!==a.blobs.slice(0,1)){for(var c="",h=a.blobs;t.TERMINAL_PUNCTUATION.indexOf(h.slice(0,1))>-1;)c+=h.slice(0,1),h=h.slice(1);h&&c&&(a.strings.prefix=a.strings.prefix+c,a.blobs=h)}a.strings["text-case"]&&(a.blobs=t.Output.Formatters[a.strings["text-case"]](this.state,e)),this.state.tmp.strip_periods&&!s&&(a.blobs=a.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var p=a.decorations.length-1;p>-1;p+=-1)"@quotes"===a.decorations[p][0]&&"false"!==a.decorations[p][1]&&(a.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),a.blobs.match(t.ROMANESQUE_REGEXP)||"@font-style"===a.decorations[p][0]&&(a.decorations=a.decorations.slice(0,p).concat(a.decorations.slice(p+1)));l.push(a),this.state.fun.flipflopper.processTags(a)}else u?l.push(a):l.push(e);return!0},t.Output.Queue.prototype.string=function(e,n,r){var i,s=t.getSafeEscape(this.state),o=n.slice(),a=[];if(0===o.length)return a;var l,u,c,h,p="";r?p=r.strings.delimiter:(e.tmp.count_offset_characters=!1,e.tmp.offset_characters=0),r&&r.new_locale&&(r.old_locale=e.opt.lang,e.opt.lang=r.new_locale);for(var d=0,m=o.length;d<m;d+=1){if((l=o[d]).strings.first_blob&&(e.tmp.count_offset_characters=l.strings.first_blob),"string"===typeof l.blobs){if("number"===typeof l.num)a.push(l);else if(l.blobs){l.particle&&(l.blobs=l.particle+l.blobs,l.particle="");var f=(i=s(l.blobs)).length;if(!e.tmp.suppress_decorations)for(y=0,v=l.decorations.length;y<v;y+=1)"@showid"!==(h=l.decorations[y])[0]&&(e.normalDecorIsOrphan(l,h)||(i=e.fun.decorate[h[0]][h[1]].call(l,e,i,h[2])));if(i&&i.length){if(i=s(l.strings.prefix)+i+s(l.strings.suffix),e.opt.development_extensions.csl_reverse_lookup_support&&!e.tmp.suppress_decorations)for(y=0,v=l.decorations.length;y<v;y+=1)"@showid"===(h=l.decorations[y])[0]&&(i=e.fun.decorate[h[0]][h[1]].call(l,e,i,h[2]));a.push(i),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=f+l.strings.suffix.length+l.strings.prefix.length)}}}else if(l.blobs.length){var g=e.output.string(e,l.blobs,l);if(r&&"string"!==g&&g.length>1&&l.strings.delimiter)for(var b=!1,y=0,v=g.length;y<v;y++)"string"!==typeof g[y]?b=!0:b&&(g[y]=l.strings.delimiter+g[y]);a=a.concat(g)}l.strings.first_blob&&e.registry.registry[l.strings.first_blob]&&(e.registry.registry[l.strings.first_blob].offset=e.tmp.offset_characters,e.tmp.count_offset_characters=!1)}for(d=0,m=a.length-1;d<m;d+=1)"number"!==typeof a[d].num||"number"!==typeof a[d+1].num||a[d+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[d].strings.suffix=a[d].strings.suffix+(p||""),a[d+1].successor_prefix="",a[d+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var _=0;for(d=0,m=a.length;d<m;d+=1)"string"===typeof a[d]&&(_=parseInt(d,10)+1,d<a.length-1&&"object"===typeof a[d+1]&&(p&&!a[d+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[d]+=s(p)),a[d+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(r&&(r.decorations.length||r.strings.suffix))_=a.length;else if(r&&r.strings.prefix)for(d=0,m=a.length;d<m;d++)if("undefined"!==typeof a[d].num){_=d,0===d&&(a[d].strings.prefix=r.strings.prefix+a[d].strings.prefix);break}var E=e.output.renderBlobs(a.slice(0,_),p,!1,r);if(E&&r&&(r.decorations.length||r.strings.suffix||r.strings.prefix)){if(!e.tmp.suppress_decorations)for(d=0,m=r.decorations.length;d<m;d+=1)h=r.decorations[d],["@cite","@bibliography","@display","@showid"].indexOf(h[0])>-1||e.normalDecorIsOrphan(l,h)||h[0]&&"string"===typeof E&&(E=e.fun.decorate[h[0]][h[1]].call(r,e,E,h[2]));if(i=E,u=r.strings.suffix,i&&i.length&&(i=s(c=r.strings.prefix)+i+s(u),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=c.length+u.length)),E=i,!e.tmp.suppress_decorations)for(d=0,m=r.decorations.length;d<m;d+=1)h=r.decorations[d],-1!==["@cite","@bibliography","@display","@showid"].indexOf(h[0])&&"string"===typeof E&&(E=e.fun.decorate[h[0]][h[1]].call(r,e,E,h[2]))}var T=a.slice(_,a.length);return!T.length&&E?a=[E]:T.length&&!E?a=T:E&&T.length&&(a=[E].concat(T)),"undefined"===typeof r?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),e.tmp.suppress_decorations&&(a=e.output.renderBlobs(a,void 0,!1))):"boolean"===typeof r&&(a=e.output.renderBlobs(a,void 0,!0)),r&&r.new_locale&&(e.opt.lang=r.old_locale),a},t.Output.Queue.prototype.clearlevel=function(){var e,t,n;for(n=(e=this.current.value()).blobs.length,t=0;t<n;t+=1)e.blobs.pop()},t.Output.Queue.prototype.renderBlobs=function(e,n,r,i){var s,o,a,l,u,c,h,p,d,m,f;if(f=t.getSafeEscape(this.state),n||(n=""),s=this.state,o="",a="",c=e.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===c&&"object"===typeof e[0]&&i)return e[0].strings.prefix=i.strings.prefix+e[0].strings.prefix,e[0].strings.suffix=e[0].strings.suffix+i.strings.suffix,e[0].decorations=e[0].decorations.concat(i.decorations),e[0].params=i.params,e[0];var g=!0;for(u=0;u<c;u+=1)e[u].checkNext?(e[u].checkNext(e[u+1],g),g=!1):g=!e[u+1]||!e[u+1].splice_prefix;var b=!0;for(u=e.length-1;u>0;u+=-1)e[u].checkLast?b&&e[u].checkLast(e[u-1])&&(b=!1):b=!0;for(c=e.length,u=0;u<c;u+=1)if(o&&(a=n),"string"===typeof(l=e[u]))o+=f(a),o+=l,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=a.length);else if(r)o=o?[o,l]:[l];else if(l.status!==t.SUPPRESS){var y=(d=l.particle?l.particle+l.num:l.formatter.format(l.num,l.gender)).replace(/<[^>]*>/g,"").length;this.append(d,"empty",!0);var v=this.pop(),_=s.tmp.count_offset_characters;if(d=this.string(s,[v],!1),s.tmp.count_offset_characters=_,l.strings["text-case"]&&(d=t.Output.Formatters[l.strings["text-case"]](this.state,d)),d&&this.state.tmp.strip_periods&&(d=d.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(p=l.decorations.length,h=0;h<p;h+=1)m=l.decorations[h],s.normalDecorIsOrphan(l,m)||(d=s.fun.decorate[m[0]][m[1]].call(l,s,d,m[2]));d=f(l.strings.prefix)+d+f(l.strings.suffix);var E="";l.status===t.END?E=f(l.range_prefix):l.status===t.SUCCESSOR?E=f(l.successor_prefix):l.status===t.START?E=u>0&&!l.suppress_splice_prefix?f(l.splice_prefix):"":l.status===t.SEEN&&(E=f(l.splice_prefix)),o+=E,o+=d,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=E.length+l.strings.prefix.length+y+l.strings.suffix.length)}return o},t.Output.Queue.purgeEmptyBlobs=function(e){if("object"===typeof e&&"object"===typeof e.blobs&&e.blobs.length)for(var n=e.blobs.length-1;n>-1;n--){t.Output.Queue.purgeEmptyBlobs(e.blobs[n]);var r=e.blobs[n];if(!r||!r.blobs||!r.blobs.length){for(var i=[];e.blobs.length-1>n;)i.push(e.blobs.pop());for(e.blobs.pop();i.length;)e.blobs.push(i.pop())}}},t.Output.Queue.adjust=function(e){var t={";":!0,":":!0},n={".":!0,"!":!0,"?":!0},r={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},i={},s={},o={},a={};for(var l in r)o[l]=!0,a[l]=!0,t[l]||(i[l]=!0),n[l]||(s[l]=!0);a[" "]=!0,a["\xa0"]=!0;var u={};for(var l in r)for(var c in r[l])u[c]||(u[c]={}),u[c][l]=r[l][c];function h(e){return"number"===typeof e.num||e.blobs&&1===e.blobs.length&&"number"===typeof e.blobs[0].num}function p(e){return"number"===typeof e.num||!(!e.blobs||"object"!==typeof e.blobs)&&(!!p(e.blobs[e.blobs.length-1])||void 0)}function d(e,t){var n=!1,r=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(t&&r.push("@quotes"),e.decorations)for(var i=0,s=e.decorations.length;i<s;i++)if(r.indexOf(e.decorations[i][0])>-1){n=!0;break}return n}function m(e){if(e.decorations)for(var t=0,n=e.decorations.length;t<n;t++)if("@quotes"===e.decorations[t][0]&&"false"!==e.decorations[t][1])return!0;return"object"===typeof e.blobs&&m(e.blobs[e.blobs.length-1])}function f(e,t){var n=t.strings.suffix.slice(-1);n||"string"!==typeof t.blobs||(n=t.blobs.slice(-1));var r=u[e][n];return!(!r||1!==r.length)||"object"===typeof t.blobs&&!!f(e,t.blobs[t.blobs.length-1])}function g(e,t){if(!o[t])return!1;if("string"===typeof e.blobs)return e.blobs.slice(-1)===t;var n=e.blobs[e.blobs.length-1];return!!n&&(n.strings.suffix.slice(-1)?n.strings.suffix.slice(-1)==t:g(n,t))}function b(e,t,n,i,s){var o="blobs"===t?e:e.strings,a="blobs"===i?n:n.strings,l=o[t].slice(-1),c=a[i].slice(0,1);function h(){a[i]=a[i].slice(1)}function p(){o[t]=o[t].slice(0,-1)}function d(e){a[i]=e+a[i]}function m(e){o[t]+=e}var f=s?function(){return r[l]}:function(){return u[c]};var g=s?function(){var e=r[l][c];"string"===typeof e?(p(),h(),d(e)):(d(l),p())}:function(){var e=u[c][l];"string"===typeof e?(p(),h(),m(e)):(m(c),h())};l===c?(s?p:h)():f()&&g()}function y(e){var t=e.strings.suffix.slice(0,1);if("string"===typeof e.blobs)for(;i[t];)b(e,"blobs",e,"suffix"),t=e.strings.suffix.slice(0,1);else for(;i[t];)b(e.blobs[e.blobs.length-1],"suffix",e,"suffix"),t=e.strings.suffix.slice(0,1)}function v(e){if("string"===typeof e.blobs)for(var t=e.blobs.slice(-1);s[t];)b(e,"blobs",e,"suffix",!0),t=e.blobs.slice(-1);else for(t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1);s[t];)b(e.blobs[e.blobs.length-1],"suffix",e,"suffix",!0),t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1)}this.upward=function(e){if(e.blobs&&"string"==typeof e.blobs)o[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1));else if("object"===typeof e&&"object"===typeof e.blobs&&e.blobs.length)for(var t=d(e,!0),n=e.blobs.length-1;n>-1;n--){this.upward(e.blobs[n]);var r=e.strings,i=e.blobs[n].strings;if(0===n){" "===r.prefix.slice(-1)&&" "===i.prefix.slice(0,1)&&(i.prefix=i.prefix.slice(1));var s=i.prefix.slice(0,1);t||!a[s]||r.prefix||(r.prefix+=s,i.prefix=i.prefix.slice(1))}if(n===e.blobs.length-1){s=i.suffix.slice(-1);!t&&[" "].indexOf(s)>-1&&(r.suffix.slice(0,1)!==s&&(r.suffix=s+r.suffix),i.suffix=i.suffix.slice(0,-1))}r.delimiter&&n>0&&a[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===i.prefix.slice(0,1)&&(i.prefix=i.prefix.slice(1))}},this.leftward=function(e){if("object"===typeof e&&"object"===typeof e.blobs&&e.blobs.length)for(var t=e.blobs.length-1;t>-1;t--)if(this.leftward(e.blobs[t]),t<e.blobs.length-1&&!e.strings.delimiter){var n=e.blobs[t],r=n.strings.suffix.slice(-1),i=e.blobs[t+1],s=i.strings.prefix.slice(0,1),a="number"===typeof r||"number"===typeof s;if(!(d(n)||d(i))&&!a&&o[s]&&!a){var l=s===n.strings.suffix.slice(-1),u=!n.strings.suffix&&"string"===typeof n.blobs&&n.blobs.slice(-1)===s;l||u?i.strings.prefix=i.strings.prefix.slice(1):b(n,"suffix",i,"prefix")}}},this.downward=function(t){if(t.blobs&&"string"==typeof t.blobs)o[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"===typeof t&&"object"===typeof t.blobs&&t.blobs.length){for(var n=t.strings,r=0,i=t.blobs.length;r<i;r++)if(h(t.blobs[r])){!0;break}if(n.delimiter&&o[n.delimiter.slice(0,1)]){var s=n.delimiter.slice(0,1);for(r=t.blobs.length-2;r>-1;r--){(u=t.blobs[r].strings).suffix.slice(-1)!==s&&(u.suffix+=s)}n.delimiter=n.delimiter.slice(1)}for(r=t.blobs.length-1;r>-1;r--){var l=t.blobs[r],u=t.blobs[r].strings,c=d(l,!0),y=h(l);if(r===t.blobs.length-1){var v=n.suffix.slice(0,1),_=!1;o[v]&&!(_=f(v,l))&&e&&(_=m(l)),_&&o[v]&&(p(l)||("string"===typeof l.blobs?b(l,"blobs",t,"suffix"):b(l,"suffix",t,"suffix"),"."===n.suffix.slice(0,1)&&(u.suffix+=n.suffix.slice(0,1),n.suffix=n.suffix.slice(1)))),"\xa0"===u.suffix.slice(-1)&&" "===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(1)),a[u.suffix.slice(0,1)]&&("string"===typeof l.blobs&&l.blobs.slice(-1)===u.suffix.slice(0,1)&&(u.suffix=u.suffix.slice(1)),u.suffix.slice(-1)===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(0,-1))),g(t,t.strings.suffix.slice(0,1))&&(t.strings.suffix=t.strings.suffix.slice(1))}else if(n.delimiter)a[n.delimiter.slice(0,1)]&&n.delimiter.slice(0,1)===u.suffix.slice(-1)&&(t.blobs[r].strings.suffix=t.blobs[r].strings.suffix.slice(0,-1));else{var E=t.blobs[r+1].strings;h(l)||c||!a[u.suffix.slice(-1)]||u.suffix.slice(-1)!==E.prefix.slice(0,1)||(E.prefix=E.prefix.slice(1))}y||c||!o[u.suffix.slice(0,1)]||"string"!==typeof l.blobs||b(l,"blobs",l,"suffix"),this.downward(t.blobs[r])}}},this.fix=function(t){if("object"===typeof t&&"object"===typeof t.blobs&&t.blobs.length){for(var n,r=0,i=t.blobs.length;r<i;r++){for(var s=t.blobs[r],o=!1,a=0,l=s.decorations.length;a<l;a++){var u=s.decorations[a];"@quotes"===u[0]&&"false"!==u[1]&&(o=!0)}o&&(e?y(s):v(s)),n=this.fix(t.blobs[r]),s.blobs&&"string"===typeof s.blobs&&(n=s.blobs.slice(-1))}return n}}},t.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=t.NONE,this.bib_mode=t.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},t.Engine.Tmp=function(){this.names_max=new t.Stack,this.names_base=new t.Stack,this.givens_base=new t.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new t.Stack(0,t.LITERAL),this.element_rendered_ok=!1,this.element_trace=new t.Stack("style"),this.nameset_counter=0,this.group_context=new t.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new t.Stack(0,t.LITERAL),this.decorations=new t.Stack,this.tokenstore_stack=new t.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new t.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new t.AmbigConfig,this.bib_sort_keys=[],this.prefix=new t.Stack("",t.LITERAL),this.suffix=new t.Stack("",t.LITERAL),this.delimiter=new t.Stack("",t.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},t.Engine.Fun=function(e){this.match=new t.Util.Match,this.suffixator=new t.Util.Suffixator(t.SUFFIX_CHARS),this.romanizer=new t.Util.Romanizer,this.ordinalizer=new t.Util.Ordinalizer(e),this.long_ordinalizer=new t.Util.LongOrdinalizer},t.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new t.Stack(0,t.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},t.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},t.Engine.Citation=function(e){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new t.Registry.Comparifier(e,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},t.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},t.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=t.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},t.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},t.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},t.Engine.prototype.previewCitationCluster=function(e,n,r,i){var s=this.opt.mode;this.setOutputFormat(i),e.citationID&&delete e.citationID;var o=this.processCitationCluster(e,n,r,t.PREVIEW);return this.setOutputFormat(s),o[1]},t.Engine.prototype.appendCitationCluster=function(e){for(var t=[],n=this.registry.citationreg.citationByIndex.length,r=0;r<n;r+=1){var i=this.registry.citationreg.citationByIndex[r];t.push([""+i.citationID,i.properties.noteIndex])}return this.processCitationCluster(e,t,[])[1]},t.Engine.prototype.processCitationCluster=function(e,n,r,i){var s,o,a,l,u,c,h,p,d,m,f,g,b,y,v,_,E;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(e),i===t.PREVIEW){this.debug&&t.debug("****** start state save *********"),v=this.registry.citationreg.citationByIndex.slice(),_=this.registry.reflist.slice();for(var T=n.concat(r),x={},w=[],A=0,S=T.length;A<S;A+=1)for(l=0,u=(s=this.registry.citationreg.citationById[T[A][0]]).citationItems.length;l<u;l+=1)x[s.citationItems[l].id]=!0,w.push(""+s.citationItems[l].id);for(l=0,u=e.citationItems.length;l<u;l+=1)x[e.citationItems[l].id]=!0,w.push(""+e.citationItems[l].id);E={};for(A=0,S=_.length;A<S;A+=1)if(!x[_[A].id]){var k=this.registry.registry[_[A].id].ambig,C=this.registry.ambigcites[k];if(C)for(l=0,u=C.length;l<u;l+=1)E[C[l]]=t.cloneAmbigConfig(this.registry.registry[C[l]].disambig)}this.debug&&t.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var I=[],N={};for(A=0,S=e.citationItems.length;A<S;A+=1){for(var O in f={},e.citationItems[A])f[O]=e.citationItems[A][O];var R;if((m=this.retrieveItem(""+f.id)).id&&this.transform.loadAbbreviation("default","hereinafter",m.id,m.language),f=t.parseLocator.call(this,f),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[m,f]]),this.opt.development_extensions.locator_label_parse)if(f.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(m.type)&&(!f.label||"page"===f.label))if(R=t.LOCATOR_LABELS_REGEXP.exec(f.locator)){var D=t.LOCATOR_LABELS_MAP[R[2]];this.getTerm(D)&&(f.label=D,f.locator=R[3])}var P=[m,f];I.push(P),e.citationItems[A].item=m}e.sortedItems=I;var L,M=[],F={};for(A=0,S=n.length;A<S;A+=1)o=n[A],this.opt.development_extensions.strict_inputs&&(F[o[0]]&&t.error("Previously referenced citationID "+o[0]+" encountered in citationsPre"),o[1]&&(L>o[1]&&t.debug("Note index sequence is not sane at citationsPre["+A+"]"),L=o[1])),this.registry.citationreg.citationById[o[0]].properties.noteIndex=o[1],M.push(this.registry.citationreg.citationById[o[0]]),F[o[0]]=this.registry.citationreg.citationById[o[0]];for(e.properties||(e.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(F[e.citationID]&&t.error("Citation with previously referenced citationID "+e.citationID),e.properties.noteIndex&&(L>e.properties.noteIndex&&t.debug("Note index sequence is not sane for citation "+e.citationID),L=e.properties.noteIndex)),M.push(e),F[e.citationID]=e,A=0,S=r.length;A<S;A+=1)a=r[A],this.opt.development_extensions.strict_inputs&&(F[a[0]]&&t.error("Previously referenced citationID "+a[0]+" encountered in citationsPost"),a[1]&&(L>a[1]&&t.debug("Note index sequence is not sane at postCitation["+A+"]"),L=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],M.push(this.registry.citationreg.citationById[a[0]]),F[a[0]]=this.registry.citationreg.citationById[a[0]];this.registry.citationreg.citationByIndex=M,this.registry.citationreg.citationById=F,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===t.POSITION&&(b=[],g=[],y={});var j,B=[];for(A=0,S=M.length;A<S;A+=1){for(M[A].properties.index=A,l=0,u=M[A].sortedItems.length;l<u;l+=1)f=M[A].sortedItems[l],this.registry.citationreg.citationsByItemId[f[1].id]||(this.registry.citationreg.citationsByItemId[f[1].id]=[],B.push(""+f[1].id)),-1===this.registry.citationreg.citationsByItemId[f[1].id].indexOf(M[A])&&this.registry.citationreg.citationsByItemId[f[1].id].push(M[A]);this.opt.update_mode===t.POSITION&&(M[A].properties.noteIndex?g.push(M[A]):(M[A].properties.noteIndex=0,b.push(M[A])))}if(i!==t.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&t.debug("****** start update items *********"),this.updateItems(B,null,null,!0),this.debug&&t.debug("****** endo update items *********")),!this.opt.citation_number_sort&&I&&I.length>1&&this.citation_sort.tokens.length>0){for(A=0,S=I.length;A<S;A+=1)I[A][1].sortkeys=t.getSortKeys.call(this,I[A][0],"citation_sort");if(this.opt.grouped_sort&&!e.properties.unsorted){for(A=0,S=I.length;A<S;A+=1){var U=I[A][1].sortkeys;this.tmp.authorstring_request=!0;var H=this.registry.registry[I[A][0].id].disambig;this.tmp.authorstring_request=!0,t.getAmbiguousCite.call(this,I[A][0],H);var q=this.registry.authorstrings[I[A][0].id];this.tmp.authorstring_request=!1,I[A][1].sortkeys=[q].concat(U)}I.sort(this.citation.srt.compareCompositeKeys);var z=!1,V=!1,G=!1;for(A=0,S=I.length;A<S;A+=1)I[A][1].sortkeys[0]!==z&&(G=I[A][1].sortkeys[0],V=I[A][1].sortkeys[1]),I[A][1].sortkeys[0]=""+V+A,z=G}e.properties.unsorted||I.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(e.sortedItems),this.opt.update_mode===t.POSITION)for(A=0;A<2;A+=1){var K={},W={},X={};for(l=0,u=(j=[b,g][A]).length;l<u;l+=1){var Y=j[l];for(j[l].properties.noteIndex||(j[l].properties.noteIndex=0),j[l].properties.noteIndex=parseInt(j[l].properties.noteIndex,10),l>0&&Y.properties.noteIndex&&j[l-1].properties.noteIndex>Y.properties.noteIndex&&(y={},K={},W={},X={}),c=0,h=Y.sortedItems.length;c<h;c+=1)Y.sortedItems[c][1].parallel&&"first"!==Y.sortedItems[c][1].parallel||(y[Y.properties.noteIndex]?y[Y.properties.noteIndex]+=1:y[Y.properties.noteIndex]=1);for(c=0,h=j[l].sortedItems.length;c<h;c+=1){var Q,$,J=(f=j[l].sortedItems[c])[0].id,Z=f[0].legislation_id?f[0].legislation_id:f[0].id,ee=f[0].legislation_id?f[0].legislation_id:f[0].container_id?f[0].container_id:f[0].id,te=f[1]["locator-extra"],ne=f[1].locator,re=f[1].label;if(c>0)if(Y.sortedItems[c-1][0].legislation_id)Q=Y.sortedItems[c-1][0].legislation_id;else{Q=Y.sortedItems[c-1][1].id,$=Y.sortedItems[c-1][1]["locator-extra"];for(var ie=c-2;ie>-1;ie--)"first"===Y.sortedItems[ie][1].parallel&&(Q=Y.sortedItems[ie][1].id,$=Y.sortedItems[ie][1]["locator-extra"])}if(i!==t.PREVIEW||Y.citationID==e.citationID){var se,oe,ae={};if(ae.position=f[1].position,ae["first-reference-note-number"]=f[1]["first-reference-note-number"],ae["first-container-reference-note-number"]=f[1]["first-container-reference-note-number"],ae["near-note"]=f[1]["near-note"],f[1]["first-reference-note-number"]=0,f[1]["first-container-reference-note-number"]=0,f[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[J]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var le=this.registry.registry[f[0].id]["citation-count"],ue=this.registry.citationreg.citationsByItemId[J].length;if(this.registry.registry[f[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[J].length,"number"===typeof le){if(le<2!==ue<2){ie=0;for(var ce=this.registry.citationreg.citationsByItemId[J].length;ie<ce;ie++)N[this.registry.registry[f[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[J][ie].citationID]=!0}}else for(ie=0,ce=this.registry.citationreg.citationsByItemId[J].length;ie<ce;ie++)N[this.registry.registry[f[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[J][ie].citationID]=!0}if("undefined"===typeof W[ee]&&"author-only"!==Y.properties.mode)K[Z]=Y.properties.noteIndex,W[ee]=Y.properties.noteIndex,X[ee]=Y.properties.noteIndex,f[1].position=t.POSITION_FIRST;else{var he=!1,pe=!1,de=null;if(l>0)de=j[l-1];var me,fe,ge,be,ye=j[l];if(l>0){var ve=1;"author-only"===de.properties.mode&&l>1&&(ve=2);var _e=l-ve;j[_e].sortedItems.length&&(se=j[_e].sortedItems.slice(-1)[0][1].id,oe=j[l-ve].sortedItems.slice(-1)[0][1]["locator-extra"]),de.sortedItems.length&&de.sortedItems[0].slice(-1)[0].legislation_id&&(se=de.sortedItems[0].slice(-1)[0].legislation_id)}if(l>0&&0===c&&de.properties.noteIndex!==ye.properties.noteIndex){var Ee=!1,Te=de.sortedItems[0][0].id;if(de.sortedItems[0][0].legislation_id&&(Te=de.sortedItems[0][0].legislation_id),Te==Z&&de.properties.noteIndex>=ye.properties.noteIndex-1){var xe=de.sortedItems[0][1]["locator-extra"],we=ye.sortedItems[0][1]["locator-extra"];1!==y[de.properties.noteIndex]&&0!==de.properties.noteIndex||xe!==we||(Ee=!0)}Ee?he=!0:pe=!0}else c>0&&Q==Z&&$==te||0===c&&l>0&&de.properties.noteIndex==ye.properties.noteIndex&&de.sortedItems.length&&se==Z&&oe==te?he=!0:pe=!0;he&&((me=c>0?Y.sortedItems[c-1][1]:j[l-1].sortedItems[0][1]).locator?(ge=me.label?me.label:"",fe=""+me.locator+ge):fe=me.locator,be=ne?""+ne+(re||""):ne),he&&fe&&!be&&(he=!1,pe=!0),he&&(!fe&&be?f[1].position=t.POSITION_IBID_WITH_LOCATOR:fe||be?fe&&be===fe?f[1].position=t.POSITION_IBID:fe&&be&&be!==fe?f[1].position=t.POSITION_IBID_WITH_LOCATOR:(he=!1,pe=!0):f[1].position=t.POSITION_IBID),pe&&(f[1].position=t.POSITION_CONTAINER_SUBSEQUENT,"undefined"===typeof K[Z]?K[Z]=Y.properties.noteIndex:f[1].position=t.POSITION_SUBSEQUENT),(pe||he)&&("author-only"===Y.properties.mode&&(f[1].position=t.POSITION_FIRST),X[ee]!=Y.properties.noteIndex&&(f[1]["first-container-reference-note-number"]=X[ee],this.registry.registry[f[0].id]&&(this.registry.registry[f[0].id]["first-container-reference-note-number"]=X[ee])),K[Z]!=Y.properties.noteIndex&&(f[1]["first-reference-note-number"]=K[Z],this.registry.registry[f[0].id]&&(this.registry.registry[f[0].id]["first-reference-note-number"]=K[Z])))}if(Y.properties.noteIndex){var Ae=parseInt(Y.properties.noteIndex,10)-parseInt(W[ee],10);f[1].position!==t.POSITION_FIRST&&Ae<=this.citation.opt["near-note-distance"]&&(f[1]["near-note"]=!0),W[ee]=Y.properties.noteIndex}else f[1].position!==t.POSITION_FIRST&&(f[1]["near-note"]=!0);if(Y.citationID!=e.citationID)for(p=0,d=t.POSITION_TEST_VARS.length;p<d;p+=1){var Se=t.POSITION_TEST_VARS[p];f[1][Se]!==ae[Se]&&(this.registry.registry[f[0].id]&&"first-reference-note-number"===Se&&(N[this.registry.registry[f[0].id].ambig]=!0,this.tmp.taintedItemIDs[f[0].id]=!0),this.tmp.taintedCitationIDs[Y.citationID]=!0)}this.sys.variableWrapper&&(f[1].index=Y.properties.index,f[1].noteIndex=Y.properties.noteIndex)}else"undefined"===typeof K[f[1].id]?(K[Z]=Y.properties.noteIndex,W[ee]=Y.properties.noteIndex):W[ee]=Y.properties.noteIndex}}}if(this.opt.citation_number_sort&&I&&I.length>1&&this.citation_sort.tokens.length>0&&!e.properties.unsorted){for(A=0,S=I.length;A<S;A+=1)I[A][1].sortkeys=t.getSortKeys.call(this,I[A][0],"citation_sort");I.sort(this.citation.srt.compareCompositeKeys)}for(var O in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(O)&&(j=this.registry.citationreg.citationsByItemId[O]))for(A=0,S=j.length;A<S;A+=1)this.tmp.taintedCitationIDs[j[A].citationID]=!0;var ke=[];if(i===t.PREVIEW){this.debug&&t.debug("****** start run processor *********");try{ke=this.process_CitationCluster.call(this,e.sortedItems,e)}catch(Re){t.error("Error running CSL processor for preview: "+Re)}this.debug&&(t.debug("****** end run processor *********"),t.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=v,this.registry.citationreg.citationById={};for(A=0,S=v.length;A<S;A+=1)this.registry.citationreg.citationById[v[A].citationID]=v[A];this.debug&&t.debug("****** start final update *********");var Ce=[];for(A=0,S=_.length;A<S;A+=1)Ce.push(""+_[A].id);for(var O in this.updateItems(Ce,null,null,!0),this.debug&&t.debug("****** end final update *********"),E)E.hasOwnProperty(O)&&(this.registry.registry[O].disambig=E[O]);this.debug&&t.debug("****** end state restore *********")}else{for(var Ie in N)this.disambiguate.run(Ie,e);var Ne;for(var O in this.tmp.taintedCitationIDs)if(O!=e.citationID){var Oe=this.registry.citationreg.citationById[O];if(!Oe.properties.unsorted){for(A=0,S=Oe.sortedItems.length;A<S;A+=1)Oe.sortedItems[A][1].sortkeys=t.getSortKeys.call(this,Oe.sortedItems[A][0],"citation_sort");Oe.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=Oe.properties.index,this.tmp.citation_note_index=Oe.properties.noteIndex,this.tmp.citation_id=""+Oe.citationID,(Ne=[]).push(Oe.properties.index),Ne.push(this.process_CitationCluster.call(this,Oe.sortedItems,Oe)),Ne.push(Oe.citationID),ke.push(Ne)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=e.properties.index,this.tmp.citation_note_index=e.properties.noteIndex,this.tmp.citation_id=""+e.citationID,(Ne=[]).push(n.length),Ne.push(this.process_CitationCluster.call(this,I,e)),Ne.push(e.citationID),ke.push(Ne),ke.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}))}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,ke]},t.Engine.prototype.process_CitationCluster=function(e,n){var r="";if(n&&n.properties&&"composite"===n.properties.mode){n.properties.mode="author-only";var i=t.getCitationCluster.call(this,e,n);n.properties.mode="suppress-author";var s="";n.properties.infix&&(this.output.append(n.properties.infix),"object"===typeof(s=this.output.string(this,this.output.queue))&&(s=s.join("")));var o=t.getCitationCluster.call(this,e,n);n.properties.mode="composite",i&&s&&t.SWAPPING_PUNCTUATION.concat(["\u2019","'"]).indexOf(s[0])>-1&&(i+=s,s=!1),r=[i,s,o].filter((function(e){return e})).join(" ")}else r=t.getCitationCluster.call(this,e,n);return r},t.Engine.prototype.makeCitationCluster=function(e){var n,r,i,s,o,a;for(n=[],s=e.length,i=0;i<s;i+=1){for(var l in o={},e[i])o[l]=e[i][l];if(a=this.retrieveItem(""+o.id),this.opt.development_extensions.locator_label_parse&&o.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!o.label||"page"===o.label)){var u=t.LOCATOR_LABELS_REGEXP.exec(o.locator);if(u){var c=t.LOCATOR_LABELS_MAP[u[2]];this.getTerm(c)&&(o.label=c,o.locator=u[3])}}o.locator&&(o.locator=(""+o.locator).replace(/\s+$/,"")),r=[a,o],n.push(r)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(n),n&&n.length>1&&this.citation_sort.tokens.length>0){for(s=n.length,i=0;i<s;i+=1)n[i][1].sortkeys=t.getSortKeys.call(this,n[i][0],"citation_sort");n.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],t.getCitationCluster.call(this,n)},t.getAmbiguousCite=function(e,n,r,i){var s=this.tmp.group_context.tip,o={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,non_parallel:s.non_parallel,parallel_last:s.parallel_last,parallel_first:s.parallel_first,parallel_last_override:s.parallel_last_override,parallel_delimiter_override:s.parallel_delimiter_override,parallel_delimiter_override_on_suppress:s.parallel_delimiter_override_on_suppress,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=n||!1;var a={position:t.POSITION_SUBSEQUENT,"near-note":!0};i&&(a.locator=i.locator,a.label=i.label),this.registry.registry[e.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[e.id]&&this.registry.citationreg.citationsByItemId[e.id].length&&r&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[e.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var l=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,t.getCite.call(this,e,a,null,!1);for(var u=0,c=this.output.queue.length;u<c;u+=1)t.Output.Queue.purgeEmptyBlobs(this.output.queue[u]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var h=0,p=this.output.queue.length;h<p;h+=1)this.output.adjust.upward(this.output.queue[h]),this.output.adjust.leftward(this.output.queue[h]),this.output.adjust.downward(this.output.queue[h]),this.output.adjust.fix(this.output.queue[h]);var d=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=l,this.tmp.group_context.replace(o),d},t.getSpliceDelimiter=function(e,n,r){if(void 0!==this.citation.opt["after-collapse-delimiter"])e||n&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:n||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==t.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[r-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[r-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},t.getCitationCluster=function(e,n){var r,i,s,o,a,l,u,c,h,p,d,m,f,g,b,y,v,_,E,T,x,w="";this.output.checkNestedBrace=new t.checkNestedBrace(this),n&&(E=n.citationID,T="author-only"===n.properties.mode&&!!n.properties.mode,"note"!==this.opt.xclass&&(x="suppress-author"===n.properties.mode&&!!n.properties.mode),n.properties.prefix&&(w=t.checkPrefixSpaceAppend(this,n.properties.prefix))),e=e||[],this.tmp.last_primary_names_string=!1,v=t.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",r="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var A=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+w),S=!1;if(this.citation.opt.suppressTrailingPunctuation&&(S=!0),E&&this.registry.citationreg.citationById[E].properties["suppress-trailing-punctuation"]&&(S=!0),"note"===this.opt.xclass){for(var k=[],C=!1,I=!1,N=[],O=0,R=e.length;O<R;O+=1){var D=e[O][0].type,P=e[O][0].title,L=e[O][1].position,M=e[O][0].id;P&&"legal_case"===D&&M!==I&&L&&(P===C&&0!==k.length||(N=[],k.push(N)),N.push(e[O][1])),C=P,I=M}for(O=0,R=k.length;O<R;O+=1)if(!((N=k[O]).length<2)){var F=N.slice(-1)[0].locator;if(F)for(var j=0,B=N.length-1;j<B;j+=1)N[j].locator&&(F=!1);F&&(N[0].locator=F,delete N.slice(-1)[0].locator,N[0].label=N.slice(-1)[0].label,N.slice(-1)[0].label&&delete N.slice(-1)[0].label)}}for(s=[],o=e.length,e[0]&&e[0][1]&&(T?(delete e[0][1]["suppress-author"],e[0][1]["author-only"]=!0):x&&(delete e[0][1]["author-only"],e[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(e),a=0;a<o;a+=1){this.tmp.cite_index=a,m=e[a][0],l=e[a][1],l=t.parseLocator.call(this,l),u=this.tmp.have_collapsed;var U=!1;if(a>0&&e[a-1][1]&&(U=!!e[a-1][1].locator),c={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var H=this.output;this.output=new t.Output.Queue(this),this.output.adjust=new t.Output.Queue.adjust,t.getAmbiguousCite.call(this,m,null,!1,l),this.output=H}if(this.tmp.in_cite_predecessor=!1,a>0?t.getCite.call(this,m,l,""+e[a-1][0].id,!0):(this.tmp.term_predecessor=!1,t.getCite.call(this,m,l,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+m.id,citationItems_pos:a,error_code:t.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),c.splice_delimiter=t.getSpliceDelimiter.call(this,U,u,a),l&&l["author-only"]&&(this.tmp.suppress_decorations=!0),a>0){var q=(y=e[a-1][1]).suffix&&[";",".",","].indexOf(y.suffix.slice(-1))>-1,z=!y.suffix&&l.prefix&&[";",".",","].indexOf(l.prefix.slice(0,1))>-1;if(q||z){var V=c.splice_delimiter.indexOf(" ");c.splice_delimiter=V>-1&&!z?c.splice_delimiter.slice(V):""}}if(c.suppress_decorations=this.tmp.suppress_decorations,c.have_collapsed=this.tmp.have_collapsed,s.push(c),l["author-only"])break}d=this.output.queue.slice();var G="";n&&(G=t.checkSuffixSpacePrepend(this,n.properties.suffix));var K=this.citation.opt.layout_suffix,W=this.tmp.cite_locales[this.tmp.cite_locales.length-1];W&&this.tmp.cite_affixes[this.tmp.area][W]&&this.tmp.cite_affixes[this.tmp.area][W].suffix&&(K=this.tmp.cite_affixes[this.tmp.area][W].suffix),t.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(K.slice(0,1))>-1&&(K=K.slice(0,1)),K=this.output.checkNestedBrace.update(G+K);for(O=0,R=this.output.queue.length;O<R;O+=1)t.Output.Queue.purgeEmptyBlobs(this.output.queue[O]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(S||(this.output.queue[this.output.queue.length-1].strings.suffix=K),this.output.queue[0].strings.prefix=A)),this.opt.development_extensions.clean_up_csl_flaws)for(j=0,B=this.output.queue.length;j<B;j+=1)this.output.adjust.upward(this.output.queue[j]),this.output.adjust.leftward(this.output.queue[j]),this.output.adjust.downward(this.output.queue[j]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[j]);for(a=0,o=d.length;a<o;a+=1){var X=[];if(this.output.queue=[d[a]],this.tmp.suppress_decorations=s[a].suppress_decorations,this.tmp.splice_delimiter=s[a].splice_delimiter,d[a].parallel_delimiter&&(this.tmp.splice_delimiter=d[a].parallel_delimiter),this.tmp.have_collapsed=s[a].have_collapsed,h=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"===typeof h)return this.tmp.suppress_decorations=!1,h||(this.opt.development_extensions.throw_on_empty?t.error("Citation would render no content"):h="[NO_PRINTED_FORM]"),h;if("object"===typeof h&&0===h.length&&!l["suppress-author"])if(0===a){var Y=0===a?v(this.citation.opt.layout_prefix):"",Q=a===d.length-1?v(this.citation.opt.layout_suffix):"";h.push(Y+"[CSL STYLE ERROR: reference with no printed form.]"+Q)}else if(a===d.length-1){var $=i[i.length-1];"string"===typeof $?i[i.length-1]+=v(this.citation.opt.layout_suffix):"object"===typeof $&&($.strings.suffix+=v(this.citation.opt.layout_suffix))}if(X.length&&"string"===typeof h[0]){h.reverse();var J=h.pop();J&&","===J.slice(0,1)?X.push(J):"string"==typeof X.slice(-1)[0]&&","===X.slice(-1)[0].slice(-1)?X.push(" "+J):J&&X.push(v(this.tmp.splice_delimiter)+J)}else h.reverse(),"undefined"!==typeof(p=h.pop())&&(X.length&&"string"===typeof X[X.length-1]&&(X[X.length-1]+=p.successor_prefix),X.push(p));for(f=h.length,g=0;g<f;g+=1)"string"!==typeof(b=h[g])?"undefined"!==typeof(p=h.pop())&&X.push(p):X.push(v(this.tmp.splice_delimiter)+b);0!==X.length||e[a][1]["suppress-author"]||1,X.length>1&&"string"!==typeof X[0]&&(X=[this.output.renderBlobs(X)]),X.length&&("string"===typeof X[0]?a>0&&(X[0]=v(this.tmp.splice_delimiter)+X[0]):X[0].splice_prefix=a>0?this.tmp.splice_delimiter:""),i=i.concat(X)}if((r+=this.output.renderBlobs(i))&&!this.tmp.suppress_decorations)for(o=this.citation.opt.layout_decorations.length,a=0;a<o;a+=1)"normal"!==(c=this.citation.opt.layout_decorations[a])[1]&&(l&&l["author-only"]||(r=this.fun.decorate[c[0]][c[1]](this,r)));return this.tmp.suppress_decorations=!1,r||(this.opt.development_extensions.throw_on_empty?t.error("Citation would render no content"):r="[NO_PRINTED_FORM]"),r},t.getCite=function(e,n,r,i){var s,o,a=this.tmp.area;for(n&&n["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=r,t.citeStart.call(this,e,n,i),s=0,this.tmp.name_node={},this.nameOutput=new t.NameOutput(this,e,n);s<this[this.tmp.area].tokens.length;)s=t.tokenExec.call(this,this[this.tmp.area].tokens[s],e,n);return t.citeEnd.call(this,e,n),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(o={index:this.tmp.bibliography_pos,itemID:""+e.id,error_code:t.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(o)),this.tmp.area=a,""+e.id},t.citeStart=function(e,n,r){if(this.tmp.lang_array=[],e.language){var i=e.language.match(/^([a-zA-Z]+).*/);i&&this.tmp.lang_array.push(i[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),r||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[e.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[e.id].disambig,this.tmp.disambig_settings=this.registry.registry[e.id].disambig):this.tmp.disambig_settings=new t.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[e.id]){if(this.tmp.disambig_restore=t.cloneAmbigConfig(this.registry.registry[e.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[e.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[e.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[e.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[e.id].disambig.givens.slice();for(var s=0,o=this.tmp.disambig_settings.givens.length;s<o;s+=1)this.tmp.disambig_settings.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice();for(s=0,o=this.tmp.disambig_request.givens.length;s<o;s+=1)this.tmp.disambig_request.givens[s]=this.registry.registry[e.id].disambig.givens[s].slice()}}else this.tmp.disambig_restore=new t.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||n&&"first"!==n.parallel&&n.parallel||(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&n&&!n.position&&this.registry.registry[e.id]&&(this.tmp.disambig_restore=t.cloneAmbigConfig(this.registry.registry[e.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},t.citeEnd=function(e,t){if(this.tmp.disambig_restore&&this.registry.registry[e.id]){this.registry.registry[e.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[e.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var n=0,r=this.registry.registry[e.id].disambig.givens.length;n<r;n+=1)this.registry.registry[e.id].disambig.givens[n]=this.tmp.disambig_restore.givens[n].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var i=[];for(n=this.tmp.issued_date.list.length-1;n>this.tmp.issued_date.pos;n+=-1)i.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),n=i.length-1;n>-1;n+=-1)this.tmp.issued_date.list.push(i.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},t.Engine.prototype.makeBibliography=function(e){var n,r,i,s,o,a,l;if(!e&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(e={exclude:[]},this.bibliography.opt.exclude_types)for(var u in this.bibliography.opt.exclude_types){var c=this.bibliography.opt.exclude_types[u];e.exclude.push({field:"type",value:c})}if(this.bibliography.opt.exclude_with_fields)for(var u in this.bibliography.opt.exclude_with_fields){var h=this.bibliography.opt.exclude_with_fields[u];e.exclude.push({field:h,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"===typeof e&&(this.opt.citation_number_slug=e,e=!1),a=(n=t.getBibliographyEntries.call(this,e))[0],l=n[1];var p=n[2];for(r={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:a,bibliography_errors:this.tmp.bibliography_errors.slice(),done:p},this.bibliography.opt["second-field-align"]&&(r["second-field-align"]=this.bibliography.opt["second-field-align"]),s=this.registry.reflist.length,o=0;o<s;o+=1)(i=this.registry.reflist[o]).offset>r.maxoffset&&(r.maxoffset=i.offset);return this.bibliography.opt.hangingindent&&(r.hangingindent=this.bibliography.opt.hangingindent),r.bibstart=this.fun.decorate.bibstart,r.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[r,l]},t.getBibliographyEntries=function(e){var n,r,i,s,o,a,l,u,c,h,p,d,m,f,g,b,y,v,_,E;function T(e,t){return e===t}function x(e,t){return"boolean"!==typeof e&&e?"string"===typeof t?T(e,t):!!t&&function(e,t){for(h=t.length,p=0;p<h;p+=1)if(T(e,t[p]))return!0;return!1}(e,t):e?!!t:!t}if(n=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r=e&&e.page_start&&e.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,y={},e&&e.page_start&&e.page_length&&(E=0,!0!==e.page_start))for(f=0,g=r.length;f<g&&(y[r[f]]=!0,e.page_start!=r[f]);f+=1);var w=[],A={};for(this.tmp.container_item_count={},r=r.filter((e=>{var t=e;return e.legislation_id?A[e.legislation_id]?t=!1:A[e.legislation_id]=!0:e.container_id&&(this.tmp.container_item_count[e.container_id]||(this.tmp.container_item_count[e.container_id]=0),this.tmp.container_item_count[e.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(e.type)>-1&&(A[e.container_id]?t=!1:A[e.container_id]=!0)),t})),this.tmp.container_item_pos={},f=0,g=r.length;f<g;f+=1){if(e&&e.page_start&&e.page_length){if(y[r[f]])continue;if(u=this.refetchItem(r[f]),E===e.page_length)break}else if(y[(u=r[f]).id])continue;if(e){if(i=!0,e.include){for(i=!1,S=0,k=e.include.length;S<k;S+=1)if(x((c=e.include[S]).value,u[c.field])){i=!0;break}}else if(e.exclude){for(s=!1,S=0,k=e.exclude.length;S<k;S+=1)if(x((c=e.exclude[S]).value,u[c.field])){s=!0;break}s&&(i=!1)}else if(e.select){for(i=!1,o=!0,S=0,k=e.select.length;S<k;S+=1)x((c=e.select[S]).value,u[c.field])||(o=!1);o&&(i=!0)}if(e.quash){for(o=!0,S=0,k=e.quash.length;S<k;S+=1)x((c=e.quash[S]).value,u[c.field])||(o=!1);o&&(i=!1)}if(!i)continue}if(u.container_id&&(this.tmp.container_item_pos[u.container_id]||(this.tmp.container_item_pos[u.container_id]=0),this.tmp.container_item_pos[u.container_id]++),(a=new t.Token("group",t.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",a),u.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=u.system_id:this.output.current.value().system_id=u.id,m=[],!this.registry.registry[u.id].master||e&&e.page_start&&e.page_length)this.registry.registry[u.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,m.push(""+t.getCite.call(this,u)),e&&e.page_start&&e.page_length&&(E+=1));else{v=[[u,{id:u.id}]];for(var S=0,k=(b=this.registry.registry[u.id].siblings).length;S<k;S++)v.push([this.refetchItem(b[S]),{id:b[S]}]);for(this.parallel.StartCitation(v),this.registry.registry[u.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[u.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,S=0,k=v.length;S<k;S+=1)S<v.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,m.push(""+t.getCite.call(this,v[S][0],v[S][1])),this.tmp.cite_index++,y[v[S][0].id]=!0}for(_.push(""),this.tmp.bibliography_pos+=1,w.push(m),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&((d=this.output.queue[0].blobs[0].blobs[0].strings?this.output.queue[0].blobs[0].blobs:this.output.queue[0].blobs)[0].strings.prefix=this.bibliography.opt.layout_prefix+d[0].strings.prefix),S=0,k=this.output.queue.length;S<k;S+=1)t.Output.Queue.purgeEmptyBlobs(this.output.queue[S]);for(S=0,k=this.output.queue.length;S<k;S+=1)this.output.adjust.upward(this.output.queue[S]),this.output.adjust.leftward(this.output.queue[S]),this.output.adjust.downward(this.output.queue[S],!0),this.output.adjust.fix(this.output.queue[S]);if(!(l=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===t.NUMERIC){var C=n.length+1+". [CSL STYLE ERROR: reference with no printed form.]";l=t.Output.Formats[this.opt.mode]["@bibliography/entry"](this,C)}l&&n.push(l)}var I=!1;if(e&&e.page_start&&e.page_length){var N=r.slice(-1)[0],O=w.slice(-1)[0];N&&O&&N!=O||(I=!0)}return this.tmp.disambig_override=!1,[w,n,I]},t.Engine.prototype.setCitationId=function(e,t){var n,r,i;if(n=!1,!e.citationID||t){for(r=Math.floor(1e14*Math.random());;){if(i=0,!this.registry.citationreg.citationById[r]){e.citationID="a"+r.toString(32);break}r+=1===(i=!i&&r<5e13?1:-1)?1:-1}n=""+r}return this.registry.citationreg.citationById[e.citationID]=e,n},t.Engine.prototype.rebuildProcessorState=function(e,n,r){e||(e=[]),n||(n="html");for(var i={},s=[],o=0,a=e.length;o<a;o+=1)for(var l=0,u=e[o].citationItems.length;l<u;l+=1){var c=""+e[o].citationItems[l].id;i[c]||s.push(c),i[c]=!0}this.updateItems(s);var h=[],p=[],d=[],m=this.opt.mode;this.setOutputFormat(n);for(o=0,a=e.length;o<a;o+=1){var f=this.processCitationCluster(e[o],h,p,t.ASSUME_ALL_ITEMS_REGISTERED);h.push([e[o].citationID,e[o].properties.noteIndex]);for(l=0,u=f[1].length;l<u;l+=1){var g=f[1][l][0];d[g]=[h[g][0],h[g][1],f[1][l][1]]}}return this.updateUncitedItems(r),this.setOutputFormat(m),d},t.Engine.prototype.restoreProcessorState=function(e){var n,r,i,s,o,a,l,u,c,h;u=[],c=[],e||(e=[]);var p=[],d={};for(n=0,r=e.length;n<r;n+=1)d[e[n].citationID]&&this.setCitationId(e[n],!0),d[e[n].citationID]=!0,p.push(e[n].properties.index);var m=e.slice();for(m.sort((function(e,t){return e.properties.index<t.properties.index?-1:e.properties.index>t.properties.index?1:0})),n=0,r=m.length;n<r;n+=1)m[n].properties.index=n;for(n=0,r=m.length;n<r;n+=1){for(h=[],i=0,s=m[n].citationItems.length;i<s;i+=1)"undefined"===typeof(o=m[n].citationItems[i]).sortkeys&&(o.sortkeys=[]),l=[a=this.retrieveItem(""+o.id),o],h.push(l),m[n].citationItems[i].item=a,c.push(""+o.id);m[n].properties.unsorted||h.sort(this.citation.srt.compareCompositeKeys),m[n].sortedItems=h,this.registry.citationreg.citationById[m[n].citationID]=m[n]}for(this.updateItems(c),n=0,r=e.length;n<r;n+=1)u.push([""+e[n].citationID,e[n].properties.noteIndex]);var f=[];return e&&e.length?f=this.processCitationCluster(e[0],[],u.slice(1)):(this.registry=new t.Registry(this),this.tmp=new t.Engine.Tmp,this.disambiguate=new t.Disambiguation(this)),f},t.Engine.prototype.updateItems=function(e,t,n,r){var i=this.tmp.area,s=this.tmp.root,o=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),this.registry.init(e),n)for(var a in this.registry.ambigcites)this.registry.ambigsTouched[a]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=i,this.tmp.root=s,this.registry.getSortedIds()},t.Engine.prototype.updateUncitedItems=function(e,t){var n,r=this.tmp.area,i=this.tmp.root,s=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},e||(e=[]),"object"==typeof e)if("undefined"==typeof e.length)for(var o in n=e,e=[],n)e.push(o);else if("number"==typeof e.length){n={};for(var a=0,l=e.length;a<l;a+=1)n[e[a]]=!0}return this.registry.init(e,!0),this.registry.dopurge(n),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=r,this.tmp.root=i,this.registry.getSortedIds()},t.localeResolve=function(e,n){var r,i;return n||(n="en-US"),e||(e=n),r={},i=e.split(/[\-_]/),r.base=t.LANG_BASES[i[0]],"undefined"===typeof r.base?{base:n,best:e,bare:i[0]}:(1===i.length&&(r.generic=!0),1===i.length||"x"===i[1]?r.best=r.base.replace("_","-"):r.best=i.slice(0,2).join("-"),r.base=r.base.replace("_","-"),r.bare=i[0],r)},t.Engine.prototype.localeConfigure=function(e,n){var r;if((!n||!this.locale[e.best])&&("en-US"===e.best?(r=t.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(r,"en-US",e.best)):"en-US"!==e.best&&(e.base!==e.best&&(r=t.setupXml(this.sys.retrieveLocale(e.base)),this.localeSet(r,e.base,e.best)),r=t.setupXml(this.sys.retrieveLocale(e.best)),this.localeSet(r,e.best,e.best)),this.localeSet(this.cslXml,"",e.best),this.localeSet(this.cslXml,e.bare,e.best),e.base!==e.best&&this.localeSet(this.cslXml,e.base,e.best),this.localeSet(this.cslXml,e.best,e.best),"undefined"===typeof this.locale[e.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(e.best.slice(0,2).toLowerCase())>-1?this.locale[e.best].terms["page-range-delimiter"]="-":this.locale[e.best].terms["page-range-delimiter"]="\u2013"),"undefined"===typeof this.locale[e.best].terms["year-range-delimiter"]&&(this.locale[e.best].terms["year-range-delimiter"]="\u2013"),"undefined"===typeof this.locale[e.best].terms["citation-range-delimiter"]&&(this.locale[e.best].terms["citation-range-delimiter"]="\u2013"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,o=i.length;s<o;s+=1)for(var a=0,l=this.opt[i[s]].length;a<l;a+=1)this.opt[i[s]][a]=this.opt[i[s]][a].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},t.Engine.prototype.localeSet=function(e,n,r){var i,s,o,a,l,u,c,h,p,d,m,f;if(n=n.replace("_","-"),r=r.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(n=n.toLowerCase(),r=r.toLowerCase()),this.locale[r]||(this.locale[r]={},this.locale[r].terms={},this.locale[r].opts={},this.locale[r].opts["skip-words"]=t.SKIP_WORDS,this.locale[r].opts["leading-noise-words"]||(this.locale[r].opts["leading-noise-words"]=[]),this.locale[r].dates={},this.locale[r].ord={"1.0.1":!1,keys:{}},this.locale[r]["noun-genders"]={}),s=e.makeXml(),e.nodeNameIs(e.dataObj,"locale"))s=e.dataObj;else{o=e.getNodesByName(e.dataObj,"locale");var g=!1;for(l=0,m=e.numberofnodes(o);l<m;l+=1)if(i=o[l],g||e.getAttributeValue(i,"lang","xml")!==n){var b=e.getAttributeValue(i,"lang","xml"),y=e.getNodesByName(i,"style-options");if(b&&y&&y.length){var v=e.getAttributeValue(y[0],"jurisdiction-preference");v&&(this.locale[b]||(this.locale[b]={opts:{}}),this.locale[b].opts["jurisdiction-preference"]=v.split(/\s+/))}}else s=i,g=!0}for(o=e.getNodesByName(s,"type"),F=0,j=e.numberofnodes(o);F<j;F+=1){var _=o[F],E=e.getAttributeValue(_,"name"),T=e.getAttributeValue(_,"gender");this.opt.gender[E]=T}if(e.getNodesByName(s,"term","ordinal").length){for(var x in this.locale[r].ord.keys)delete this.locale[r].terms[x];this.locale[r].ord={"1.0.1":!1,keys:{}}}o=e.getNodesByName(s,"term");var w={"last-digit":{},"last-two-digits":{},"whole-number":{}},A=!1,S={};for(l=0,m=e.numberofnodes(o);l<m;l+=1){if(u=o[l],"sub verbo"===(h=e.getAttributeValue(u,"name"))&&(h="sub-verbo"),"ordinal"===h.slice(0,7)){if("ordinal"===h)A=!0;else{var k,C=e.getAttributeValue(u,"match"),I=h.slice(8);(k=e.getAttributeValue(u,"gender-form"))||(k="neuter"),C||(C="last-two-digits","0"===I.slice(0,1)&&(C="last-digit")),"0"===I.slice(0,1)&&(I=I.slice(1)),w[C][I]||(w[C][I]={}),w[C][I][k]=h}this.locale[r].ord.keys[h]=!0}"undefined"===typeof this.locale[r].terms[h]&&(this.locale[r].terms[h]={}),c="long",k=!1,e.getAttributeValue(u,"form")&&(c=e.getAttributeValue(u,"form")),e.getAttributeValue(u,"gender-form")&&(k=e.getAttributeValue(u,"gender-form")),e.getAttributeValue(u,"gender")&&(this.locale[r]["noun-genders"][h]=e.getAttributeValue(u,"gender")),k?(this.locale[r].terms[h][k]={},this.locale[r].terms[h][k][c]=[],f=this.locale[r].terms[h][k],S[h]=!0):(this.locale[r].terms[h][c]=[],f=this.locale[r].terms[h]),e.numberofnodes(e.getNodesByName(u,"multiple"))?(f[c][0]=e.getNodeValue(u,"single"),f[c][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),f[c][1]=e.getNodeValue(u,"multiple"),f[c][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(f[c]=e.getNodeValue(u),f[c].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[r].terms.supplement||(this.locale[r].terms.supplement={}),this.locale[r].terms.supplement.long||(this.locale[r].terms.supplement.long=["supplement","supplements"]),A){for(var N in S){var O={},R=0;for(var D in this.locale[r].terms[N])["masculine","feminine"].indexOf(D)>-1?O[D]=this.locale[r].terms[N][D]:R+=1;if(!R)if(O.feminine)for(var D in O.feminine)this.locale[r].terms[N][D]=O.feminine[D];else if(O.masculine)for(var D in O.masculine)this.locale[r].terms[N][D]=O.masculine[D]}this.locale[r].ord["1.0.1"]=w}for(h in this.locale[r].terms)for(F=0,j=2;F<j;F+=1)if(k=t.GENDERS[F],this.locale[r].terms[h][k])for(c in this.locale[r].terms[h])this.locale[r].terms[h][k][c]||(this.locale[r].terms[h][k][c]=this.locale[r].terms[h][c]);for(o=e.getNodesByName(s,"style-options"),l=0,m=e.numberofnodes(o);l<m;l+=1)for(d in p=o[l],a=e.attributes(p))if(a.hasOwnProperty(d))if("@punctuation-in-quote"===d||"@limit-day-ordinals-to-day-1"===d)"true"===a[d]?this.locale[r].opts[d.slice(1)]=!0:this.locale[r].opts[d.slice(1)]=!1;else if("@jurisdiction-preference"===d){var P=a[d].split(/\s+/);this.locale[r].opts[d.slice(1)]=P}else if("@skip-words"===d){var L=a[d].split(/\s*,\s*/);this.locale[r].opts[d.slice(1)]=L}else if("@leading-noise-words"===d){var M=a[d].split(/\s*,\s*/);this.locale[r].opts["leading-noise-words"]=M}else if("@name-as-sort-order"===d){this.locale[r].opts["name-as-sort-order"]={};for(var F=0,j=(B=a[d].split(/\s+/)).length;F<j;F+=1)this.locale[r].opts["name-as-sort-order"][B[F]]=!0}else if("@name-as-reverse-order"===d){this.locale[r].opts["name-as-reverse-order"]={};for(F=0,j=(B=a[d].split(/\s+/)).length;F<j;F+=1)this.locale[r].opts["name-as-reverse-order"][B[F]]=!0}else if("@name-never-short"===d){this.locale[r].opts["name-never-short"]={};var B;for(F=0,j=(B=a[d].split(/\s+/)).length;F<j;F+=1)this.locale[r].opts["name-never-short"][B[F]]=!0}for(o=e.getNodesByName(s,"date"),l=0,m=e.numberofnodes(o);l<m;l+=1){var U=o[l];this.locale[r].dates[e.getAttributeValue(U,"form")]=U}t.SET_COURT_CLASSES(this,r,e,s)},t.getLocaleNames=function(e,n){var r=t.setupXml(e);function i(e,n){var r=["base","best"];if(n)for(var i=t.localeResolve(n),s=0,o=r.length;s<o;s++)i[r[s]]&&-1===e.indexOf(i[r[s]])&&e.push(i[r[s]])}var s=["en-US"];function o(e){for(var t=r.getNodesByName(r.dataObj,e),n=0,i=t.length;n<i;n++){var o=r.getAttributeValue(t[n],"locale");if(o)for(var a=0,l=(o=o.split(/ +/)).length;a<l;a++)this.extendLocaleList(s,o[a])}}i(s,n);var a=r.getNodesByName(r.dataObj,"style")[0],l=r.getAttributeValue(a,"default-locale");i(s,l);for(var u=["layout","if","else-if","condition"],c=0,h=u.length;c<h;c++)o(r);return s},t.Node={},t.Node.bibliography={build:function(e,n){if(this.tokentype===t.START){e.build.area="bibliography",e.build.root="bibliography",e.build.extension="";this.execs.push((function(e){e.tmp.area="bibliography",e.tmp.root="bibliography",e.tmp.extension=""}))}n.push(this)}},t.Node.choose={build:function(e,n){var r;this.tokentype===t.START&&(r=function(e){e.tmp.jump.push(void 0,t.LITERAL)}),this.tokentype===t.END&&(r=function(e){e.tmp.jump.pop()}),this.execs.push(r),n.push(this)},configure:function(e,n){this.tokentype===t.END?(e.configure.fail.push(n),e.configure.succeed.push(n)):(e.configure.fail.pop(),e.configure.succeed.pop())}},t.Node.citation={build:function(e,n){if(this.tokentype===t.START){e.build.area="citation",e.build.root="citation",e.build.extension="";this.execs.push((function(e){e.tmp.area="citation",e.tmp.root="citation",e.tmp.extension=""}))}if(this.tokentype===t.END){if(e.opt.grouped_sort="in-text"===e.opt.xclass&&e.citation.opt.collapse&&e.citation.opt.collapse.length||e.citation.opt.cite_group_delimiter&&e.citation.opt.cite_group_delimiter.length&&e.opt.update_mode!==t.POSITION&&e.opt.update_mode!==t.NUMERIC,e.opt.grouped_sort&&e.citation_sort.opt.sort_directions.length){var r=e.citation_sort.opt.sort_directions[0].slice();e.citation_sort.opt.sort_directions=[r].concat(e.citation_sort.opt.sort_directions)}e.citation.srt=new t.Registry.Comparifier(e,"citation_sort")}n.push(this)}},t.Node["#comment"]={build:function(){}},t.Node.date={build:function(e,n){var r,i,s,o,a,l,u,c,h,p;this.tokentype!==t.START&&this.tokentype!==t.SINGLETON||(e.dateput.string(e,e.dateput.queue),e.tmp.date_token=t.Util.cloneToken(this),e.tmp.date_token.strings.prefix="",e.tmp.date_token.strings.suffix="",e.dateput.openLevel(this),e.build.date_parts=[],e.build.date_variables=this.variables,e.build.extension||t.Util.substituteStart.call(this,e,n),r=e.build.extension?t.dateMacroAsSortKey:function(e,t,n){var r;if(e.tmp.element_rendered_ok=!1,e.tmp.donesies=[],e.tmp.dateparts=[],r=[],!this.variables.length||e.tmp.just_looking&&"accessed"===this.variables[0])e.tmp.date_object=!1;else{for("undefined"===typeof(i=t[this.variables[0]])&&(i={"date-parts":[[0]]},e.opt.development_extensions.locator_date_and_revision&&n&&"locator-date"===this.variables[0]&&n["locator-date"]&&(i=n["locator-date"])),e.tmp.date_object=i,s=this.dateparts.length,o=0;o<s;o+=1)a=this.dateparts[o],("undefined"!==typeof e.tmp.date_object[a+"_end"]||"month"===a&&"undefined"!==typeof e.tmp.date_object.season_end)&&r.push(a);for(l=[],s=(u=["year","month","day"]).length,o=0;o<s;o+=1)r.indexOf(u[o])>-1&&l.push(u[o]);for(r=l.slice(),c=2,s=r.length,o=0;o<s;o+=1)if(a=r[o],h=e.tmp.date_object[a],p=e.tmp.date_object[a+"_end"],h!==p){c=o;break}e.tmp.date_collapse_at=r.slice(c)}},this.execs.push(r),r=function(e,t){if(t[this.variables[0]]&&(e.output.startTag("date",this),"issued"===this.variables[0]&&("legal_case"===t.type||"legislation"===t.type)&&-1===e.opt.disable_duplicate_year_suppression.indexOf(t.country)&&!e.tmp.extension&&""+t["collection-number"]===""+e.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var n in e.tmp.date_object)if(e.tmp.date_object.hasOwnProperty(n)&&"year"===n.slice(0,4)){e.tmp.issued_date={};var r=e.output.current.mystack.slice(-2)[0].blobs;e.tmp.issued_date.list=r,e.tmp.issued_date.pos=r.length-1}},this.execs.push(r)),e.build.extension||this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||(r=function(e,t){t[this.variables[0]]&&e.output.endTag()},this.execs.push(r)),n.push(this),this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||e.build.extension||t.Util.substituteEnd.call(this,e,n)}},t.Node["date-part"]={build:function(e,n){var r,i,s,o,a,l,u,c,h,p,d,m,f,g,b,y,v,_,E,T;this.strings.form||(this.strings.form="long"),e.build.date_parts.push(this.strings.name);var x=e.build.date_variables[0];function w(n,r,i){if(!i)return i;if(i=""+t.Util.Dates[this.strings.name][n](e,i,r,this.default_locale),"month"===this.strings.name)if(e.tmp.strip_periods)i=i.replace(/\./g,"");else for(var s=0,o=this.decorations.length;s<o;s+=1)if("@strip-periods"===this.decorations[s][0]&&"true"===this.decorations[s][1]){i=i.replace(/\./g,"");break}return i}r=function(e,n){if(e.tmp.date_object){e.tmp.probably_rendered_something=!0;var r="";if(o=!0,a="",l="",e.tmp.donesies.push(this.strings.name),e.tmp.date_object.literal&&"year"===this.strings.name&&(r=e.tmp.date_object.literal,e.output.append(e.tmp.date_object.literal,this)),e.tmp.date_object&&(a=e.tmp.date_object[this.strings.name],l=e.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==a||e.tmp.suppress_decorations||(a=!1),u=!e.tmp.suppress_decorations,c=e.tmp.have_collapsed,h="year-suffix"===e[e.tmp.area].opt.collapse||"year-suffix-ranged"===e[e.tmp.area].opt.collapse,p=e.opt["disambiguate-add-year-suffix"],u&&p&&h&&(e.tmp.years_used.push(a),e.tmp.last_years_used.length>=e.tmp.years_used.length&&c&&e.tmp.last_years_used[e.tmp.years_used.length-1]===a&&(a=!1)),"undefined"!==typeof a){d=!1,m=!1,"year"===this.strings.name&&(parseInt(a,10)<500&&parseInt(a,10)>0&&(m=e.getTerm("ad")),parseInt(a,10)<0&&(d=e.getTerm("bc"),a=-1*parseInt(a,10)),l&&(parseInt(l,10)<500&&parseInt(l,10)>0&&e.getTerm("ad"),parseInt(l,10)<0&&(e.getTerm("bc"),l=-1*parseInt(l,10))));for(var A=""+e.tmp.date_object.month;A.length<2;)A="0"+A;A="month-"+A;var S=e.locale[e.opt.lang]["noun-genders"][A];if(this.strings.form){var k=this.strings.form,C=this.strings.form;"day"===this.strings.name&&"ordinal"===k&&e.locale[e.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(1!=a&&(k="numeric"),1!=l&&(C="numeric")),a=w.call(this,k,S,a),l=w.call(this,C,S,l)}if(e.output.openLevel("empty"),e.tmp.date_collapse_at.length){for(f=!0,s=e.tmp.date_collapse_at.length,i=0;i<s;i+=1)if(E=e.tmp.date_collapse_at[i],-1===e.tmp.donesies.indexOf(E)){f=!1;break}if(f){if(""+l!=="0"){if(0===e.dateput.queue.length&&(o=!0),e.opt["year-range-format"]&&"expanded"!==e.opt["year-range-format"]&&!e.tmp.date_object.day&&!e.tmp.date_object.month&&!e.tmp.date_object.season&&"year"===this.strings.name&&a&&l){l=e.fun.year_mangler(a+"-"+l,!0);var I=e.getTerm("year-range-delimiter");l=l.slice(l.indexOf(I)+1)}r=l,e.dateput.append(l,this),o&&(T=e.dateput.current.value().blobs[0])&&(T.strings.prefix="")}r=a,e.output.append(a,this),g=e.output.current.value(),(T=g.blobs[g.blobs.length-1])&&(T.strings.suffix=""),this.strings["range-delimiter"]?e.output.append(this.strings["range-delimiter"]):e.output.append(e.getTerm("year-range-delimiter"),"empty"),e.dateput.closeLevel(),b=e.dateput.current.value(),g.blobs=g.blobs.concat(b),e.dateput.string(e,e.dateput.queue),e.dateput.openLevel(e.tmp.date_token),e.tmp.date_collapse_at=[]}else r=a,e.output.append(a,this),e.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+l!=="0"&&(0===e.dateput.queue.length&&(o=!0),e.dateput.openLevel("empty"),r=l,e.dateput.append(l,this),o&&(T=e.dateput.current.value().blobs[0])&&(T.strings.prefix=""),d&&(r=d,e.dateput.append(d)),m&&(r=m,e.dateput.append(m)),e.dateput.closeLevel())}else r=a,e.output.append(a,this);d&&(r=d,e.output.append(d)),m&&(r=m,e.output.append(m)),e.output.closeLevel()}else"month"===this.strings.name&&e.tmp.date_object.season&&((a=""+e.tmp.date_object.season)&&a.match(/^[1-4]$/)?(e.tmp.group_context.tip.variable_success=!0,r="winter",e.output.append(e.getTerm("season-0"+a),this)):a&&(r=a,e.output.append(a,this)));e.tmp.value=[],!n[x]||!a&&!e.tmp.have_collapsed||e.opt.has_year_suffix||"year"!==this.strings.name||e.tmp.just_looking||e.registry.registry[n.id]&&!1!==e.registry.registry[n.id].disambig.year_suffix&&!e.tmp.has_done_year_suffix&&(e.tmp.has_done_year_suffix=!0,r="x",v=parseInt(e.registry.registry[n.id].disambig.year_suffix,10),y=new t.NumericBlob(e,!1,v,this,n.id),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,_=new t.Util.Suffixator(t.SUFFIX_CHARS),y.setFormatter(_),"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(y.range_prefix=e.getTerm("citation-range-delimiter")),e[e.tmp.area].opt.cite_group_delimiter?y.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter:e[e.tmp.area].opt["year-suffix-delimiter"]?y.successor_prefix=e[e.tmp.area].opt["year-suffix-delimiter"]:y.successor_prefix=e[e.tmp.area].opt.layout_delimiter,y.UGLY_DELIMITER_SUPPRESS_HACK=!0,e.output.append(y,"literal")),r&&!e.tmp.group_context.tip.condition&&(e.tmp.just_did_number=r.match(/[0-9]$/),e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1))}},this.execs.push(r),n.push(this)}},t.Node["else-if"]={build:function(e,n){t.Conditions.TopNode.call(this,e,n),n.push(this)},configure:function(e,n){t.Conditions.Configure.call(this,e,n)}},t.Node.else={build:function(e,t){t.push(this)},configure:function(e,n){this.tokentype===t.START&&(e.configure.fail[e.configure.fail.length-1]=n)}},t.Node["et-al"]={build:function(e,t){if("citation"===e.build.area||"bibliography"===e.build.area){this.execs.push((function(e){e.tmp.etal_node=this,"string"===typeof this.strings.term&&(e.tmp.etal_term=this.strings.term)}))}t.push(this)}},t.Node.group={build:function(e,n,r){var i,s,o;if(this.realGroup=r,this.tokentype===t.START&&(t.Util.substituteStart.call(this,e,n),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||n.push(this),i=function(e){if(e.output.startTag("group",this),this.strings.label_form_override&&(e.tmp.group_context.tip.label_form||(e.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(e.tmp.group_context.tip.label_capitalize_if_first||(e.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){e.tmp.group_context.tip.condition&&t.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.prefix,null,this);var n=!1,r=!1;e.tmp.group_context.mystack.length&&(e.output.current.value().parent=e.tmp.group_context.tip.output_tip);var i=e.tmp.group_context.tip.label_form;i||(i=this.strings.label_form_override);var s=e.tmp.group_context.tip.label_capitalize_if_first;s||(s=this.strings.label_capitalize_if_first),e.tmp.group_context.tip.condition?(n=e.tmp.group_context.tip.condition,r=e.tmp.group_context.tip.force_suppress):this.strings.reject?n={test:this.strings.reject,not:!0}:this.strings.require&&(n={test:this.strings.require,not:!1});var o={old_term_predecessor:e.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:e.tmp.group_context.tip.variable_success,output_tip:e.output.current.tip,label_form:i,label_static:e.tmp.group_context.tip.label_static,label_capitalize_if_first:s,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:n,force_suppress:r,done_vars:e.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var a=e.tmp.group_context.tip.non_parallel;a||(a={}),Object.assign(a,this.non_parallel),o.non_parallel=a}if(this.parallel_first){var l=e.tmp.group_context.tip.parallel_first;l||(l={}),Object.assign(l,this.parallel_first),o.parallel_first=l}if(this.parallel_last){var u=e.tmp.group_context.tip.parallel_last;u||(u={}),Object.assign(u,this.parallel_last),o.parallel_last=u}if(e.tmp.abbrev_trimmer&&e.tmp.abbrev_trimmer.LAST_TO_FIRST&&o.parallel_last)for(var c in o.parallel_first||(o.parallel_first={}),e.tmp.abbrev_trimmer.LAST_TO_FIRST)o.parallel_last[c]&&(o.parallel_first[c]=!0,delete o.parallel_last[c]);if(e.tmp.group_context.push(o),e.tmp.abbrev_trimmer&&this.parallel_last_to_first)for(var c in e.tmp.abbrev_trimmer.LAST_TO_FIRST||(e.tmp.abbrev_trimmer.LAST_TO_FIRST={}),this.parallel_last_to_first)e.tmp.abbrev_trimmer.LAST_TO_FIRST[c]=!0}},(s=[]).push(i),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(i=function(e,n){if(n.publisher&&n["publisher-place"]){var r=n.publisher.split(/;\s*/),i=n["publisher-place"].split(/;\s*/);r.length>1&&r.length===i.length&&(e.publisherOutput=new t.PublisherOutput(e,this),e.publisherOutput["publisher-list"]=r,e.publisherOutput["publisher-place-list"]=i)}},this.execs.push(i))),this.juris)){var a=new t.Token("choose",t.START);t.Node.choose.build.call(a,e,n);var l=new t.Token("if",t.START);o=this.juris,i=function(n,r){return t.INIT_JURISDICTION_MACROS(e,n,r,o)},l.tests||(l.tests=[]),l.tests.push(i),l.test=e.fun.match.any(l,e,l.tests),n.push(l);var u=new t.Token("text",t.SINGLETON);i=function(e,n,r){var i=n;r&&r["best-jurisdiction"]&&"juris-locator"===this.juris&&(i=r);var s=0;if(e.juris[i["best-jurisdiction"]][this.juris])for(;s<e.juris[i["best-jurisdiction"]][this.juris].length;)s=t.tokenExec.call(e,e.juris[i["best-jurisdiction"]][this.juris][s],n,r)},u.juris=this.juris,u.execs.push(i),n.push(u);var c=new t.Token("if",t.END);t.Node.if.build.call(c,e,n);var h=new t.Token("else",t.START);t.Node.else.build.call(h,e,n)}if(this.tokentype===t.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,i=function(e){e.publisherOutput&&(e.publisherOutput.render(),e.publisherOutput=!1)},this.execs.push(i)),i=function(e,n,r){if(e.tmp.group_context.tip.condition||e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1),e.output.endTag(),this.realGroup){var i=e.tmp.group_context.pop();if(i.parallel_delimiter_override&&(e.tmp.group_context.tip.parallel_delimiter_override=i.parallel_delimiter_override,!e.tmp.just_looking&&e.registry.registry[n.id].master&&(e.registry.registry[n.id].parallel_delimiter_override=i.parallel_delimiter_override)),i.parallel_delimiter_override_on_suppress&&(e.tmp.group_context.tip.parallel_delimiter_override_on_suppress=i.parallel_delimiter_override_on_suppress),"bibliography_sort"===e.tmp.area){var s=i.done_vars.indexOf("citation-number");this.strings.sort_direction&&s>-1&&1==e.tmp.group_context.length()&&(this.strings.sort_direction===t.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=t.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=t.ASCENDING,i.done_vars=i.done_vars.slice(0,s).concat(i.done_vars.slice(s+1)))}if(i.condition&&(i.force_suppress=t.EVALUATE_GROUP_CONDITION(e,i)),e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.force_suppress=i.force_suppress),!i.force_suppress&&(i.variable_success||i.term_intended&&!i.variable_attempt)){this.isJurisLocatorLabel||(e.tmp.group_context.tip.variable_success=!0);var o=e.output.current.value().blobs;e.output.current.value().blobs.length;if(!e.tmp.just_looking&&(i.non_parallel||i.parallel_last||i.parallel_first||i.parallel_delimiter_override||i.parallel_delimiter_override_on_suppress)){var a=e.parallel.checkRepeats(i);if(a&&o&&o.pop(),e.tmp.cite_index>0&&(a||!i.parallel_first&&!i.parallel_last&&!i.non_parallel)){var l=e.tmp.suppress_repeats[e.tmp.cite_index-1];a&&i.parallel_delimiter_override_on_suppress&&(l.SIBLING||l.ORPHAN)?e.output.queue.slice(-1)[0].parallel_delimiter=i.parallel_delimiter_override_on_suppress:i.parallel_delimiter_override&&l.SIBLING&&(e.output.queue.slice(-1)[0].parallel_delimiter=i.parallel_delimiter_override)}}}else{if(e.tmp.term_predecessor=i.old_term_predecessor,e.tmp.group_context.tip.variable_attempt=i.variable_attempt,i.force_suppress&&!e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.variable_attempt=!0,e.tmp.group_context.tip.variable_success=i.variable_success_parent),i.force_suppress)for(var u=0,c=i.done_vars.length;u<c;u++)for(var h=i.done_vars[u],p=0,d=e.tmp.done_vars.length;p<d;p++)e.tmp.done_vars[p]===h&&(e.tmp.done_vars=e.tmp.done_vars.slice(0,p).concat(e.tmp.done_vars.slice(p+1)));e.output.current.value().blobs&&e.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var p=new t.Token("else",t.END);t.Node.else.build.call(p,e,n);var d=new t.Token("choose",t.END);t.Node.choose.build.call(d,e,n)}this.tokentype===t.END&&(this.juris||n.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),t.Util.substituteEnd.call(this,e,n))}},t.Node.if={build:function(e,n){t.Conditions.TopNode.call(this,e,n),n.push(this)},configure:function(e,n){t.Conditions.Configure.call(this,e,n)}},t.Node.conditions={build:function(e){this.tokentype===t.START&&e.tmp.conditions.addMatch(this.match),this.tokentype===t.END&&e.tmp.conditions.matchCombine()}},t.Node.condition={build:function(e){if(this.tokentype===t.SINGLETON){var n=e.fun.match[this.match](this,e,this.tests);e.tmp.conditions.addTest(n)}}},t.Conditions={},t.Conditions.TopNode=function(e){var n;this.tokentype!==t.START&&this.tokentype!==t.SINGLETON||(this.locale&&(e.opt.lang=this.locale),this.tests&&this.tests.length?this.test=e.fun.match[this.match](this,e,this.tests):e.tmp.conditions=new t.Conditions.Engine(e,this),0===e.build.substitute_level.value()&&(n=function(e){e.tmp.condition_counter++},this.execs.push(n))),this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||(0===e.build.substitute_level.value()&&(n=function(e){(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0)&&(e.tmp.condition_lang_counter_arr.slice(-1)[0]===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop()));this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(n)),n=function(e){return this[e.tmp.jump.value()]},this.execs.push(n),this.locale_default&&(e.opt.lang=this.locale_default))},t.Conditions.Configure=function(e,n){this.tokentype===t.START?(this.fail=e.configure.fail.slice(-1)[0],this.succeed=this.next,e.configure.fail[e.configure.fail.length-1]=n):this.tokentype===t.SINGLETON?(this.fail=this.next,this.succeed=e.configure.succeed.slice(-1)[0],e.configure.fail[e.configure.fail.length-1]=n):(this.succeed=e.configure.succeed.slice(-1)[0],this.fail=this.next)},t.Conditions.Engine=function(e,t){this.token=t,this.state=e},t.Conditions.Engine.prototype.addTest=function(e){this.token.tests||(this.token.tests=[]),this.token.tests.push(e)},t.Conditions.Engine.prototype.addMatch=function(e){this.token.match=e},t.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},t.Node.info={build:function(e){this.tokentype===t.START?e.build.skip="info":e.build.skip=!1}},t.Node.institution={build:function(e,n){if([t.SINGLETON,t.START].indexOf(this.tokentype)>-1){this.execs.push((function(e){"string"===typeof this.strings.delimiter?e.tmp.institution_delimiter=this.strings.delimiter:e.tmp.institution_delimiter=e.tmp.name_delimiter,"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")?e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&":"none"===e.inheritOpt(this,"and")&&(this.and_term=e.tmp.institution_delimiter),"undefined"===typeof this.and_term&&e.tmp.and_term&&(this.and_term=e.tmp.and_term),t.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"===typeof e.tmp.institution_delimiter&&(this.and_prefix_multiple=e.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.institution_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},"undefined"!==typeof this.and_term?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new t.Blob(e.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new t.Blob(e.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),e.nameOutput.institution=this}))}n.push(this)},configure:function(e){[t.SINGLETON,t.START].indexOf(this.tokentype)>-1&&(e.build.has_institution=!0)}},t.Node["institution-part"]={build:function(e,t){var n;"long"===this.strings.name?n=this.strings["if-short"]?function(e){e.nameOutput.institutionpart["long-with-short"]=this}:function(e){e.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(n=function(e){e.nameOutput.institutionpart.short=this}),this.execs.push(n),t.push(this)}},t.Node.key={build:function(e,n){var r;n=e[e.build.root+"_sort"].tokens;var i=new t.Token("key",t.START);e.tmp.root=e.build.root,i.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),r=function(e){e.tmp.done_vars=[]},i.execs.push(r),r=function(e){e.output.openLevel("empty")},i.execs.push(r);var s=[];if(this.strings.sort_direction===t.DESCENDING?(s.push(1),s.push(-1)):(s.push(-1),s.push(1)),e[e.build.area].opt.sort_directions.push(s),t.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(e.build.date_key=!0),r=function(e){e.tmp.sort_key_flag=!0,e.inheritOpt(this,"et-al-min")&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),e.inheritOpt(this,"et-al-use-first")&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),"boolean"===typeof e.inheritOpt(this,"et-al-use-last")&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"))},i.execs.push(r),n.push(i),this.variables.length){var o=this.variables[0];if(t.NAME_VARIABLES.indexOf(o)>-1){var a=new t.Token("names",t.START);a.tokentype=t.START,a.variables=this.variables,t.Node.names.build.call(a,e,n);var l=new t.Token("name",t.SINGLETON);l.tokentype=t.SINGLETON,l.strings["name-as-sort-order"]="all",l.strings["sort-separator"]=" ",l.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),l.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),l.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),t.Node.name.build.call(l,e,n);var u=new t.Token("institution",t.SINGLETON);u.tokentype=t.SINGLETON,t.Node.institution.build.call(u,e,n);var c=new t.Token("names",t.END);c.tokentype=t.END,t.Node.names.build.call(c,e,n)}else{var h=new t.Token("text",t.SINGLETON);if(h.strings.sort_direction=this.strings.sort_direction,h.dateparts=this.dateparts,t.NUMERIC_VARIABLES.indexOf(o)>-1)r="citation-number"===o?function(e,n){if("bibliography_sort"===e.tmp.area&&(this.strings.sort_direction===t.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=t.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=t.ASCENDING),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var r=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[n.id].seq];else r=e.registry.registry[n.id].seq;r&&(r=t.Util.padding(""+r)),e.output.append(r,this)}:function(e,n){var r=!1;(r=n[o])&&(r=t.Util.padding(r)),e.output.append(r,this)};else if("citation-label"===o)r=function(e,t){var n=e.getCitationLabel(t);e.output.append(n,this)};else if(t.DATE_VARIABLES.indexOf(o)>-1)r=t.dateAsSortKey,h.variables=this.variables;else if("title"===o){r=e.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else r="court-class"===o?function(e,n,r){t.INIT_JURISDICTION_MACROS(e,n,r,"juris-main");var i=t.GET_COURT_CLASS(e,n,!0);e.output.append(i,"empty")}:function(e,t){var n=t[o];e.output.append(n,"empty")};h.execs.push(r),n.push(h)}}else{var p=new t.Token("text",t.SINGLETON);p.strings.sort_direction=this.strings.sort_direction,p.postponed_macro=this.postponed_macro,t.expandMacro.call(e,p,n)}var d=new t.Token("key",t.END);r=function(e){var t=e.output.string(e,e.output.queue);e.sys.normalizeUnicode&&(t=e.sys.normalizeUnicode(t)),""===(t=t?t.split(" ").join(e.opt.sort_sep)+e.opt.sort_sep:"")&&(t=void 0),"string"!==typeof t&&(t=void 0),e[e[e.tmp.area].root+"_sort"].keys.push(t),e.tmp.value=[]},d.execs.push(r),e.build.date_key&&("citation"===e.build.area&&"_sort"===e.build.extension&&(e[e.build.area].opt.sort_directions.push([-1,1]),r=function(e,n){var r=e.registry.registry[n.id].disambig.year_suffix;r||(r=0);var i=t.Util.padding(""+r);e[e.tmp.area].keys.push(i)},d.execs.push(r)),e.build.date_key=!1),r=function(e){e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-use-last"]=void 0,e.tmp.sort_key_flag=!1},d.execs.push(r),n.push(d)}},t.Node.label={build:function(e,n){if(this.strings.term){this.execs.push((function(e,n,r){var i=t.evaluateLabel(this,e,n,r);r&&"locator"===this.strings.term&&(r.section_form_override=this.strings.form),i&&(e.tmp.group_context.tip.term_intended=!0),t.UPDATE_GROUP_CONTEXT_CONDITION(e,i,null,this),-1===i.indexOf("%s")&&(this.strings.capitalize_if_first&&(e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area||(i=t.Output.Formatters["capitalize-first"](e,i))),e.output.append(i,this))}))}else{this.strings.form||(this.strings.form="long");for(var r=e.build.names_variables[e.build.names_variables.length-1],i=e.build.name_label[e.build.name_label.length-1],s=0,o=r.length;s<o;s+=1)i[r[s]]||(i[r[s]]={});if(e.build.name_flag)for(s=0,o=r.length;s<o;s+=1)i[r[s]].after=this;else for(var s=0,o=r.length;s<o;s+=1)i[r[s]].before=this}n.push(this)}},t.Node.layout={build:function(e,n){var r,i,s,o,a;function l(){"bibliography"===e.build.area&&(s=new t.Token("text",t.SINGLETON),r=function(e){if(!e.tmp.parallel_and_not_last){var t;t=e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale]?e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale].suffix:e.bibliography.opt.layout_suffix;var n=e.output.current.value();e.opt.using_display?n.blobs[n.blobs.length-1].strings.suffix=t:n.strings.suffix=t}e.bibliography.opt["second-field-align"]&&e.output.endTag("bib_other")},s.execs.push(r),n.push(s))}if(this.tokentype===t.START&&(this.locale_raw?e.build.current_default_locale=this.locale_raw:e.build.current_default_locale=e.opt["default-locale"],r=function(e,n,r){if(e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&n.system_id&&"citation"===e.tmp.area){var i=new t.Token("group",t.START);i.decorations=[["@cite","entry"]],e.output.startTag("cite_entry",i),e.output.current.value().item_id=n.system_id,r&&(e.output.current.value().locator_txt=r.locator_txt,e.output.current.value().suffix_txt=r.suffix_txt)}},this.execs.push(r)),this.tokentype!==t.START||e.tmp.cite_affixes[e.build.area]||(r=function(e,t,n){if(e.tmp.done_vars=[],n&&n["author-only"]&&e.tmp.done_vars.push("locator"),e.opt.suppressedJurisdictions[t.country]&&t.country&&-1===["treaty","patent"].indexOf(t.type)&&e.tmp.done_vars.push("country"),!e.tmp.just_looking&&e.registry.registry[t.id]&&e.registry.registry[t.id].parallel&&e.tmp.done_vars.push("first-reference-note-number"),!e.tmp.just_looking&&e.tmp.abbrev_trimmer&&t.jurisdiction)for(var r in e.tmp.abbrev_trimmer.QUASHES[t.jurisdiction])e.tmp.done_vars.push(r);e.tmp.rendered_name=!1},this.execs.push(r),r=function(e){e.tmp.sort_key_flag=!1},this.execs.push(r),r=function(e){e.tmp.nameset_counter=0},this.execs.push(r),r=function(e,n){var r=new t.Token;e.output.openLevel(r)},this.execs.push(r),n.push(this),"citation"===e.build.area&&(i=new t.Token("text",t.SINGLETON),r=function(e,n,r){if(r&&r.prefix){var i=t.checkPrefixSpaceAppend(e,r.prefix);e.tmp.just_looking||(i=e.output.checkNestedBrace.update(i));var s=t.checkIgnorePredecessor(e,i);e.output.append(i,this,!1,s)}},i.execs.push(r),n.push(i))),this.locale_raw&&((a=new t.Token("dummy",t.START)).locale=this.locale_raw,a.strings.delimiter=this.strings.delimiter,a.strings.suffix=this.strings.suffix,e.tmp.cite_affixes[e.build.area]||(e.tmp.cite_affixes[e.build.area]={})),this.tokentype===t.START&&(e.build.layout_flag=!0,this.locale_raw||(e[e.tmp.area].opt.topdecor=[this.decorations],e[e.tmp.area+"_sort"].opt.topdecor=[this.decorations],e[e.build.area].opt.layout_prefix=this.strings.prefix,e[e.build.area].opt.layout_suffix=this.strings.suffix,e[e.build.area].opt.layout_delimiter=this.strings.delimiter,e[e.build.area].opt.layout_decorations=this.decorations,e.tmp.cite_affixes[e.build.area]&&(o=new t.Token("else",t.START),t.Node.else.build.call(o,e,n))),this.locale_raw)){if(e.build.layout_locale_flag)a.name="else-if",t.Attributes["@locale-internal"].call(a,e,this.locale_raw),t.Node["else-if"].build.call(a,e,n);else{var u=new t.Token("choose",t.START);t.Node.choose.build.call(u,e,n),a.name="if",t.Attributes["@locale-internal"].call(a,e,this.locale_raw),t.Node.if.build.call(a,e,n)}e.tmp.cite_affixes[e.build.area][a.locale]={},e.tmp.cite_affixes[e.build.area][a.locale].delimiter=this.strings.delimiter,e.tmp.cite_affixes[e.build.area][a.locale].suffix=this.strings.suffix}this.tokentype===t.END&&(this.locale_raw&&(l(),e.build.layout_locale_flag?(a.name="else-if",a.tokentype=t.END,t.Attributes["@locale-internal"].call(a,e,this.locale_raw),t.Node["else-if"].build.call(a,e,n)):(a.name="if",a.tokentype=t.END,t.Attributes["@locale-internal"].call(a,e,this.locale_raw),t.Node.if.build.call(a,e,n),e.build.layout_locale_flag=!0)),this.locale_raw||(l(),e.tmp.cite_affixes[e.build.area]&&e.build.layout_locale_flag&&(o=new t.Token("else",t.END),t.Node.else.build.call(o,e,n),o=new t.Token("choose",t.END),t.Node.choose.build.call(o,e,n)),e.build_layout_locale_flag=!0,"citation"===e.build.area&&(s=new t.Token("text",t.SINGLETON),r=function(e,n,r){if(r&&r.suffix){var i=t.checkSuffixSpacePrepend(e,r.suffix);e.tmp.just_looking||(i=e.output.checkNestedBrace.update(i)),e.output.append(i,this)}},s.execs.push(r),n.push(s)),r=function(e){e.output.closeLevel()},this.execs.push(r),r=function(e,t){e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&t.system_id&&"citation"===e.tmp.area&&e.output.endTag()},this.execs.push(r),n.push(this),e.build.layout_flag=!1,e.build.layout_locale_flag=!1))}},t.Node.macro={build:function(){}},t.Node.alternative={build:function(e,n){if(this.tokentype===t.START){var r=new t.Token("choose",t.START);t.Node.choose.build.call(r,e,n);var i=new t.Token("if",t.START);t.Attributes["@alternative-node-internal"].call(i,e),t.Node.if.build.call(i,e,n);var s=function(e,n){if(e.tmp.oldItem=n,e.tmp.oldLang=e.opt.lang,e.tmp.abort_alternative=!0,n["language-name"]&&n["language-name-original"]){var r=JSON.parse(JSON.stringify(n));r.language=r["language-name"];var i=t.localeResolve(r.language,e.opt["default-locale"][0]);if(e.opt.multi_layout)for(var s in e.opt.multi_layout){var o=e.opt.multi_layout[s],a=!1;for(var l in o){var u=o[l];if(i.best===u.best||i.base===u.base||i.bare===u.bare){a=o[0].best;break}}a||(a=e.opt["default-locale"][0]),e.opt.lang=a}for(var c in r)if(-1===["id","type","language","multi"].indexOf(c)&&"alt-"!==c.slice(0,4))if(r.multi&&r.multi._keys[c]){var h=!0;for(var p in r.multi._keys[c])if(i.bare===p.replace(/^([a-zA-Z]+).*/,"$1")){h=!1;break}h&&delete r[c]}else delete r[c];for(var c in r)"alt-"===c.slice(0,4)?(r[c.slice(4)]=r[c],e.tmp.abort_alternative=!1):r.multi&&r.multi._keys&&!r["alt-"+c]&&r.multi._keys[c]&&(r.multi._keys[c][i.best]?(r[c]=r.multi._keys[c][i.best],e.tmp.abort_alternative=!1):r.multi._keys[c][i.base]?(r[c]=r.multi._keys[c][i.base],e.tmp.abort_alternative=!1):r.multi._keys[c][i.bare]&&(r[c]=r.multi._keys[c][i.bare],e.tmp.abort_alternative=!1))}e.output.openLevel(this),e.registry.refhash[n.id]=r,e.nameOutput=new t.NameOutput(e,r)};this.execs.push(s),n.push(this);r=new t.Token("choose",t.START);t.Node.choose.build.call(r,e,n);i=new t.Token("if",t.START);t.Attributes["@alternative-node-internal"].call(i,e);s=function(e){e.tmp.abort_alternative=!0};i.execs.push(s),t.Node.if.build.call(i,e,n)}else if(this.tokentype===t.END){i=new t.Token("if",t.END);t.Node.if.build.call(i,e,n);r=new t.Token("choose",t.END);t.Node.choose.build.call(r,e,n);s=function(e,n){e.output.closeLevel(),e.registry.refhash[n.id]=e.tmp.oldItem,e.opt.lang=e.tmp.oldLang,e.nameOutput=new t.NameOutput(e,e.tmp.oldItem),e.tmp.abort_alternative=!1};this.execs.push(s),n.push(this);i=new t.Token("if",t.END);t.Node.if.build.call(i,e,n);r=new t.Token("choose",t.END);t.Node.choose.build.call(r,e,n)}}},t.Node["alternative-text"]={build:function(e,n){if(this.tokentype===t.SINGLETON){this.execs.push((function(e,n){n=e.refetchItem(n.id);t.getCite.call(e,n)}))}n.push(this)}},t.NameOutput=function(e,t,n){this.debug=!1,this.state=e,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=n,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},t.NameOutput.prototype.init=function(e){this.requireMatch=e.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=e,this.variables=e.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,n=this.variables.length;t<n;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if((this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length)&&this.checkCommonAuthor(this.requireMatch)){for(var t in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var r=this.state.tmp.done_vars.indexOf(this.variables[t]);r>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,r).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},t.NameOutput.prototype.reinit=function(e,n){if(this.requireMatch=e.requireMatch,this.labelVariable=n,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=e.variables;var r=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,s=this.variables.length;i<s;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,t.LITERAL),this.state.tmp.value=r}if(this.checkCommonAuthor(this.requireMatch)){for(var i in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var o=this.state.tmp.done_vars.indexOf(this.variables[i]);o>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,o).concat(this.state.tmp.done_vars.slice(i+1)))}this.variables=[]}},t.NameOutput.prototype.outputNames=function(){var e=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=t.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",m=0,f=this.family.execs.length;m<f;m+=1)this.family.execs[m].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=t.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",m=0,f=this.given.execs.length;m<f;m+=1)this.given.execs[m].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),"count"!==this.name.strings.form){this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var n=[];for(m=0,f=e.length;m<f;m+=1){var r=e[m],i=[],s=!1,o=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&this.state.sys.print("(11a)");for(var a=0,l=this.institutions[r].length;a<l;a+=1)i.push(this.joinPersonsAndInstitutions([this.persons[r][a],this.institutions[r][a]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[r].length){var u=this.nameset_base+this.variable_offset[r];this.freeters[r].length&&(u+=1),s=this.joinInstitutionSets(i,u)}this.debug&&this.state.sys.print("(11c)");o=this.joinFreetersAndInstitutionSets([this.freeters[r],s]);this.debug&&this.state.sys.print("(11d)")}else o=this._join([this.freeters[r]],"");if(o&&(this.state.tmp.extension||(o=this._applyLabels(o,r)),n.push(o)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),m=0,f=n.length;m<f;m+=1)this.state.output.append(n[m],"literal",!0);!this.state.tmp.just_looking&&n.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var c=this.state.output.pop();this.state.tmp.name_node.top=c,this.debug&&this.state.sys.print("(16)");var h=t.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&t.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(c,h),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),"authority"!==e[0]){var p=[],d=this.Item[e[0]];if(d)for(var m=0,f=d.length;m<f;m+=1){var g=t.Util.Names.getRawName(d[m]);g&&p.push(g)}(p=p.join(", "))&&(this.state.tmp.name_node.string=p)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var b=[];b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),(b=b.join(", "))&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(b=this.state.sys.normalizeAbbrevsKey("classic",b)),this.state.transform.loadAbbreviation("default","classic",b,this.Item.language),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),c=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(c)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},t.NameOutput.prototype._applyLabels=function(e,t){var n;if(!this.label||!this.label[this.labelVariable])return e;var r=0,i=this.freeters_count[t]+this.institutions_count[t];if(i>1)r=1;else{for(var s=0,o=this.persons[t].length;s<o;s+=1)i+=this.persons_count[t][s];i>1&&(r=1)}return this.label[this.labelVariable].before?("number"===typeof this.label[this.labelVariable].before.strings.plural&&(r=this.label[this.labelVariable].before.strings.plural),n=this._buildLabel(t,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(n,this.label[this.labelVariable].before,!0),this.state.output.append(e,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()):this.label[this.labelVariable].after&&("number"===typeof this.label[this.labelVariable].after.strings.plural&&(r=this.label[this.labelVariable].after.strings.plural),n=this._buildLabel(t,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,"literal",!0),this.state.output.append(n,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()),e},t.NameOutput.prototype._buildLabel=function(e,n,r,i){this.common_term&&(e=this.common_term);var s=!1,o=this.label[i][r];return o&&(s=t.castLabel(this.state,o,e,n,t.TOLERANT)),s},t.NameOutput.prototype._collapseAuthor=function(){var e,t,n;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,n=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),this.state.tmp.offset_characters=n,this.state.registry.authorstrings[this.Item.id]=t):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,n=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=n),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=n,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},t.NameOutput.prototype.isPerson=function(e){return!(e.literal||!e.given&&e.family&&e.isInstitution)},t.NameOutput.prototype.truncatePersonalNameLists=function(){var e,t,n,r;for(e in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(e)&&(this.freeters_count[e]=this.freeters[e].length,this.freeters[e]=this._truncateNameList(this.freeters,e));for(e in this.persons)if(this.persons.hasOwnProperty(e))for(this.institutions_count[e]=this.institutions[e].length,this._truncateNameList(this.institutions,e),this.persons[e]=this.persons[e].slice(0,this.institutions[e].length),this.persons_count[e]=[],i=0,s=this.persons[e].length;i<s;i+=1)this.persons_count[e][i]=this.persons[e][i].length,this.persons[e][i]=this._truncateNameList(this.persons,e,i);if((r=!(!this.state.opt.development_extensions.etal_min_etal_usefirst_hack||1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking)&&e)||this._please_chop)for(t=0,n=this.variables.length;t<n;t+=1){e=this.variables[t],this.freeters[e].length&&(this._please_chop===e?(this.freeters[e]=this.freeters[e].slice(1),this.freeters_count[e]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.freeters[e]=this.freeters[e].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=r));for(var i=0,s=this.persons[e].length;i<s;i++)if(this.persons[e][i].length){if(this._please_chop===e){this.persons[e][i]=this.persons[e][i].slice(1),this.persons_count[e][i]+=-1,this._please_chop=!1;break}if(r&&!this._please_chop){this.freeters[e]=this.persons[e][i].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=r;break}}this.institutions[e].length&&(this._please_chop===e?(this.institutions[e]=this.institutions[e].slice(1),this.institutions_count[e]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.institutions[e]=this.institutions[e].slice(0,1),this.institutions_count[e]=1,this._please_chop=r))}for(t=0,n=this.variables.length;t<n;t+=1){this.institutions[e].length&&(this.nameset_offset+=1);for(i=0,s=this.persons[e].length;i<s;i++)this.persons[e][i].length&&(this.nameset_offset+=1)}},t.NameOutput.prototype._truncateNameList=function(e,t,n){var r;if(r="undefined"===typeof n?e[t]:e[t][n],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&r.length>50&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var i=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,i+1).concat(r.slice(-1))}return r},t.NameOutput.prototype.divideAndTransliterateNames=function(){var e,t,n,r,i=this.Item,s=this.variables;for(this.varnames=s.slice(),this.freeters={},this.persons={},this.institutions={},e=0,t=s.length;e<t;e+=1){var o=s[e];this.variable_offset[o]=this.nameset_offset;var a=this._normalizeVariableValue(i,o);if(this.name.strings["suppress-min"]&&a.length>=this.name.strings["suppress-min"]&&(a=[]),this.name.strings["suppress-max"]&&a.length<=this.name.strings["suppress-max"]&&(a=[]),this._getFreeters(o,a),this._getPersonsAndInstitutions(o,a),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[o]=[],n=0,r=this.persons[o].length;n<r;n+=1)this.persons[o][n]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[o]=[],this.freeters[o]=this.freeters[o].concat(this.persons[o]),n=0,r=this.persons[o].length;n<r;n+=1)for(var l=0,u=this.persons[o][n].length;l<u;l+=1)this.freeters[o].push(this.persons[o][n][l]);this.persons[o]=[]}}},t.NameOutput.prototype._normalizeVariableValue=function(e,n){var r;return"string"===typeof e[n]||"number"===typeof e[n]?(t.debug('name variable "'+n+'" is string or number, not array. Attempting to fix.'),r=[{literal:e[n]+""}]):e[n]?"number"!==typeof e[n].length?(t.debug('name variable "'+n+'" is object, not array. Attempting to fix.'),e[n]=[e[n]],r=e[n].slice()):r=e[n].slice():r=[],r},t.NameOutput.prototype._getFreeters=function(e,t){if(this.freeters[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var n=t.length-1;n>-1&&this.isPerson(t[n]);n--){(r=this._checkNickname(t.pop()))&&this.freeters[e].push(r)}else for(n=t.length-1;n>-1;n--){var r=t.pop();if(this.isPerson(r))r=this._checkNickname(r);this.freeters[e].push(r)}this.freeters[e].reverse(),this.freeters[e].length&&(this.nameset_offset+=1)},t.NameOutput.prototype._getPersonsAndInstitutions=function(e,t){if(this.persons[e]=[],this.institutions[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var n=[],r=!1,i=!0,s=t.length-1;s>-1;s+=-1)if(this.isPerson(t[s])){var o=this._checkNickname(t[s]);o&&n.push(o)}else r=!0,this.institutions[e].push(t[s]),i||(n.reverse(),this.persons[e].push(n),n=[]),i=!1;r&&(n.reverse(),this.persons[e].push(n),this.persons[e].reverse(),this.institutions[e].reverse())}},t.NameOutput.prototype._clearValues=function(e){for(var t=e.length-1;t>-1;t+=-1)e.pop()},t.NameOutput.prototype._checkNickname=function(e){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var n;if((n=t.Util.Names.getRawName(e))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var r=n;this.state.sys.normalizeAbbrevsKey&&(r=this.state.sys.normalizeAbbrevsKey("author",n)),this.state.transform.loadAbbreviation("default","nickname",r,this.Item.language);var i=this.state.transform.abbrevs.default.nickname[r];i&&(e="!here>>>"!==i&&{family:i,given:""})}}return e},t.NameOutput.prototype._purgeEmptyBlobs=function(e){for(var t=e.length-1;t>-1;t+=-1)e[t]&&0!==e[t].length&&e[t].blobs.length||(e=e.slice(0,t).concat(e.slice(t+1)));return e},t.NameOutput.prototype.joinPersons=function(e,t,n,r){return e=this._purgeEmptyBlobs(e),r||(r="name"),"undefined"===typeof n?1===this.etal_spec[t].freeters?this._joinEtAl(e):2===this.etal_spec[t].freeters?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e):1===this.etal_spec[t].persons[n]?this._joinEtAl(e):2===this.etal_spec[t].persons[n]?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e)},t.NameOutput.prototype.joinInstitutionSets=function(e,t){return e=this._purgeEmptyBlobs(e),1===this.etal_spec[t].institutions?this._joinEtAl(e,"institution"):2===this.etal_spec[t].institutions?this._joinEllipsis(e,"institution"):this._joinAnd(e)},t.NameOutput.prototype.joinPersonsAndInstitutions=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,this.state.tmp.name_delimiter);return t.isInstitution=!0,t},t.NameOutput.prototype.joinFreetersAndInstitutionSets=function(e){return e=this._purgeEmptyBlobs(e),this._join(e,"[never here]",this.with.single,this.with.multiple)},t.NameOutput.prototype._getAfterInvertedName=function(e,t,n){if(n&&e.length>1&&"after-inverted-name"===this.state.inheritOpt(this.name,"delimiter-precedes-last")){var r=e[e.length-2];r.blobs.length>0&&r.blobs[0].isInverted&&(n.strings.prefix=t)}return n},t.NameOutput.prototype._getAndJoin=function(e,t){var n=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),n=e[e.length-1].isInstitution?this.institution.and[r]:this.name.and[r],n=JSON.parse(JSON.stringify(n)),n=this._getAfterInvertedName(e,t,n)}return n},t.NameOutput.prototype._joinEtAl=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),n=this._join(e,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(n,"literal",!0),e.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===e.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},t.NameOutput.prototype._joinEllipsis=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),n=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),n=JSON.parse(JSON.stringify(this.name.ellipsis[r])),n=this._getAfterInvertedName(e,t,n)}return this._join(e,t,n)},t.NameOutput.prototype._joinAnd=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),n=this._getAndJoin(e,t);return this._join(e,t,n)},t.NameOutput.prototype._join=function(e,t,n){if(!e)return!1;if(!(e=this._purgeEmptyBlobs(e)).length)return!1;if(e.length>1)if(2===e.length)n?e=[e[0],n,e[1]]:e[0].strings.suffix+=t;else{var r;r=n?1:0;for(var i=e.pop(),s=0,o=e.length-r;s<o;s++)e[s].strings.suffix+=t;e.push(n),e.push(i)}for(this.state.output.openLevel(),s=0,o=e.length;s<o;s+=1)this.state.output.append(e[s],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},t.NameOutput.prototype._getToken=function(e){var n=this[e];return"institution"===e?new t.Token:n},t.NameOutput.prototype.checkCommonAuthor=function(e){if(!e)return!1;var t=!1;if(2===this.variables.length){var n=this.variables.slice();n.sort(),t=n.join("")}if(!t)return!1;var r=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(r=!0),!r)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var i=this.Item[this.variables[0]],s=this.Item[this.variables[1]],o=this._compareNamesets(i,s);return!0===o&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!o},t.NameOutput.prototype.setCommonTerm=function(){var e=this.variables.slice();if(e.sort(),this.common_term=e.join(""),this.common_term){var t=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?t=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(t=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!t||this.variables.length<2)this.common_term=!1;else for(var n=0,r=this.variables.length-1;n<r;n+=1){var i=this.variables[n],s=this.variables[n+1];if(this.freeters[i].length||this.freeters[s].length){if(this.etal_spec[i].freeters!==this.etal_spec[s].freeters||!this._compareNamesets(this.freeters[i],this.freeters[s]))return void(this.common_term=!1);1}if(this.persons[i].length!==this.persons[s].length)return void(this.common_term=!1);for(var o=0,a=this.persons[i].length;o<a;o+=1)if(this.etal_spec[i].persons[o]!==this.etal_spec[s].persons[o]||!this._compareNamesets(this.persons[i][o],this.persons[s][o]))return void(this.common_term=!1)}}},t.NameOutput.prototype._compareNamesets=function(e,n){if(!e||!n||e.length!==n.length)return!1;for(var r=0,i=n.length;r<i;r+=1)for(var s=0,o=t.NAME_PARTS.length;s<o;s+=1){var a=t.NAME_PARTS[s];if(!e[r]||e[r][a]!=n[r][a])return!1}return!0},t.NameOutput.prototype.constrainNames=function(){var e;this.names_count=0;for(var t=0,n=this.variables.length;t<n;t+=1){var r=this.variables[t];e=this.nameset_base+t,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,e),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,e),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var i=0,s=this.persons[r].length;i<s;i+=1)this.persons[r][i].length&&(this.state.tmp.names_max.push(this.persons[r][i].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],i,e),this.names_count+=this.persons[r][i].length)}},t.NameOutput.prototype._imposeNameConstraints=function(e,t,n,r){var i=e[n],s=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?s=this.state.tmp.disambig_request.names[r]:t[n]>=this.etal_min&&(s=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?s=t[n]<this.etal_min?t[n]:this.state.tmp.disambig_request.names[r]:t[n]>=this.etal_min&&(s=this.etal_use_first),this.etal_use_last&&s>this.etal_min-2&&(s=this.etal_min-2));var o=this.etal_min>=this.etal_use_first,a=t[n]>s;s>t[n]&&(s=i.length),o&&a&&(this.etal_use_last?e[n]=i.slice(0,s).concat(i.slice(-1)):e[n]=i.slice(0,s)),this.state.tmp.disambig_settings.names[r]=e[n].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},t.NameOutput.prototype.disambigNames=function(){for(var e,t=0,n=this.variables.length;t<n;t+=1){var r=this.variables[t];if(e=this.nameset_base+t,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],e),this.institutions[r].length){"undefined"===typeof this.state.tmp.disambig_settings.givens[e]&&(this.state.tmp.disambig_settings.givens[e]=[]);for(var i=0,s=this.institutions[r].length;i<s;i+=1)"undefined"===typeof this.state.tmp.disambig_settings.givens[e][i]&&this.state.tmp.disambig_settings.givens[e].push(2)}for(i=0,s=this.persons[r].length;i<s;i+=1)this.persons[r][i].length&&this._runDisambigNames(this.persons[r][i],e)}},t.NameOutput.prototype._runDisambigNames=function(e,n){var r,i,s,o,a,l;for(o=0,a=e.length;o<a;o+=1)if(e[o].given||e[o].family){if(i=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,e[o],o),"undefined"===typeof this.state.tmp.disambig_settings.givens[n])for(var u=0,c=n+1;u<c;u+=1)this.state.tmp.disambig_settings.givens[u]||(this.state.tmp.disambig_settings.givens[u]=[]);if("undefined"===typeof this.state.tmp.disambig_settings.givens[n][o]&&(r=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,e[o],o,0,r,i),this.state.tmp.disambig_settings.givens[n].push(s)),r=this.state.inheritOpt(this.name,"form","name-form","long"),l=this.state.registry.namereg.evalname(""+this.Item.id,e[o],o,0,r,i),this.state.tmp.disambig_request){var h=this.state.tmp.disambig_settings.givens[n][o];1!==h||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||"undefined"!==typeof this.state.inheritOpt(this.name,"initialize-with")&&"undefined"!==typeof e[o].given||(h=2),s=h,this.state.opt["disambiguate-add-givenname"]&&e[o].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,e[o],o,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=l;!this.state.tmp.just_looking&&this.item&&this.item.position===t.POSITION_FIRST&&l>s&&(s=l),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[n][o]=s,"string"!==typeof i||"undefined"!==typeof this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},t.NameOutput.prototype.getEtAlConfig=function(){var e=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,"undefined"===typeof e&&(e={}),e.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"===typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},t.NameOutput.prototype.setEtAlParameters=function(){var e,t,n,r;for(e=0,t=this.variables.length;e<t;e+=1){var i=this.variables[e];for("undefined"===typeof this.etal_spec[i]&&(this.etal_spec[i]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+e]=this.etal_spec[i],this.freeters[i].length&&this._setEtAlParameter("freeters",i),n=0,r=this.persons[i].length;n<r;n+=1)"undefined"===typeof this.etal_spec[i][n]&&(this.etal_spec[i].persons[n]=0),this._setEtAlParameter("persons",i,n);this.institutions[i].length&&this._setEtAlParameter("institutions",i)}},t.NameOutput.prototype._setEtAlParameter=function(e,t,n){var r,i;"persons"===e?(r=this.persons[t][n],i=this.persons_count[t][n]):(r=this[e][t],i=this[e+"_count"][t]),r.length<i&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===e?this.etal_spec[t].persons[n]=2:this.etal_spec[t][e]=2:"persons"===e?this.etal_spec[t].persons[n]=1:this.etal_spec[t][e]=1:"persons"===e?this.etal_spec[t].persons[n]=0:this.etal_spec[t][e]=0},t.NameOutput.prototype.renderAllNames=function(){for(var e,t=0,n=this.variables.length;t<n;t+=1){var r=this.variables[t];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),e=this.nameset_base+t,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],e));for(var i=0,s=this.institutions[r].length;i<s;i+=1)this.persons[r][i]=this._renderNames(r,this.persons[r][i],e,i)}this.renderInstitutionNames()},t.NameOutput.prototype.renderInstitutionNames=function(){for(var e=0,t=this.variables.length;e<t;e+=1)for(var n=this.variables[e],r=0,i=this.institutions[n].length;r<i;r+=1){var s,o=this.institutions[n][r],a={primary:"locale-orig",secondary:!1,tertiary:!1};if(s=this.state.tmp.extension?["sort"]:o.isInstitution||o.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],u=0,c=l.length;u<c&&!(s.length-1<u);u+=1)s[u]&&(a[l[u]]="locale-"+s[u]);else a.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(a.secondary=!1,a.tertiary=!1),this.setRenderedName(o);var h=this._renderInstitutionName(n,o,a,r);this.institutions[n][r]=h}},t.NameOutput.prototype._renderInstitutionName=function(e,t,n,r){var i,s,o,a,l,u=this.getName(t,n.primary,!0),c=u.name,h=u.usedOrig;if(c&&(c=this.fixupInstitution(c,e,r)),p=!1,n.secondary){var p=(u=this.getName(t,n.secondary,!1,h)).name;h=u.usedOrig,p&&(p=this.fixupInstitution(p,e,r))}i=!1,n.tertiary&&(i=(u=this.getName(t,n.tertiary,!1,h)).name)&&(i=this.fixupInstitution(i,e,r));var d={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(d.l.pri=c.long,d.s.pri=c.short.length?c.short:c.long),p&&(d.l.sec=p.long,d.s.sec=p.short.length?p.short:p.long),i&&(d.l.ter=i.long,d.s.ter=i.short.length?i.short:i.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(o=this._getShortStyle(),a=[this._composeOneInstitutionPart([d.s.pri,d.s.sec,d.s.ter],n,o,e)]):(s=this._getLongStyle(c,e,r),a=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],n,s,e)]);break;case"short-long":s=this._getLongStyle(c,e,r),o=this._getShortStyle(),a=[l=this._renderOneInstitutionPart(c.short,o),this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],n,s,e)];break;case"long-short":s=this._getLongStyle(c,e,r),o=this._getShortStyle(),l=this._renderOneInstitutionPart(c.short,o),a=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],n,s,e),l];break;default:s=this._getLongStyle(c,e,r),a=[this._composeOneInstitutionPart([d.l.pri,d.l.sec,d.l.ter],n,s,e)]}var m=this._join(a," ");return m&&(m.isInstitution=!0),this.state.tmp.name_node.children.push(m),m},t.NameOutput.prototype._composeOneInstitutionPart=function(e,n,r){var i,s,o,a,l=!1,u=!1,c=!1;if(e[0]){if(i=t.Util.cloneToken(r),this.state.opt.citeAffixes[n.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[n.primary].prefix){for(var h=!1,p=0,d=i.decorations.length;p<d;p+=1)"@font-style"===r.decorations[p][0]&&"italic"===i.decorations[p][1]&&(h=!0);h||i.decorations.push(["@font-style","italic"])}l=this._renderOneInstitutionPart(e[0],i)}if(e[1]&&(u=this._renderOneInstitutionPart(e[1],r)),e[2]&&(c=this._renderOneInstitutionPart(e[2],r)),u||c){this.state.output.openLevel("empty"),this.state.output.append(l),s=t.Util.cloneToken(r),n.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[n.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[n.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var m=new t.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(u,s),this.state.output.closeLevel(),o=t.Util.cloneToken(r),n.tertiary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[n.tertiary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[n.tertiary].suffix,o.strings.prefix||(o.strings.prefix=" "));var f=new t.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(c,o),this.state.output.closeLevel(),this.state.output.closeLevel(),a=this.state.output.pop()}else a=l;return a},t.NameOutput.prototype._renderOneInstitutionPart=function(e,n){for(var r=0,i=e.length;r<i;r+=1)if(e[r]){var s=e[r];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var o=0,a=n.decorations.length;o<a;o+=1)if("@strip-periods"===n.decorations[o][0]&&"true"===n.decorations[o][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,t.LITERAL),"!here>>>"===s?e[r]=!1:(this.state.output.append(s,n,!0),e[r]=this.state.output.pop())}return"undefined"===typeof this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(e,this.institution.strings["part-separator"])},t.NameOutput.prototype._renderNames=function(e,n,r,i){var s=!1;if(n.length){for(var o=[],a=0,l=n.length;a<l;a+=1){var u,c=n[a],h={primary:"locale-orig",secondary:!1,tertiary:!1};if(u=this.state.tmp.extension?["sort"]:c.isInstitution||c.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var p=["primary","secondary","tertiary"],d=0,m=p.length;d<m&&!(u.length-1<d);d+=1)h[p[d]]="locale-"+u[d];else h.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(h.secondary=!1,h.tertiary=!1),this.setRenderedName(c),c.literal||c.isInstitution)o.push(this._renderInstitutionName(e,c,h,i));else{var f=this._renderPersonalName(e,c,h,r,a,i),g=t.Util.cloneToken(this.name);this.state.output.append(f,g,!0),o.push(this.state.output.pop())}}s=this.joinPersons(o,r,i)}return s},t.NameOutput.prototype._renderPersonalName=function(e,n,r,i,s,o){var a=this.getName(n,r.primary,!0),l=this._renderOnePersonalName(a.name,i,s,o),u=!1;r.secondary&&(a=this.getName(n,r.secondary,!1,a.usedOrig)).name&&(u=this._renderOnePersonalName(a.name,i,s,o));var c,h=!1;if(r.tertiary&&(a=this.getName(n,r.tertiary,!1,a.usedOrig)).name&&(h=this._renderOnePersonalName(a.name,i,s,o)),u||h){this.state.output.openLevel("empty"),this.state.output.append(l);var p=new t.Token;r.secondary&&(p.strings.prefix=this.state.opt.citeAffixes.persons[r.secondary].prefix,p.strings.suffix=this.state.opt.citeAffixes.persons[r.secondary].suffix,p.strings.prefix||(p.strings.prefix=" ")),this.state.output.append(u,p);var d=new t.Token;r.tertiary&&(d.strings.prefix=this.state.opt.citeAffixes.persons[r.tertiary].prefix,d.strings.suffix=this.state.opt.citeAffixes.persons[r.tertiary].suffix,d.strings.prefix||(d.strings.prefix=" ")),this.state.output.append(h,d),this.state.output.closeLevel(),c=this.state.output.pop()}else c=l;return c},t.NameOutput.prototype._isRomanesque=function(e){var n,r=2;return e.family.replace(/\"/g,"").match(t.ROMANESQUE_REGEXP)||(r=0),!r&&e.given&&e.given.match(t.STARTSWITH_ROMANESQUE_REGEXP)&&(r=1),2==r&&(e.multi&&e.multi.main?n=e.multi.main.slice(0,2):this.Item.language&&(n=this.Item.language.slice(0,2)),["ja","zh"].indexOf(n)>-1&&(r=1)),r},t.NameOutput.prototype._renderOnePersonalName=function(e,n,r,i){var s=e,o=this._droppingParticle(s,n,i),a=this._familyName(s),l=this._nonDroppingParticle(s),u=this._givenName(s,n,r),c=u.blob,h=this._nameSuffix(s);!1===c&&(o=!1,h=!1);var p,d=this.state.inheritOpt(this.name,"sort-separator");d||(d=""),p=s["comma-suffix"]?", ":" ";var m=this._isRomanesque(s);var f,g,b,y,v,_=function e(t){return!!t&&("string"===typeof t.blobs?["\u2019","'","-"," "].indexOf(t.blobs.slice(-1))>-1:e(t.blobs[t.blobs.length-1]))}(l);if(f=["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?"\xa0":" ",0===m)g=this._join([l,a,c],"");else if(1===m||s["static-ordering"])b=this._join([l,a],f),g=this._join([b,c]," ");else if(s["reverse-ordering"])b=this._join([l,a],f),g=this._join([c,b]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(b=this._join([l,a],f),b=this._join([b,o]," "),b=this._join([b,c],this.state.opt.sort_sep),g=this._join([b,h]," ")):(v=this._join([c,o,l]," "),b=this._join([a,v],this.state.opt.sort_sep),g=this._join([b,h]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===r&&(0===i||"undefined"===typeof i))["Lord","Lady"].indexOf(s.given)>-1&&(d=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(v=this._join([c,o],s["comma-dropping-particle"]+" "),(v=this._join([v,l]," "))&&this.given&&(v.strings.prefix=this.given.strings.prefix,v.strings.suffix=this.given.strings.suffix),a&&this.family&&(a.strings.prefix=this.family.strings.prefix,a.strings.suffix=this.family.strings.suffix),b=this._join([a,v],d),g=this._join([b,h],d)):((y=_?this._join([l,a],""):this._join([l,a],f))&&this.family&&(y.strings.prefix=this.family.strings.prefix,y.strings.suffix=this.family.strings.suffix),(v=this._join([c,o],s["comma-dropping-particle"]+" "))&&this.given&&(v.strings.prefix=this.given.strings.prefix,v.strings.suffix=this.given.strings.suffix),b=this._join([y,v],d),g=this._join([b,h],d)),g.isInverted=!0;else{if(s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]){var E=s["dropping-particle"];["'","\u02bc","\u2019","-"].indexOf(E.slice(-1))>-1&&"de"!==E.slice(0,-1)&&(a=this._join([o,a],""),o=!1)}var T;_?(v=this._join([l,a],""),v=this._join([o,v],f)):v=this._join([o,l,a],f),(v=this._join([v,h],p))&&this.family&&(v.strings.prefix=this.family.strings.prefix,v.strings.suffix=this.family.strings.suffix),c&&this.given&&(c.strings.prefix=this.given.strings.prefix,c.strings.suffix=this.given.strings.suffix),v.strings.prefix&&(s["comma-dropping-particle"]=""),T=this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&1===u.initializationLevel?f:" ",g=this._join([c,v],s["comma-dropping-particle"]+T)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,t.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g},t.NameOutput.prototype._normalizeNameInput=function(e){var t={literal:e.literal,family:e.family,isInstitution:e.isInstitution,given:e.given,suffix:e.suffix,"comma-suffix":e["comma-suffix"],"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],"static-ordering":e["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":e["reverse-ordering"],"full-form-always":e["full-form-always"],"parse-names":e["parse-names"],"comma-dropping-particle":"",block_initialize:e.block_initialize,multi:e.multi};return this._parseName(t),t},t.NameOutput.prototype._stripPeriods=function(e,t){var n=this[e+"_decor"];if(t)if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(n)for(var r=0,i=n.decorations.length;r<i;r+=1)if("@strip-periods"===n.decorations[r][0]&&"true"===n.decorations[r][1]){t=t.replace(/\./g,"");break}return t},t.NameOutput.prototype._nonDroppingParticle=function(e){var t=e["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var n=this._stripPeriods("family",t);return!!this.state.output.append(n,this.family_decor,!0)&&this.state.output.pop()},t.NameOutput.prototype._droppingParticle=function(e,t,n){var r=e["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var i=this._stripPeriods("given",r);if(e["dropping-particle"]&&e["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?"undefined"===typeof n?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:"undefined"===typeof n?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,e["comma-dropping-particle"]="";else if(this.state.output.append(i,this.given_decor,!0))return this.state.output.pop();return!1},t.NameOutput.prototype._familyName=function(e){var t=this._stripPeriods("family",e.family);return!!this.state.output.append(t,this.family_decor,!0)&&this.state.output.pop()},t.NameOutput.prototype._givenName=function(e,n,r){var i,s,o="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),a=!1!==this.state.inheritOpt(this.name,"initialize"),l="string"===typeof this.state.inheritOpt(this.name,"initialize-with")&&!e.block_initialize;if(e["full-form-always"])s=2;else{i=o?0:l?1:2;var u=this.state.tmp.disambig_settings.givens[n][r];s=u>i?u:i}var c=this.state.citation.opt["givenname-disambiguation-rule"];if(c&&"-with-initials"===c.slice(-14)&&(l=!0),e.family&&1===s)if(l){var h=this.state.inheritOpt(this.name,"initialize-with",!1,"");e.given=t.Util.Names.initializeWith(this.state,e.given,h,!a)}else e.given=t.Util.Names.unInitialize(this.state,e.given);else{if(0===s)return{blob:!1};2===s&&(e.given=t.Util.Names.unInitialize(this.state,e.given))}var p=this._stripPeriods("given",e.given);return this.state.output.append(p,this.given_decor,!0)?{blob:this.state.output.pop(),initializationLevel:s}:{blob:!1}},t.NameOutput.prototype._nameSuffix=function(e){var n,r=e.suffix;r&&"string"===typeof this.state.inheritOpt(this.name,"initialize-with")&&(r=t.Util.Names.initializeWith(this.state,r,this.state.inheritOpt(this.name,"initialize-with"),!0));var i="";return(r=this._stripPeriods("family",r))&&"."===r.slice(-1)&&(r=r.slice(0,-1),i="."),!!this.state.output.append(r,"empty",!0)&&((n=this.state.output.pop()).strings.suffix=i+n.strings.suffix,n)},t.NameOutput.prototype._getLongStyle=function(e){var n;return(n=e.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(n=new t.Token),n},t.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new t.Token},t.NameOutput.prototype._parseName=function(e){if(!e["parse-names"]&&"undefined"!==typeof e["parse-names"])return e;var n;e.family&&!e.given&&e.isInstitution&&(e.literal=e.family,e.family=void 0,e.isInstitution=void 0),e.family&&'"'===e.family.slice(0,1)&&'"'===e.family.slice(-1)||!e["parse-names"]&&"undefined"!==typeof e["parse-names"]?(e.family=e.family.slice(1,-1),n=!0,e["parse-names"]=0):n=!1,this.state.opt.development_extensions.parse_names&&!e["non-dropping-particle"]&&e.family&&!n&&e.given&&(e["static-particles"]||t.parseParticles(e,!0))},t.NameOutput.prototype.getName=function(e,t,n,r){if(r&&"locale-orig"===t)return{name:!1,usedOrig:r};e.family||(e.family=""),e.given||(e.given="");var i={};i["static-ordering"]=this.getStaticOrder(e);var s,o=!0;if("locale-orig"!==t&&(o=!1,e.multi))for(var a=this.state.opt[t],l=0,u=a.length;l<u;l+=1)if(s=a[l],e.multi._key[s]){o=!0;var c=e.isInstitution;(e=e.multi._key[s]).isInstitution=c,(i=this.getNameParams(s)).transliterated=!0;break}return o||(s=!1,e.multi&&e.multi.main?s=e.multi.main:this.Item.language&&(s=this.Item.language),s&&(i=this.getNameParams(s))),n||o?(e.family||(e.family=""),e.given||(e.given=""),e.literal&&(delete e.family,delete e.given),!(e={family:e.family,given:e.given,"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],suffix:e.suffix,"static-ordering":i["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":i["reverse-ordering"],"full-form-always":i["full-form-always"],"parse-names":e["parse-names"],"comma-suffix":e["comma-suffix"],"comma-dropping-particle":e["comma-dropping-particle"],transliterated:i.transliterated,block_initialize:i["block-initialize"],literal:e.literal,isInstitution:e.isInstitution,multi:e.multi}).literal&&!e.given&&e.family&&e.isInstitution&&(e.literal=e.family),e.literal&&(delete e.family,delete e.given),{name:e=this._normalizeNameInput(e),usedOrig:r||!o}):{name:!1,usedOrig:r}},t.NameOutput.prototype.getNameParams=function(e){var n={},r=t.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[r.best]?r.best:this.state.opt["default-locale"][0],s=this.state.locale[i].opts["name-as-sort-order"],o=this.state.locale[i].opts["name-as-reverse-order"],a=this.state.locale[i].opts["name-never-short"],l=e.split("-")[0];return s&&s[l]&&(n["static-ordering"]=!0,n["reverse-ordering"]=!1),o&&o[l]&&(n["reverse-ordering"]=!0,n["static-ordering"]=!1),a&&a[l]&&(n["full-form-always"]=!0),n["static-ordering"]&&(n["block-initialize"]=!0),n},t.NameOutput.prototype.setRenderedName=function(e){if("bibliography"===this.state.tmp.area){for(var n="",r=0,i=t.NAME_PARTS.length;r<i;r+=1)e[t.NAME_PARTS[r]]&&(n+=e[t.NAME_PARTS[r]]);this.state.tmp.rendered_name.push(n)}},t.NameOutput.prototype.fixupInstitution=function(e,t,n){!e.literal&&e.family&&(e.literal=e.family,delete e.family);var r=e.literal,i=r,s={long:r.split(/\s*\|\s*/),short:i.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if("short"===this.institution.strings.form){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-entire",r,this.Item.language),this.state.transform.abbrevs[e]["institution-entire"][r]?r=this.state.transform.abbrevs[e]["institution-entire"][r]:(e=this.Item.jurisdiction,e=this.state.transform.loadAbbreviation(e,"institution-part",r,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][r]&&(r=this.state.transform.abbrevs[e]["institution-part"][r])),r=this._quashChecks(e,r)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-part",i,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][i]&&(i=this.state.transform.abbrevs[e]["institution-part"][i]),i=this._quashChecks(e,i),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&i===r&&(i="")}if(s.long=r.split(/\s*\|\s*/),s.short=i.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var o=s.short.length-1;o>-1;o--){let e=this.Item.jurisdiction;var a=s.short[o];if(e=this.state.transform.loadAbbreviation(e,"institution-part",a,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][a]&&(s.short[o]=this.state.transform.abbrevs[e]["institution-part"][a]),s.short[o].indexOf("|")>-1){let e=s.short,t=e[o].split(/\s*\|\s*/);s.short=e.slice(0,o).concat(t).concat(e.slice(o+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&s.short.reverse(),s.short=this._trimInstitution(s.short),this.institution.strings["reverse-order"]&&s.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let e=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[e]&&l[e][t])for(var u=0,c=s.short.length;u<c;u++){var h=s.short[u];s.short[u]=h.replace(l[e][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&s.long.reverse(),s.long=this._trimInstitution(s.long),this.institution.strings["reverse-order"]&&s.long.reverse(),s},t.NameOutput.prototype.getStaticOrder=function(e,n){var r=!1;return(!n&&e["static-ordering"]||0===this._isRomanesque(e)||(!e.multi||!e.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||e.multi&&e.multi.main&&["vi","hu"].indexOf(e.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&t.VIETNAMESE_NAMES.exec(e.family+" "+e.given)&&t.VIETNAMESE_SPECIALS.exec(e.family+e.given))&&(r=!0),r},t.NameOutput.prototype._quashChecks=function(e,t){var n=(t=this.state.transform.quashCheck(e,t)).split(/>>[0-9]{4}>>/),r=t.match(/>>([0-9]{4})>>/);t=n.pop();var i=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(i&&(i=parseInt(i.year,10),i=!isNaN(i)&&i),i){if(n.length>0)for(var s=r.length-1;s>0&&!(i>=parseInt(r[s],10));s--)t=n.pop();t=t.replace(/\s*\|\s*/g,"|")}return t},t.NameOutput.prototype._trimInstitution=function(e){var t=!1,n=!1,r=!1,i=!1,s=e.slice();if(this.institution){if("undefined"!==typeof this.institution.strings["use-first"]&&(t=this.institution.strings["use-first"]),"undefined"!==typeof this.institution.strings["use-last"]&&(r=this.institution.strings["use-last"]),"undefined"!==typeof this.institution.strings["stop-first"]&&(i=this.institution.strings["stop-first"]),"undefined"!==typeof this.institution.strings["stop-last"]&&(n=this.institution.strings["stop-last"]),t&&(n&&(s=s.slice(0,-1*n)),s=s.slice(0,t)),r){var o=e.slice();t?i=t:s=[],i&&(o=o.slice(i)),o=o.slice(-1*r),s=s.concat(o)}e=s}return e},t.PublisherOutput=function(e,t){this.state=e,this.group_tok=t,this.varlist=[]},t.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},t.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var e=!1;"text"===this.group_tok.strings.and?e=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(e="&");var n=new t.Token;n.strings.suffix=" ",n.strings.prefix=" ",this.state.output.append(e,n,!0);var r=this.state.output.pop();n.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(e,n,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,e&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=i:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=r,this.and_blob.multiple=r):(this.and_blob.single=r,this.and_blob.multiple=i))},t.PublisherOutput.prototype.composeElements=function(){for(var e=0;e<2;e+=1)for(var t=["publisher","publisher-place"][e],n=0,r=this["publisher-list"].length;n<r;n+=1){var i=this[t+"-list"][n],s=this[t+"-token"];this.state.output.append(i,s,!0),this[t+"-list"][n]=this.state.output.pop()}},t.PublisherOutput.prototype.composePublishers=function(){for(var e,t=0,n=this["publisher-list"].length;t<n;t+=1)e=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(e,this.group_tok.strings.delimiter)},t.PublisherOutput.prototype.joinPublishers=function(){var e=this["publisher-list"],t=this._join(e,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},t.PublisherOutput.prototype._join=t.NameOutput.prototype._join,t.PublisherOutput.prototype._getToken=t.NameOutput.prototype._getToken,t.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},t.evaluateLabel=function(e,n,r,i){var s;"locator"===e.strings.term?(i&&i.label&&(s="sub verbo"===i.label?"sub-verbo":i.label),s||(s="page")):s=e.strings.term;var o=e.strings.plural;if("number"!==typeof o){var a=i&&"locator"===e.strings.term?i:r;a[e.strings.term]&&(n.processNumber(!1,a,e.strings.term,r.type),o=n.tmp.shadow_numbers[e.strings.term].plural,n.tmp.shadow_numbers[e.strings.term].labelForm||n.tmp.shadow_numbers[e.strings.term].labelDecorations||(e.strings.form?n.tmp.shadow_numbers[e.strings.term].labelForm=e.strings.form:n.tmp.group_context.tip.label_form&&(n.tmp.shadow_numbers[e.strings.term].labelForm=n.tmp.group_context.tip.label_form),n.tmp.shadow_numbers[e.strings.term].labelCapitalizeIfFirst=e.strings.capitalize_if_first,n.tmp.shadow_numbers[e.strings.term].labelDecorations=e.decorations.slice()),["locator","number","page"].indexOf(e.strings.term)>-1&&n.tmp.shadow_numbers[e.strings.term].label&&(s=n.tmp.shadow_numbers[e.strings.term].label),e.decorations&&n.opt.development_extensions.csl_reverse_lookup_support&&(e.decorations.reverse(),e.decorations.push(["@showid","true",e.cslid]),e.decorations.reverse()))}return t.castLabel(n,e,s,o,t.TOLERANT)},t.castLabel=function(e,n,r,i,s){var o=n.strings.form,a=n.strings.capitalize_if_first;e.tmp.group_context.tip.label_form&&("static"===o?e.tmp.group_context.tip.label_static=!0:o=e.tmp.group_context.tip.label_form),e.tmp.group_context.tip.label_capitalize_if_first&&(a=e.tmp.group_context.tip.label_capitalize_if_first);var l=e.getTerm(r,o,i,!1,s,n.default_locale);if(a&&(l=t.Output.Formatters["capitalize-first"](e,l)),e.tmp.strip_periods)l=l.replace(/\./g,"");else for(var u=0,c=n.decorations.length;u<c;u+=1)if("@strip-periods"===n.decorations[u][0]&&"true"===n.decorations[u][1]){l=l.replace(/\./g,"");break}return l},t.Node.name={build:function(e,n){var r,i;[t.SINGLETON,t.START].indexOf(this.tokentype)>-1&&("undefined"===typeof e.tmp.root?(i=void 0,e.tmp.root="citation"):i=e.tmp.root,e.inheritOpt(this,"et-al-subsequent-min")&&e.inheritOpt(this,"et-al-subsequent-min")!==e.inheritOpt(this,"et-al-min")&&(e.opt.update_mode=t.POSITION),e.inheritOpt(this,"et-al-subsequent-use-first")&&e.inheritOpt(this,"et-al-subsequent-use-first")!==e.inheritOpt(this,"et-al-use-first")&&(e.opt.update_mode=t.POSITION),e.tmp.root=i,r=function(e){e.tmp.etal_term="et-al",e.tmp.name_delimiter=e.inheritOpt(this,"delimiter","name-delimiter",", "),e.tmp["delimiter-precedes-et-al"]=e.inheritOpt(this,"delimiter-precedes-et-al"),"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")&&(e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&"),e.tmp.and_term=this.and_term,t.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"===typeof e.tmp.name_delimiter&&(this.and_prefix_multiple=e.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.name_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===e.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=e.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},e.inheritOpt(this,"and")?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):e.tmp.name_delimiter&&(this.and.single=new t.Blob(e.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new t.Blob(e.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},e.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="\u2026",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=e.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new t.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new t.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),"undefined"===typeof e.tmp["et-al-min"]&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),"undefined"===typeof e.tmp["et-al-use-first"]&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),"undefined"===typeof e.tmp["et-al-use-last"]&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last")),e.nameOutput.name=this},e.build.name_flag=!0,this.execs.push(r));n.push(this)}},t.Node["name-part"]={build:function(e){e.build[this.strings.name]=this}},t.Node.names={build:function(e,n){var r;if(this.tokentype!==t.START&&this.tokentype!==t.SINGLETON||(t.Util.substituteStart.call(this,e,n),e.build.substitute_level.push(1)),this.tokentype===t.SINGLETON){for(var i in e.build.names_variables[e.build.names_variables.length-1].concat(this.variables),this.variables){var s=this.variables[i],o=e.build.name_label[e.build.name_label.length-1];Object.keys(o).length&&(o[s]=o[Object.keys(o)[0]])}r=function(e){e.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(r)}if(this.tokentype===t.START&&(e.build.names_flag=!0,e.build.name_flag=!1,e.build.names_level+=1,e.build.names_variables.push(this.variables),e.build.name_label.push({}),r=function(e){e.tmp.can_substitute.push(!0),e.tmp.name_node={},e.tmp.name_node.children=[],e.nameOutput.init(this)},this.execs.push(r)),this.tokentype===t.END){for(i=0;i<3;i+=1){var a=["family","given","et-al"][i];this[a]=e.build[a],1===e.build.names_level&&(e.build[a]=void 0)}this.label=e.build.name_label[e.build.name_label.length-1],e.build.names_level+=-1,e.build.names_variables.pop(),e.build.name_label.pop(),r=function(e){e.tmp.etal_node?this.etal_style=e.tmp.etal_node:this.etal_style="empty",this.etal_term=e.getTerm(e.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=e.tmp.name_delimiter,"always"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=e.tmp.name_delimiter:"never"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===e.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=e.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",t.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var n=0;n<3;n+=1){var r=["family","given"][n];e.nameOutput[r]=this[r]}e.nameOutput.with=this.with;var i="with",s="",o="";t.STARTSWITH_ROMANESQUE_REGEXP.test(i)&&(s=" ",o=" ");var a={};a.single=new t.Blob(i),a.single.strings.suffix=o,a.multiple=new t.Blob(i),a.multiple.strings.suffix=o,"always"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),a.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=s,a.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),a.multiple.strings.prefix=s):(a.single.strings.prefix=s,a.multiple.strings.prefix=s),e.nameOutput.with=a,e.nameOutput.label=this.label,e.nameOutput.etal_style=this.etal_style,e.nameOutput.etal_term=this.etal_term,e.nameOutput.etal_prefix_single=this.etal_prefix_single,e.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,e.nameOutput.etal_suffix=this.etal_suffix,e.nameOutput.outputNames(),e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-last"]=void 0},this.execs.push(r),r=function(e){e.tmp.can_substitute.pop()||e.tmp.can_substitute.replace(!1,t.LITERAL),1===e.tmp.can_substitute.mystack.length&&(e.tmp.can_block_substitute=!1)},this.execs.push(r),e.build.name_flag=!1}n.push(this),this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||(e.build.substitute_level.pop(),t.Util.substituteEnd.call(this,e,n))}},t.Node.number={build:function(e,n){var r;t.Util.substituteStart.call(this,e,n),"roman"===this.strings.form?this.formatter=e.fun.romanizer:"ordinal"===this.strings.form?this.formatter=e.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=e.fun.long_ordinalizer),"undefined"===typeof this.successor_prefix&&(this.successor_prefix=e[e.build.area].opt.layout_delimiter),"undefined"===typeof this.splice_prefix&&(this.splice_prefix=e[e.build.area].opt.layout_delimiter),r=function(e,n,r){if(0!==this.variables.length){var i;if(i=this.variables[0],"undefined"===typeof r)r={};if(["locator","locator-extra"].indexOf(i)>-1){if(e.tmp.just_looking)return;if(!r[i])return}else if(!n[i])return;"collection-number"===i&&"legal_case"===n.type&&(e.tmp.renders_collection_number=!0);var s=this;if(e.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(i)>-1?e.processNumber.call(e,s,r,i,n.type):(!e.tmp.group_context.tip.condition&&n[i]&&(e.tmp.just_did_number=(""+n[i]).match(/[0-9]$/)),e.processNumber.call(e,s,n,i,n.type)),this.substring){var o=n[i].slice(this.substring);e.output.append(o,s)}else t.Util.outputNumericField(e,i,n.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&(e.tmp.done_vars.push(this.variables_real[0]),e.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(r),n.push(this),t.Util.substituteEnd.call(this,e,n)}},t.Node.sort={build:function(e,n){if(n=e[e.build.root+"_sort"].tokens,this.tokentype===t.START){"citation"===e.build.area&&(e.opt.sort_citations=!0),e.build.area=e.build.root+"_sort",e.build.extension="_sort";var r=function(e,n){if(e.opt.has_layout_locale){for(var r,i=t.localeResolve(n.language,e.opt["default-locale"][0]),s=e[e.tmp.area.slice(0,-5)].opt.sort_locales,o=0,a=s.length;o<a&&((r=s[o][i.bare])||(r=s[o][i.best]),!r);o+=1);r||(r=e.opt["default-locale"][0]),e.tmp.lang_sort_hold=e.opt.lang,e.opt.lang=r}};this.execs.push(r)}if(this.tokentype===t.END){e.build.area=e.build.root,e.build.extension="";r=function(e){e.opt.has_layout_locale&&(e.opt.lang=e.tmp.lang_sort_hold,delete e.tmp.lang_sort_hold)};this.execs.push(r)}n.push(this)}},t.Node.substitute={build:function(e,n){var r;if(this.tokentype===t.START){var i=new t.Token("choose",t.START);t.Node.choose.build.call(i,e,n);var s=new t.Token("if",t.SINGLETON);r=function(){return!(!e.tmp.value.length||e.tmp.common_term_match_fail)},s.tests=[r],s.test=e.fun.match.any(s,e,s.tests),n.push(s),r=function(e){e.tmp.can_block_substitute=!0,e.tmp.value.length&&!e.tmp.common_term_match_fail&&e.tmp.can_substitute.replace(!1,t.LITERAL),e.tmp.common_term_match_fail=!1},this.execs.push(r),n.push(this)}if(this.tokentype===t.END){n.push(this);var o=new t.Token("choose",t.END);t.Node.choose.build.call(o,e,n)}}},t.Node.text={build:function(e,n){var r,i,s,o,a,l,u,c,h,p,d;if(this.postponed_macro){var m=t.Util.cloneToken(this);m.name="group",m.tokentype=t.START,t.Node.group.build.call(m,e,n),t.expandMacro.call(e,this,n);var f=t.Util.cloneToken(this);f.name="group",f.tokentype=t.END,"juris-locator-label"===this.postponed_macro&&(f.isJurisLocatorLabel=!0),t.Node.group.build.call(f,e,n)}else{if(t.Util.substituteStart.call(this,e,n),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",s=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(s=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===e.build.root&&(e.opt.update_mode=t.NUMERIC),"bibliography"===e.build.root&&(e.opt.bib_mode=t.NUMERIC),"citation-number"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,r=function(e,n,r){if(o=""+n.id,!e.tmp.just_looking){if("_sort"===e.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===e.tmp.area&&e.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var i=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[n.id].seq];else i=e.registry.registry[n.id].seq;return i&&(i=t.Util.padding(""+i)),void e.output.append(i,this)}r&&r["author-only"]&&e.tmp.element_trace.replace("suppress-me"),i="bibliography_sort"!==e.tmp.area&&e.bibliography_sort.tmp.citation_number_map&&e.bibliography_sort.opt.citation_number_sort_direction===t.DESCENDING?e.bibliography_sort.tmp.citation_number_map[e.registry.registry[o].seq]:e.registry.registry[o].seq,e.opt.citation_number_slug?e.output.append(e.opt.citation_number_slug,this):(l=new t.NumericBlob(e,!1,i,this,n.id),e.tmp.in_cite_predecessor&&(l.suppress_splice_prefix=!0),e.output.append(l,"literal"))}},this.execs.push(r)):"year-suffix"===this.variables_real[0]?(e.opt.has_year_suffix=!0,"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,e[e.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=e[e.build.area].opt["year-suffix-delimiter"]),r=function(e,n){if(e.registry.registry[n.id]&&!1!==e.registry.registry[n.id].disambig.year_suffix&&!e.tmp.just_looking){a=parseInt(e.registry.registry[n.id].disambig.year_suffix,10),e[e.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter),l=new t.NumericBlob(e,!1,a,this,n.id),u=new t.Util.Suffixator(t.SUFFIX_CHARS),l.setFormatter(u),e.output.append(l,"literal"),c=!1;for(var r=0,i=e.tmp.group_context.mystack.length;r<i;r++){var s=e.tmp.group_context.mystack[r];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){c=!0;break}}h=e[e.tmp.area].opt["year-suffix-delimiter"],c&&h&&!e.tmp.sort_key_flag&&(e.tmp.splice_delimiter=e[e.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(r)):"citation-label"===this.variables_real[0]&&("bibliography"===e.build.root&&(e.opt.bib_mode=t.TRIGRAPH),e.opt.has_year_suffix=!0,r=function(e,t){(p=t["citation-label"])||(p=e.getCitationLabel(t)),e.tmp.just_looking||(d="",e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&(a=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),d=e.fun.suffixator.format(a)),p+=d),e.output.append(p,this)},this.execs.push(r));else if(this.strings.term)r=function(e,n){var r,o=e.opt.gender[n.type],a=this.strings.term;if(""!==(a=e.getTerm(a,i,s,o,t.TOLERANT,this.default_locale))&&(e.tmp.group_context.tip.term_intended=!0),t.UPDATE_GROUP_CONTEXT_CONDITION(e,a,null,this),r=e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area?a:t.Output.Formatters["capitalize-first"](e,a),e.tmp.strip_periods)r=r.replace(/\./g,"");else for(var l=0,u=this.decorations.length;l<u;l+=1)if("@strip-periods"===this.decorations[l][0]&&"true"===this.decorations[l][1]){r=r.replace(/\./g,"");break}e.output.append(r,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,t.LITERAL)},this.execs.push(r),e.build.term=!1,e.build.form=!1,e.build.plural=!1;else if(this.variables_real.length){if(r=function(e,t){"locator"!==this.variables_real[0]&&(e.tmp.have_collapsed=!1),!e.tmp.group_context.tip.condition&&t[this.variables[0]]&&(e.tmp.just_did_number=!1);var n=t[this.variables[0]];n&&!e.tmp.group_context.tip.condition&&((""+n).slice(-1).match(/[0-9]/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)},this.execs.push(r),t.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var g=this.variables[0],b=!1,y=!1,v=!1;"short"===i?"-short"!==this.variables_real[0].slice(-6)&&(y=this.variables_real[0]+"-short"):g=!1,e.build.extension?v=!0:(v=!0,b=!0),r=e.transform.getOutputFunction(this.variables,g,b,y,v)}else r=t.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(e,n,r){r&&r[this.variables[0]]&&(e.processNumber(this,r,this.variables[0],n.type),t.Util.outputNumericField(e,this.variables[0],n.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&e.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(e,n){e.processNumber(this,n,this.variables[0],n.type),t.Util.outputNumericField(e,this.variables[0],n.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(e,n){var r;if(this.variables[0]&&(r=e.getVariable(n,this.variables[0],i)))if("URL"===this.variables[0]&&"short"===i&&(r=r.replace(/(.*\.[^\/]+)\/.*/,"$1")).match(/\/\/www\./)&&(r=r.replace(/https?:\/\//,"")),e.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])e.output.append(r,this,!1,!1,!0);else{var s=t.Util.cloneToken(this),o=new t.Blob(null,null,"url-wrapper");if(o.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var a;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(a=(r=r.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",s.strings.prefix=this.strings.prefix.slice(0,s.strings.prefix.length-16));var l=new t.Blob(a),u=new t.Blob(r);o.push(l),o.push(u),e.output.append(o,s,!1,!1,!0)}else{u=new t.Blob(r);o.push(u),e.output.append(o,s,!1,!1,!0)}}else{if(this.decorations.length)for(var c=this.decorations.length-1;c>-1;c--)this.decorations[c][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,c).concat(this.decorations.slice(c+1)));e.output.append(r,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(e,t){var n;(n=e.getVariable(t,this.variables[0],i))&&e.output.append(n,this)}:"hereinafter"===this.variables_real[0]?function(e,t){var n=e.transform.abbrevs.default.hereinafter[t.id];n&&(e.output.append(n,this),e.tmp.group_context.tip.variable_success=!0)}:function(e,t){var n;this.variables[0]&&(n=e.getVariable(t,this.variables[0],i))&&(n=(n=""+n).split("\\").join(""),e.output.append(n,this))};this.execs.push(r)}else this.strings.value&&(r=function(e){e.tmp.group_context.tip.term_intended=!0,t.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.value,!0,this),e.output.append(this.strings.value,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,t.LITERAL)},this.execs.push(r));n.push(this),t.Util.substituteEnd.call(this,e,n)}}},t.Node.intext={build:function(e,n){if(this.tokentype===t.START){e.build.area="intext",e.build.root="intext",e.build.extension="";this.execs.push((function(e,t){e.tmp.area="intext",e.tmp.root="intext",e.tmp.extension=""}))}this.tokentype===t.END&&(e.intext_sort={opt:{sort_directions:e.citation_sort.opt.sort_directions}},e.intext.srt=e.citation.srt),n.push(this)}},t.Attributes={},t.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),"true"===t){e.opt.has_disambiguate=!0;var n=function(t){if("bibliography"===e.tmp.area){if(e.tmp.disambiguate_count<e.registry.registry[t.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(n)}else if("check-ambiguity-and-backreference"===t){n=function(t){return!!(e.registry.registry[t.id].disambig.disambiguate&&e.registry.registry[t.id]["citation-count"]>1)};this.tests.push(n)}},t.Attributes["@is-numeric"]=function(e,n){this.tests||(this.tests=[]);for(var r=n.split(/\s+/),i=function(n){return function(r,i){var s=r;if(i&&["locator","locator-extra"].indexOf(n)>-1&&(s=i),!s[n])return!1;if(t.NUMERIC_VARIABLES.indexOf(n)>-1){if(e.tmp.shadow_numbers[n]||e.processNumber(!1,s,n,r.type),e.tmp.shadow_numbers[n].numeric)return!0}else if(["title","version"].indexOf(n)>-1&&s[n].slice(-1)===""+parseInt(s[n].slice(-1),10))return!0;return!1}},s=0;s<r.length;s+=1)this.tests.push(i(r[s]))},t.Attributes["@is-uncertain-date"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){return!(!t[e]||!t[e].circa)}},i=0,s=n.length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@locator"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.replace("sub verbo","sub-verbo"),r=function(t){return function(n,r){var i;return e.processNumber(!1,r,"locator"),!(!(i=e.tmp.shadow_numbers.locator.label)||t!==i)}},i=0,s=(n=n.split(/\s+/)).length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@position"]=function(e,n){this.tests||(this.tests=[]),e.opt.update_mode=t.POSITION;for(var r=n.split(/\s+/),i=function(e,n){return!!(n&&t.POSITION_MAP[n.position]>=t.POSITION_MAP[t.POSITION_SUBSEQUENT]&&n["near-note"])},s=function(e,n){return!(!n||t.POSITION_MAP[n.position]!=t.POSITION_MAP[t.POSITION_SUBSEQUENT]||n["near-note"])},o=function(n){return function(r,i){if("bibliography"===e.tmp.area)return!1;if(i&&"undefined"===typeof i.position&&(i.position=0),i&&"number"===typeof i.position){if(0===i.position&&0===n)return!0;if(n>0&&t.POSITION_MAP[i.position]>=t.POSITION_MAP[n])return!0}else if(0===n)return!0;return!1}},a=0,l=r.length;a<l;a+=1){var u;"first"===(u=r[a])?u=t.POSITION_FIRST:"container-subsequent"===u?u=t.POSITION_CONTAINER_SUBSEQUENT:"subsequent"===u?u=t.POSITION_SUBSEQUENT:"ibid"===u?u=t.POSITION_IBID:"ibid-with-locator"===u&&(u=t.POSITION_IBID_WITH_LOCATOR),"near-note"===u?this.tests.push(i):"far-note"===u?this.tests.push(s):this.tests.push(o(u))}},t.Attributes["@type"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){return!!(t.type===e)}},i=[],s=0,o=n.length;s<o;s+=1)i.push(r(n[s]));this.tests.push(e.fun.match.any(this,e,i))},t.Attributes["@variable"]=function(e,n){var r;if(this.tests||(this.tests=[]),this.variables=n.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)r=function(e,t,n){for(var r=this.variables.length-1;r>-1;r+=-1)this.variables.pop();r=0;for(var i=this.variables_real.length;r<i;r++)-1===e.tmp.done_vars.indexOf(this.variables_real[r])&&this.variables.push(this.variables_real[r]),e.tmp.can_block_substitute&&e.tmp.done_vars.push(this.variables_real[r])},this.execs.push(r),r=function(e,n,r){for(var i=!1,s=0,o=this.variables.length;s<o;s++){var a=this.variables[s];if(["authority","committee"].indexOf(a)>-1&&"string"===typeof n[a]&&"names"===this.name){var l=!0,u=n[a].split(/\s*;\s*/),c={};if(n.multi&&n.multi._keys[a])for(var h in n.multi._keys[a])if(c[h]=n.multi._keys[a][h].split(/\s*;\s*/),c[h].length!==u.length){l=!1;break}l||(u=[n[a]],c=n.multi._keys[a]);for(var p=0,d=u.length;p<d;p++){var m={literal:u[p],multi:{_key:{}}};for(var h in c){var f={literal:c[h][p]};m.multi._key[h]=f}u[p]=m}n[a]=u}if("short"!==this.strings.form||n[a]||("title"===a?a="title-short":"container-title"===a&&(a="container-title-short")),"year-suffix"===a){i=!0;break}if(t.DATE_VARIABLES.indexOf(a)>-1){if(e.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){i=!0;break}if(n[a]){for(var g in n[a])if((-1!==this.dateparts.indexOf(g)||"literal"===g)&&n[a][g]){i=!0;break}if(i)break}}else{if("locator"===a){r&&r.locator&&(i=!0);break}if("locator-extra"===a){r&&r["locator-extra"]&&(i=!0);break}if(["citation-number","citation-label"].indexOf(a)>-1){i=!0;break}if("first-reference-note-number"===a){r&&r["first-reference-note-number"]&&(i=!0);break}if("first-container-reference-note-number"===a){r&&r["first-container-reference-note-number"]&&(i=!0);break}if("hereinafter"===a){e.transform.abbrevs.default.hereinafter[n.id]&&e.sys.getAbbreviation&&n.id&&(i=!0);break}if("object"===typeof n[a])break;if("string"===typeof n[a]&&n[a]){i=!0;break}if("number"===typeof n[a]){i=!0;break}}if(i)break}if(i){for(s=0,o=this.variables_real.length;s<o;s++){"citation-number"===(a=this.variables_real[s])&&"bibliography"===e.tmp.area||(e.tmp.cite_renders_content=!0),e.tmp.group_context.tip.variable_success=!0,e.tmp.can_substitute.value()&&"bibliography"===e.tmp.area&&"string"===typeof n[a]&&(e.tmp.name_node.top=e.output.current.value(),e.tmp.rendered_name.push(n[a]))}e.tmp.can_substitute.replace(!1,t.LITERAL)}else e.tmp.group_context.tip.variable_attempt=!0},this.execs.push(r);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(t){return function(n,r){var i=n;if(r&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(t)>-1&&(i=r),"hereinafter"===t&&e.sys.getAbbreviation&&i.id){if(e.transform.abbrevs.default.hereinafter[i.id])return!0}else if(i[t]){if("number"===typeof i[t]||"string"===typeof i[t])return!0;if("object"===typeof i[t])for(var s in i[t])if(i[t][s])return!0}return!1}},s=0,o=this.variables.length;s<o;s+=1)this.tests.push(i(this.variables[s]))},t.Attributes["@page"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.replace("sub verbo","sub-verbo"),r=function(t){return function(n){var r;return e.processNumber(!1,n,"page",n.type),r=e.tmp.shadow_numbers.page.label?"sub verbo"===e.tmp.shadow_numbers.page.label?"sub-verbo":e.tmp.shadow_numbers.page.label:"page",e.tmp.shadow_numbers.page.values.length>0&&e.tmp.shadow_numbers.page.values[0].gotosleepability&&(e.tmp.shadow_numbers.page.values[0].labelVisibility=!1),t===r}},i=0,s=(n=n.split(/\s+/)).length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@number"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(t){return function(n){var r;return e.processNumber(!1,n,"number",n.type),r=e.tmp.shadow_numbers.number.label?e.tmp.shadow_numbers.number.label:"number",t===r}},i=0,s=n.length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@jurisdiction"]=function(e,t){this.tests||(this.tests=[]);var n=t.split(/\s+/);this.tests.push(function(e){return function(t){if(!t.jurisdiction)return!1;for(var n=t.jurisdiction,r=0,i=e.length;r<i;r++)if(n===e[r])return!0;return!1}}(n))},t.Attributes["@country"]=function(e,t){this.tests||(this.tests=[]);var n=t.split(/\s+/);this.tests.push(function(e){return function(t){if(!t.country)return!1;for(var n=t.country,r=0,i=e.length;r<i;r++)if(n===e[r])return!0;return!1}}(n))},t.Attributes["@context"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(){return["bibliography","citation"].indexOf(t)>-1?e.tmp.area.slice(0,t.length)===t:"alternative"===t?!!e.tmp.abort_alternative:void 0}))},t.Attributes["@has-year-only"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){var n=t[e];return!(!n||n.month||n.season)}},i=0,s=n.length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@has-to-month-or-season"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){var n=t[e];return!(!n||!n.month&&!n.season||n.day)}},i=0,s=n.length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@has-day"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){var n=t[e];return!(!n||!n.day)}},i=0,s=n.length;i<s;i+=1)this.tests.push(r(n[i]))},t.Attributes["@is-plural"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(n){var r=n[t];if(r&&r.length){for(var i=0,s=0,o=!1,a=0,l=r.length;a<l;a+=1)e.opt.development_extensions.spoof_institutional_affiliations&&(r[a].literal||r[a].isInstitution&&r[a].family&&!r[a].given)?(s+=1,o=!1):(i+=1,o=!0);if(i>1)return!0;if(s>1)return!0;if(s&&o)return!0}return!1}))},t.Attributes["@is-multiple"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(e){return(""+e[t]).split(/(?:,\s|\s(?:tot\sen\smet|l\u012bdz|oraz|and|bis|\u03ad\u03c9\u03c2|\u03ba\u03b1\u03b9|och|a\u017e|do|en|et|in|ir|ja|og|sa|to|un|und|\xe9s|\u0219i|i|u|y|\xe0|e|a|\u0438|-|\u2013)\s|\u2014|\&)/).length>1}))},t.Attributes["@locale"]=function(e,n){var r,i,s;this.tests||(this.tests=[]);var o=e.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=n,this.tokentype===t.START){e.opt.multi_layout||(e.opt.multi_layout=[]);var a=[],l=n.split(/\s+/),u={},c=t.localeResolve(l[0],o);a.push(c),c.generic?u[c.generic]=c.best:u[c.best]=c.best;for(var h=1,p=l.length;h<p;h+=1){var d=t.localeResolve(l[h],o);a.push(d),d.generic?u[d.generic]=c.best:u[d.best]=c.best}e[e.build.area].opt.sort_locales.push(u),e.opt.multi_layout.push(a)}e.opt.has_layout_locale=!0}else{s=n.split(/\s+/);var m=[];for(h=0,p=s.length;h<p;h+=1)i=s[h],r=t.localeResolve(i,o),2===s[h].length&&m.push(r.bare),e.localeConfigure(r,!0),s[h]=r;var f=s.slice();this.tests.push(function(n,r,i){return function(s){var o;o=!1;var a,l;for(l=s.language?s.language:r,a=t.localeResolve(l,r),h=0,p=n.length;h<p;h+=1)if(a.best===n[h].best){e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=n[0].best,o=!0;break}return!o&&i.indexOf(a.bare)>-1&&(e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=n[0].best,o=!0),o}}(f,o,m))}},t.Attributes["@alternative-node-internal"]=function(e){this.tests||(this.tests=[]);this.tests.push((function(){return!e.tmp.abort_alternative}))},t.Attributes["@locale-internal"]=function(e,n){var r,i,s,o,a;for(this.tests||(this.tests=[]),s=n.split(/\s+/),this.locale_bares=[],o=0,a=s.length;o<a;o+=1)i=s[o],r=t.localeResolve(i,e.opt["default-locale"][0]),2===s[o].length&&this.locale_bares.push(r.bare),e.localeConfigure(r),s[o]=r;this.locale_default=e.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();this.tests.push(function(n){return function(r){var s;s=!1;var l=!1;if(r.language&&(i=r.language,(l=t.localeResolve(i,e.opt["default-locale"][0])).best===e.opt["default-locale"][0]&&(l=!1)),l){for(o=0,a=n.locale_list.length;o<a;o+=1)if(l.best===n.locale_list[o].best){e.opt.lang=n.locale,e.tmp.last_cite_locale=n.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=n.locale,s=!0;break}!s&&n.locale_bares.indexOf(l.bare)>-1&&(e.opt.lang=n.locale,e.tmp.last_cite_locale=n.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=n.locale,s=!0)}return s}}(this))},t.Attributes["@court-class"]=function(e,n){this.tests||(this.tests=[]);for(var r=n.split(/\s+/),i=function(n){return function(r){return t.GET_COURT_CLASS(e,r)===n}},s=0,o=r.length;s<o;s++)this.tests.push(i(r[s]))},t.Attributes["@container-multiple"]=function(e,t){this.tests||(this.tests=[]);var n="true"===t;this.tests.push(function(t){return function(n){return e.tmp.container_item_count[n.container_id]&&e.tmp.container_item_count[n.container_id]>1?t:!t}}(n))},t.Attributes["@container-subsequent"]=function(e,t){this.tests||(this.tests=[]);var n="true"===t;this.tests.push(function(t){return function(n){return e.tmp.container_item_pos[n.container_id]>1?t:!t}}(n))},t.Attributes["@has-subunit"]=function(e,t){this.tests||(this.tests=[]);var n;this.tests.push((n=t,function(e){var t=0;for(var r in e[n]){var i=e[n][r];if(!i.given){var s=(i.literal?i.literal:i.family).split("|").length;(0===t||s<t)&&(t=s)}}return t>1}))},t.Attributes["@cite-form"]=function(e,t){this.tests||(this.tests=[]);var n;this.tests.push((n=t,function(e){return e["cite-form"]===n}))},t.Attributes["@disable-duplicate-year-suppression"]=function(e,t){e.opt.disable_duplicate_year_suppression=t.split(/\s+/)},t.Attributes["@consolidate-containers"]=function(e,n){t.Attributes["@track-containers"](e,n);var r=n.split(/\s+/);e.bibliography.opt.consolidate_containers=r},t.Attributes["@track-containers"]=function(e,t){var n=t.split(/\s+/);e.bibliography.opt.track_container_items||(e.bibliography.opt.track_container_items=[]),e.bibliography.opt.consolidate_containers||(e.bibliography.opt.consolidate_containers=[]),e.bibliography.opt.track_container_items=e.bibliography.opt.track_container_items.concat(n)},t.Attributes["@parallel-first"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_first={},n){var i=n[r];this.parallel_first[i]=!0,e.opt.track_repeat[i]=!0}},t.Attributes["@parallel-last"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_last={},n){var i=n[r];this.parallel_last[i]=!0,e.opt.track_repeat[i]=!0}},t.Attributes["@parallel-last-to-first"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);this.parallel_last_to_first={};for(var r=0,i=n.length;r<i;r++)this.parallel_last_to_first[n[r]]=!0},t.Attributes["@parallel-delimiter-override"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t},t.Attributes["@parallel-delimiter-override-on-suppress"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t},t.Attributes["@no-repeat"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.non_parallel={},n){var i=n[r];this.non_parallel[i]=!0,e.opt.track_repeat[i]=!0}},t.Attributes["@require"]=function(e,t){e.opt.use_context_condition=!0,this.strings.require=t},t.Attributes["@reject"]=function(e,t){e.opt.use_context_condition=!0,this.strings.reject=t},t.Attributes["@require-comma-on-symbol"]=function(e,t){e.opt.require_comma_on_symbol=t},t.Attributes["@gender"]=function(e,t){this.gender=t},t.Attributes["@cslid"]=function(e,t){this.cslid=parseInt(t,10)},t.Attributes["@capitalize-if-first"]=function(e,t){this.strings.capitalize_if_first_override=t},t.Attributes["@label-capitalize-if-first"]=function(e,t){this.strings.label_capitalize_if_first_override=t},t.Attributes["@label-form"]=function(e,t){this.strings.label_form_override=t},t.Attributes["@part-separator"]=function(e,t){this.strings["part-separator"]=t},t.Attributes["@leading-noise-words"]=function(e,t){this["leading-noise-words"]=t},t.Attributes["@name-never-short"]=function(e,t){this["name-never-short"]=t},t.Attributes["@class"]=function(e,t){e.opt.class=t},t.Attributes["@version"]=function(e,t){e.opt.version=t},t.Attributes["@value"]=function(e,t){this.strings.value=t},t.Attributes["@name"]=function(e,t){this.strings.name=t},t.Attributes["@form"]=function(e,t){this.strings.form=t},t.Attributes["@date-parts"]=function(e,t){this.strings["date-parts"]=t},t.Attributes["@range-delimiter"]=function(e,t){this.strings["range-delimiter"]=t},t.Attributes["@macro"]=function(e,t){this.postponed_macro=t},t.Attributes["@term"]=function(e,t){this.strings.term="sub verbo"===t?"sub-verbo":t},t.Attributes["@xmlns"]=function(){},t.Attributes["@lang"]=function(e,t){t&&(e.build.lang=t)},t.Attributes["@lingo"]=function(){},t.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},t.Attributes["@suffix"]=function(e,t){this.strings.suffix=t},t.Attributes["@prefix"]=function(e,t){this.strings.prefix=t},t.Attributes["@delimiter"]=function(e,t){this.strings.delimiter=t},t.Attributes["@match"]=function(e,t){this.match=t},t.Attributes["@names-min"]=function(e,t){var n=parseInt(t,10);e[e.build.area].opt.max_number_of_names<n&&(e[e.build.area].opt.max_number_of_names=n),this.strings["et-al-min"]=n},t.Attributes["@names-use-first"]=function(e,t){this.strings["et-al-use-first"]=parseInt(t,10)},t.Attributes["@names-use-last"]=function(e,t){this.strings["et-al-use-last"]="true"===t},t.Attributes["@sort"]=function(e,n){"descending"===n&&(this.strings.sort_direction=t.DESCENDING)},t.Attributes["@plural"]=function(e,t){"always"===t||"true"===t?this.strings.plural=1:"never"===t||"false"===t?this.strings.plural=0:"contextual"===t&&(this.strings.plural=!1)},t.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},t.Attributes["@publisher-delimiter-precedes-last"]=function(e,t){this.strings["publisher-delimiter-precedes-last"]=t},t.Attributes["@publisher-delimiter"]=function(e,t){this.strings["publisher-delimiter"]=t},t.Attributes["@publisher-and"]=function(e,t){this.strings["publisher-and"]=t},t.Attributes["@givenname-disambiguation-rule"]=function(e,n){t.GIVENNAME_DISAMBIGUATION_RULES.indexOf(n)>-1&&(e.citation.opt["givenname-disambiguation-rule"]=n)},t.Attributes["@collapse"]=function(e,t){t&&(e[this.name].opt.collapse=t)},t.Attributes["@cite-group-delimiter"]=function(e,t){t&&(e[e.tmp.area].opt.cite_group_delimiter=t)},t.Attributes["@names-delimiter"]=function(e,t){e.setOpt(this,"names-delimiter",t)},t.Attributes["@name-form"]=function(e,t){e.setOpt(this,"name-form",t)},t.Attributes["@subgroup-delimiter"]=function(e,t){this.strings["subgroup-delimiter"]=t},t.Attributes["@subgroup-delimiter-precedes-last"]=function(e,t){this.strings["subgroup-delimiter-precedes-last"]=t},t.Attributes["@name-delimiter"]=function(e,t){e.setOpt(this,"name-delimiter",t)},t.Attributes["@et-al-min"]=function(e,t){var n=parseInt(t,10);e[e.build.area].opt.max_number_of_names<n&&(e[e.build.area].opt.max_number_of_names=n),e.setOpt(this,"et-al-min",n)},t.Attributes["@et-al-use-first"]=function(e,t){e.setOpt(this,"et-al-use-first",parseInt(t,10))},t.Attributes["@et-al-use-last"]=function(e,t){"true"===t?e.setOpt(this,"et-al-use-last",!0):e.setOpt(this,"et-al-use-last",!1)},t.Attributes["@et-al-subsequent-min"]=function(e,t){var n=parseInt(t,10);e[e.build.area].opt.max_number_of_names<n&&(e[e.build.area].opt.max_number_of_names=n),e.setOpt(this,"et-al-subsequent-min",n)},t.Attributes["@et-al-subsequent-use-first"]=function(e,t){e.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))},t.Attributes["@suppress-min"]=function(e,t){this.strings["suppress-min"]=parseInt(t,10)},t.Attributes["@suppress-max"]=function(e,t){this.strings["suppress-max"]=parseInt(t,10)},t.Attributes["@and"]=function(e,t){e.setOpt(this,"and",t)},t.Attributes["@delimiter-precedes-last"]=function(e,t){e.setOpt(this,"delimiter-precedes-last",t)},t.Attributes["@delimiter-precedes-et-al"]=function(e,t){e.setOpt(this,"delimiter-precedes-et-al",t)},t.Attributes["@initialize-with"]=function(e,t){e.setOpt(this,"initialize-with",t)},t.Attributes["@initialize"]=function(e,t){"false"===t&&e.setOpt(this,"initialize",!1)},t.Attributes["@name-as-reverse-order"]=function(e,t){this["name-as-reverse-order"]=t},t.Attributes["@name-as-sort-order"]=function(e,t){"style-options"===this.name?this["name-as-sort-order"]=t:e.setOpt(this,"name-as-sort-order",t)},t.Attributes["@sort-separator"]=function(e,t){e.setOpt(this,"sort-separator",t)},t.Attributes["@require-match"]=function(e,t){"true"===t&&(this.requireMatch=!0)},t.Attributes["@exclude-types"]=function(e,t){e.bibliography.opt.exclude_types=t.split(/\s+/)},t.Attributes["@exclude-with-fields"]=function(e,t){e.bibliography.opt.exclude_with_fields=t.split(/\s+/)},t.Attributes["@year-suffix-delimiter"]=function(e,t){e[this.name].opt["year-suffix-delimiter"]=t},t.Attributes["@after-collapse-delimiter"]=function(e,t){e[this.name].opt["after-collapse-delimiter"]=t},t.Attributes["@subsequent-author-substitute"]=function(e,t){e[this.name].opt["subsequent-author-substitute"]=t},t.Attributes["@subsequent-author-substitute-rule"]=function(e,t){e[this.name].opt["subsequent-author-substitute-rule"]=t},t.Attributes["@disambiguate-add-names"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-names"]=!0)},t.Attributes["@disambiguate-add-givenname"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-givenname"]=!0)},t.Attributes["@disambiguate-add-year-suffix"]=function(e,t){"true"===t&&"numeric"!==e.opt.xclass&&(e.opt["disambiguate-add-year-suffix"]=!0)},t.Attributes["@second-field-align"]=function(e,t){"flush"!==t&&"margin"!==t||(e[this.name].opt["second-field-align"]=t)},t.Attributes["@hanging-indent"]=function(e,t){"true"===t&&(e.opt.development_extensions.hanging_indent_legacy_number?e[this.name].opt.hangingindent=2:e[this.name].opt.hangingindent=!0)},t.Attributes["@line-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["line-spacing"]=parseFloat(t,10))},t.Attributes["@entry-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["entry-spacing"]=parseFloat(t,10))},t.Attributes["@near-note-distance"]=function(e,t){e[this.name].opt["near-note-distance"]=parseInt(t,10)},t.Attributes["@substring"]=function(e,t){this.substring=parseInt(t,10)},t.Attributes["@text-case"]=function(e,t){this.execs.push((function(e,n){"normal"===t?this.text_case_normal=!0:(this.strings["text-case"]=t,"title"===t&&n.jurisdiction&&(this.strings["text-case"]="passthrough"))}))},t.Attributes["@page-range-format"]=function(e,t){e.opt["page-range-format"]=t},t.Attributes["@year-range-format"]=function(e,t){e.opt["year-range-format"]=t},t.Attributes["@default-locale"]=function(e,t){if("style"===this.name){var n,r,i,s,o;if(o=t.match(/-x-(sort|translit|translat)-/g))for(i=0,r=o.length;i<r;i+=1)o[i]=o[i].replace(/^-x-/,"").replace(/-$/,"");for(s=[(n=t.split(/-x-(?:sort|translit|translat)-/))[0]],i=1,r=n.length;i<r;i+=1)s.push(o[i-1]),s.push(n[i]);for(r=(n=s.slice()).length,i=1;i<r;i+=2)e.opt["locale-"+n[i]].push(n[i+1].replace(/^\s*/g,"").replace(/\s*$/g,""));n.length?e.opt["default-locale"]=n.slice(0,1):e.opt["default-locale"]=["en"]}else"true"===t&&(this.default_locale=!0)},t.Attributes["@default-locale-sort"]=function(e,t){e.opt["default-locale-sort"]=t},t.Attributes["@demote-non-dropping-particle"]=function(e,t){e.opt["demote-non-dropping-particle"]=t},t.Attributes["@initialize-with-hyphen"]=function(e,t){"false"===t&&(e.opt["initialize-with-hyphen"]=!1)},t.Attributes["@institution-parts"]=function(e,t){this.strings["institution-parts"]=t},t.Attributes["@if-short"]=function(e,t){"true"===t&&(this.strings["if-short"]=!0)},t.Attributes["@substitute-use-first"]=function(e,t){this.strings["substitute-use-first"]=parseInt(t,10)},t.Attributes["@use-first"]=function(e,t){this.strings["use-first"]=parseInt(t,10)},t.Attributes["@use-last"]=function(e,t){this.strings["use-last"]=parseInt(t,10)},t.Attributes["@stop-first"]=function(e,t){this.strings["stop-first"]=parseInt(t,10)},t.Attributes["@stop-last"]=function(e,t){this.strings["stop-last"]=-1*parseInt(t,10)},t.Attributes["@reverse-order"]=function(e,t){"true"===t&&(this.strings["reverse-order"]=!0)},t.Attributes["@display"]=function(e,t){2===e.bibliography.tokens.length&&(e.opt.using_display=!0),this.strings.cls=t},t.Stack=function(e,t){this.mystack=[],(t||e)&&this.mystack.push(e),this.tip=this.mystack[0]},t.Stack.prototype.push=function(e,t){t||e?this.mystack.push(e):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},t.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},t.Stack.prototype.replace=function(e,n){0===this.mystack.length&&t.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+e),this.mystack[this.mystack.length-1]=n||e?e:"",this.tip=this.mystack[this.mystack.length-1]},t.Stack.prototype.pop=function(){var e=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},e},t.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},t.Stack.prototype.length=function(){return this.mystack.length},t.Parallel=function(e){this.state=e},t.Parallel.prototype.StartCitation=function(e,t){if(this.state.tmp.suppress_repeats=[],!(e.length<2)){for(var n=0,r=!1,i=[],s=0,o=e.length-1;s<o;s++){var a=e[s][0],l=e[s+1][0],u=!1,c={};if(e[s][0].seeAlso&&e[s][0].seeAlso.length>0&&!r){u=!0;var h=(r=[e[s][0].id].concat(e[s][0].seeAlso)).slice(),p=e.slice(s);p[0][1].parallel="first";for(var d=0,m=p.length;d<m;d++){var f=p[d][0].id,g=h.indexOf(f);if(n=!1,-1===g?n=s+d-1:s+d===e.length-1&&(n=s+d),n){i.push([s,n]);break}h=h.slice(0,g).concat(h.slice(g+1))}}for(var b in s>0&&u&&(this.state.tmp.suppress_repeats[s-1].START=!0,u=!1),this.state.opt.track_repeat)if(a[b]&&l[b])if("string"===typeof l[b]||"number"===typeof l[b]){if("title"===b&&a["title-short"]&&l["title-short"])var y=a["title-short"],v=l["title-short"];else y=a[b],v=l[b];c[b]=y==v}else if("undefined"===typeof a[b].length){c[b]=!1;var _=a[b].year,E=l[b].year;_&&E&&_==E&&(c[b]=!0)}else{y=JSON.stringify(a[b]),v=JSON.stringify(l[b]);c[b]=y===v}else c[b]=!1;r||(c.ORPHAN=!0),n===s&&(c.END=!0,r=!1),this.state.tmp.suppress_repeats.push(c)}for(d=0,m=i.length;d<m;d++){var T=e[i[d][0]][0].id;this.state.registry.registry[T].master=!0,this.state.registry.registry[T].siblings=[];for(var x=i[d][0],w=i[d][1],A=x;A<w;A++){this.state.tmp.suppress_repeats[A].SIBLING=!0;var S=e[A+1][0].id;e[A+1][1].parallel="other",this.state.registry.registry[T].siblings.push(S)}}}},t.Parallel.prototype.checkRepeats=function(e){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(e.parallel_first&&Object.keys(e.parallel_first).length>0){var n=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var i in e.parallel_first)n[t][i]&&!n[t].START||(r=!1);return r}if(e.parallel_last&&Object.keys(e.parallel_last).length>0){n=this.state.tmp.suppress_repeats.concat([{}]),r=Object.keys(e.parallel_last).length>0;for(var i in e.parallel_last)n[t][i]&&!n[t].END||(r=!1);return r}if(e.non_parallel&&Object.keys(e.non_parallel).length>0){n=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var i in e.non_parallel)n[t][i]||(r=!1);return r}}return!1},t.Util={},t.Util.Match=function(){this.any=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(n[r](e,t))return!0}return!1}},this.none=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(n[r](e,t))return!1}return!0}},this.all=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(!n[r](e,t))return!1}return!0}},this[void 0]=this.all,this.nand=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(!n[r](e,t))return!0}return!1}}},t.Transform=function(e){function n(t,n,r){var i="";return e.sys.getHumanForm&&("country"===t?i=(i=e.sys.getHumanForm(n.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===t&&(i=e.sys.getHumanForm(n.toLowerCase(),!1,!0),i=r?"":i.split("|").slice(1).join(", "))),i}function r(e,r,i,s,o,a,l){var u,c="",h=t.FIELD_CATEGORY_REMAP[a];if(!h)return o;var p=a,d=o;e.sys.normalizeAbbrevsKey&&(d=e.sys.normalizeAbbrevsKey(a,o));var m=!1;if("jurisdiction"===p&&d&&(m=-1===d.indexOf(":")),["jurisdiction","country"].indexOf(a)>-1&&o===o.toLowerCase()&&(d=o.toUpperCase()),e.sys.getAbbreviation){u=["jurisdiction","country","language-name","language-name-original"].indexOf(p)>-1?"default":i.jurisdiction?i.jurisdiction:"default";var f=e.transform.loadAbbreviation(u,h,d,i.language);if(e.transform.abbrevs[f][h]&&d){var g=e.transform.abbrevs[f][h][d];c="short"===r.strings.form&&g?m?"":g:n(p,d,m)}}return c||e.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===i.type||!s||!i[s]||!l||(c=i[s]),c||e.sys.getAbbreviation||!e.sys.getHumanForm||(c=n(p,d,m)),c||m||e.sys.getHumanForm&&"jurisdiction"===p||(c=o),e.opt.development_extensions.force_title_abbrev_fallback&&"title"===p&&c===o&&i["title-short"]&&(c=i["title-short"]),c}function i(t,n){var r,i=e.opt["default-locale"][0].slice(0,2);if(r=e.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),t.language){var s=(""+t.language).match(r);i=s?s[1]:"tlh"}return t.multi&&t.multi&&t.multi.main&&t.multi.main[n]&&(i=t.multi.main[n]),e.opt.development_extensions.strict_text_case_locales&&!e.opt.development_extensions.normalize_lang_keys_to_lowercase||(i=i.toLowerCase()),i}function s(n,r,s,o,a,l){var u,c,h,p,d=a,m=!1;if(!n[r])return{name:"",usedOrig:a,token:t.Util.cloneToken(this)};var f=!1;t.VARIABLES_WITH_SHORT_FORM.indexOf(r)>-1&&l&&(r+="-short",f=!0);var g=!1,b=null,y=[];"-short"===r.slice(-6)?(y.push(r),y.push(r.slice(0,-6))):y.push(r);for(var v=0,_=y.length;v<_;v++){var E=!1;h={name:"",usedOrig:a,locale:i(n,r=y[v])},p=e.opt[s]?e.opt[s].slice():[];var T=!1;if("locale-orig"===s?(a||(h.name=n[r],h.usedOrig=!1),T=!0,m=!0):!o||"undefined"!==typeof p&&0!==p.length||(h.name=n[r],h.usedOrig=!0,T=!0,m=!0),!T){for(var x=0,w=p.length;x<w;x+=1){if(c=(u=p[x]).split(/[\-_]/)[0],u&&n.multi&&n.multi._keys[r]&&n.multi._keys[r][u]){h.name=n.multi._keys[r][u],h.locale=u,T=!0,E=!0,m=!1;break}if(c&&n.multi&&n.multi._keys[r]&&n.multi._keys[r][c]){h.name=n.multi._keys[r][c],h.locale=c,T=!0,E=!0,m=!1;break}}!h.name&&o&&(h={name:n[r],usedOrig:!0,locale:i(n,r)},m=!0)}if(h.token=t.Util.cloneToken(this),0===v?(E&&(h.found_variant_ok=!0),b=h,f||"undefined"!==typeof p&&0!==p.length||(g=!0),E&&(g=!0)):f||E||!b?E&&(h.found_variant_ok=!0):(h=b,r=y[0]),["title","container-title"].indexOf(r)>-1&&!d&&(!h.token.strings["text-case"]||"sentence"===h.token.strings["text-case"]||"normal"===h.token.strings["text-case"])){var A;e.opt.lang;A=!m&&h.locale;var S=r.slice(0,-5),k="sentence"===h.token.strings["text-case"];h.name=t.titlecaseSentenceOrNormal(e,n,S,A,k),delete h.token.strings["text-case"]}if(g)break}return h}function o(t,n,i,s){var o=t.variables[0];if(e.publisherOutput&&i){if(-1===["publisher","publisher-place"].indexOf(o))return!1;e.publisherOutput[o+"-token"]=t,e.publisherOutput.varlist.push(o);var a=i.split(/;\s*/);a.length===e.publisherOutput[o+"-list"].length&&(e.publisherOutput[o+"-list"]=a);for(var l=0,u=a.length;l<u;l+=1)a[l]=r(e,t,n,!1,a[l],s,!0);return e.tmp[o+"-token"]=t,!0}return!1}function a(t,n){var r=n.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(r&&(n=n.slice(r[0].length),r[1]))for(var i=r[1].split(","),s=0,o=i.length;s<o;s+=1){var a=i[s].match(/^([-_a-z]+)(?:\:(.*))*$/),l=a[1],u=e.tmp.abbrev_trimmer;a[2]?u&&t&&(u[t]||(u[t]={}),u[t][l]=a[2]):-1===e.tmp.done_vars.indexOf(l)&&(u&&t&&(u.QUASHES[t]||(u.QUASHES[t]={}),u.QUASHES[t][l]=!0),e.tmp.done_vars.push(l))}return n}this.abbrevs={},this.abbrevs.default=new e.sys.AbbreviationSegments,this.getTextSubField=s,this.loadAbbreviation=function(n,r,i,s){n||(n="default");var o=n.split(":")[0],a=t.getAbbrevsDomain(e,o,s);return a&&(n+="@"+a),i?(e.sys.getAbbreviation&&((n=e.sys.getAbbreviation(e.opt.styleID,e.transform.abbrevs,n,r,i))||(n="default",a&&(n+="@"+a))),n):(e.transform.abbrevs[n]||(e.transform.abbrevs[n]=new e.sys.AbbreviationSegments),e.transform.abbrevs[n][r]||(e.transform.abbrevs[n][r]={}),n)},this.quashCheck=a,this.getOutputFunction=function(n,i,l,u){var c,h=t.LangPrefsMap[n[0]];return c=!!h&&e.opt["cite-lang-prefs"][h],function(e,l,p){var d,m,f,g,b,y;if(!n[0]||!l[n[0]]&&!l[u])return null;if(!e.tmp.just_looking&&p&&p["suppress-author"]&&!e.tmp.probably_rendered_something&&e.tmp.can_substitute.length()>1)return null;var v={primary:!1,secondary:!1,tertiary:!1};if("_sort"===e.tmp.area.slice(-5))v.primary="locale-sort";else if(c&&1===c.length&&"locale-orig"===c[0])v.primary="locale-orig",c=!1;else if(c&&!e.tmp.multi_layout)for(var _=["primary","secondary","tertiary"],E=0,T=_.length;E<T&&!(c.length-1<E);E+=1)c[E]&&(v[_[E]]="locale-"+c[E]);else v.primary="locale-orig";if("title-short"!==n[0]&&("bibliography"===e.tmp.area||"citation"===e.tmp.area&&"note"===e.opt.xclass&&p&&!p.position)||(v.secondary=!1,v.tertiary=!1),e.tmp.multi_layout&&(v.secondary=!1,v.tertiary=!1),e.tmp["publisher-list"])return"publisher"===n[0]?e.tmp["publisher-token"]=this:"publisher-place"===n[0]&&(e.tmp["publisher-place-token"]=this),null;var x=e.tmp.lang_array.slice(),w=s.call(this,l,n[0],v.primary,!0,null,i);d=w.name,m=w.locale;var A,S,k,C=w.token,I=w.usedOrig;if(i&&!w.found_variant_ok&&(d=r(e,C,l,u,d,i,!0))&&(!function(e,t){var n=t.match(/^#([0-9]+).*>>>/);n&&n[1]&&(e["cite-form"]=n[1])}(l,d),e.tmp.just_looking||(d=a(l.jurisdiction,d))),o(this,l,d,i))return e.tmp.lang_array=x,null;if(f=!1,b=!1,v.secondary&&(f=(w=s.call(this,l,n[0],v.secondary,!1,w.usedOrig,null,i)).name,g=w.locale,A=w.token,i&&!w.found_variant_ok&&f&&(f=r(e,A,l,!1,f,i,!0))),v.tertiary&&(b=(w=s.call(this,l,n[0],v.tertiary,!1,w.usedOrig,null,i)).name,y=w.locale,S=w.token,i&&!w.found_variant_ok&&b&&(b=r(e,S,l,!1,b,i,!0))),"locale-translit"===v.primary&&(k=e.opt.citeAffixes[h][v.primary].prefix),"<i>"===k&&"title"===n[0]&&!I){var N=!1;for(E=0,T=C.decorations.length;E<T;E+=1)"@font-style"===C.decorations[E][0]&&"italic"===C.decorations[E][1]&&(N=!0);N||C.decorations.push(["@font-style","italic"])}if("en"!==m&&"title"===C.strings["text-case"]&&(C.strings["text-case"]="passthrough"),"title"===n[0]&&(d=t.demoteNoiseWords(e,d,this["leading-noise-words"])),f||b){if(e.output.openLevel("empty"),C.strings.suffix=C.strings.suffix.replace(/[ .,]+$/,""),m&&(e.tmp.lang_array=[m].concat(x)),t.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,C,C.strings.prefix+d),e.output.append(d,C),e.tmp.probably_rendered_something=!0,d===f&&(f=!1),f){A.strings.prefix=e.opt.citeAffixes[h][v.secondary].prefix,A.strings.suffix=e.opt.citeAffixes[h][v.secondary].suffix,A.strings.prefix||(A.strings.prefix=" ");for(E=A.decorations.length-1;E>-1;E+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(A.decorations[E].join("/"))>-1&&(A.decorations=A.decorations.slice(0,E).concat(A.decorations.slice(E+1)));"en"!==g&&"title"===A.strings["text-case"]&&(A.strings["text-case"]="passthrough"),g&&(e.tmp.lang_array=[g].concat(x));var O=new t.Token;O.decorations.push(["@font-style","normal"]),O.decorations.push(["@font-weight","normal"]),e.output.openLevel(O),e.output.append(f,A),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}if(d===b&&(b=!1),b){S.strings.prefix=e.opt.citeAffixes[h][v.tertiary].prefix,S.strings.suffix=e.opt.citeAffixes[h][v.tertiary].suffix,S.strings.prefix||(S.strings.prefix=" ");for(E=S.decorations.length-1;E>-1;E+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(S.decorations[E].join("/"))>-1&&(S.decorations=S.decorations.slice(0,E).concat(S.decorations.slice(E+1)));"en"!==y&&"title"===S.strings["text-case"]&&(S.strings["text-case"]="passthrough"),y&&(e.tmp.lang_array=[y].concat(x));var R=new t.Token;R.decorations.push(["@font-style","normal"]),R.decorations.push(["@font-weight","normal"]),e.output.openLevel(R),e.output.append(b,S),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}e.output.closeLevel()}else m&&(e.tmp.lang_array=[m].concat(x)),t.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,C,C.strings.prefix+d),e.output.append(d,C),e.tmp.probably_rendered_something=!0;return e.tmp.lang_array=x,e.tmp.can_block_substitute&&e.tmp.name_node.children.push(e.output.current.value()),null}}},t.Token=function(e,t,n){this.name=e,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t},t.Util.cloneToken=function(e){var n,r,i;if("string"===typeof e)return e;for(var s in n=new t.Token(e.name,e.tokentype),e.strings)e.strings.hasOwnProperty(s)&&(n.strings[s]=e.strings[s]);if(e.decorations)for(n.decorations=[],r=0,i=e.decorations.length;r<i;r+=1)n.decorations.push(e.decorations[r].slice());return e.variables&&(n.variables=e.variables.slice()),e.execs&&(n.execs=e.execs.slice(),e.tests&&(n.tests=e.tests.slice())),n},t.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},t.Blob=function(e,t,n){var r,i;if(this.levelname=n,t){for(var s in this.strings={prefix:"",suffix:""},t.strings)t.strings.hasOwnProperty(s)&&(this.strings[s]=t.strings[s]);for(this.decorations=[],r=void 0===t.decorations?0:t.decorations.length,i=0;i<r;i+=1)this.decorations.push(t.decorations[i].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"===typeof e?e:e?[e]:[],this.alldecor=[this.decorations]},t.Blob.prototype.push=function(e){"string"===typeof this.blobs?t.error("Attempt to push blob onto string object"):!1!==e&&(e.alldecor=e.alldecor.concat(this.alldecor),this.blobs.push(e))},t.NumericBlob=function(e,n,r,i,s){if(this.id=s,this.alldecor=[],this.num=r,this.particle=n,this.blobs=r.toString(),this.status=t.START,this.strings={},i){if(i.strings["text-case"]){var o=i.strings["text-case"];this.particle=t.Output.Formatters[o](e,this.particle),this.blobs=t.Output.Formatters[o](e,this.blobs)}this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new t.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new t.Output.DefaultFormatter},t.NumericBlob.prototype.setFormatter=function(e){this.formatter=e,this.type=this.formatter.format(1)},t.Output.DefaultFormatter=function(){},t.Output.DefaultFormatter.prototype.format=function(e){return e.toString()},t.NumericBlob.prototype.checkNext=function(e,n){n?(this.status=t.START,"object"===typeof e&&(e.num===this.num+1?e.status=t.SUCCESSOR:e.status=t.SEEN)):e&&e.num&&this.type===e.type&&e.num===this.num+1?this.status===t.START||this.status===t.SEEN?e.status=t.SUCCESSOR:this.status!==t.SUCCESSOR&&this.status!==t.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(e.status=t.SUCCESSOR_OF_SUCCESSOR,this.status=t.SUPPRESS):e.status=t.SUCCESSOR):(this.status===t.SUCCESSOR_OF_SUCCESSOR&&(this.status=t.END),"object"===typeof e&&(e.status=t.SEEN))},t.NumericBlob.prototype.checkLast=function(e){return(this.status===t.SEEN||e.num!==this.num-1&&this.status===t.SUCCESSOR)&&(this.status=t.SUCCESSOR,!0)},t.Util.fixDateNode=function(e,t,n){var r,i,s,o,a,l,u,c,h,p,d,m,f,g=this.cslXml.getAttributeValue(n,"lingo"),b=this.cslXml.getAttributeValue(n,"default-locale");if(this.build.date_key=!0,r=this.cslXml.getAttributeValue(n,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(n,"lingo"),!this.getDate(r,b))return e;var y=this.cslXml.getAttributeValue(n,"date-parts");for(var v in i=this.cslXml.getAttributeValue(n,"variable"),c=this.cslXml.getAttributeValue(n,"prefix"),h=this.cslXml.getAttributeValue(n,"suffix"),m=this.cslXml.getAttributeValue(n,"display"),f=this.cslXml.getAttributeValue(n,"cslid"),s=this.cslXml.nodeCopy(this.getDate(r,b)),this.cslXml.setAttribute(s,"lingo",this.opt.lang),this.cslXml.setAttribute(s,"form",r),this.cslXml.setAttribute(s,"date-parts",y),this.cslXml.setAttribute(s,"cslid",f),this.cslXml.setAttribute(s,"variable",i),this.cslXml.setAttribute(s,"default-locale",b),c&&this.cslXml.setAttribute(s,"prefix",c),h&&this.cslXml.setAttribute(s,"suffix",h),m&&this.cslXml.setAttribute(s,"display",m),p=this.cslXml.children(s))o=p[v],"date-part"===this.cslXml.nodename(o)&&(a=this.cslXml.getAttributeValue(o,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,"@default-locale","true"));for(var v in p=this.cslXml.children(n))if(o=p[v],"date-part"===this.cslXml.nodename(o))for(l in a=this.cslXml.getAttributeValue(o,"name"),d=this.cslXml.attributes(o))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=d[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,l,u)));if("year"===this.cslXml.getAttributeValue(n,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"month"),this.cslXml.deleteNodeByNameAttribute(s,"day");else if("year-month"===this.cslXml.getAttributeValue(n,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"day");else if("month-day"===this.cslXml.getAttributeValue(n,"date-parts")){for(var _=this.cslXml.children(s),E=1,T=this.cslXml.numberofnodes(_);E<T;E++)if("year"===this.cslXml.getAttributeValue(_[E],"name")){this.cslXml.setAttribute(_[E-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(s,"year")}return this.cslXml.insertChildNodeAfter(e,n,t,s)},t.dateMacroAsSortKey=function(e,n){t.dateAsSortKey.call(this,e,n,!0)},t.dateAsSortKey=function(e,n,r){var i,s,o,a,l,u,c,h=this.variables[0],p="empty";if(r&&e.tmp.extension&&(p="macro-with-date"),"undefined"===typeof(i=n[h])&&(i={"date-parts":[[0]]}),"undefined"===typeof this.dateparts&&(this.dateparts=["year","month","day"]),i.raw?i=e.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=e.dateParseArray(i)),"undefined"===typeof i&&(i={}),i.year)for(u=0,c=t.DATE_PARTS_INTERNAL.length;u<c;u+=1)if(o=0,"_end"===(a=s=t.DATE_PARTS_INTERNAL[u]).slice(-4)&&(a=a.slice(0,-4)),i[s]&&this.dateparts.indexOf(a)>-1&&(o=i[s]),"year"===s.slice(0,4)){var d="1";"-"===(l=t.Util.Dates[a].numeric(e,o))[0]&&(d="0",l=l.slice(1),l=9999-parseInt(l,10)),e.output.append(t.Util.Dates[s.slice(0,4)].numeric(e,d+l),p)}else(o=t.Util.Dates[a]["numeric-leading-zeros"](e,o))||(o="00"),e.output.append(o,p)},t.Engine.prototype.dateParseArray=function(e){var n,r,i,s;for(r in n={},e)if("date-parts"===r){(i=e["date-parts"]).length>1&&i[0].length!==i[1].length&&t.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var o=0,a=i.length;o<a;o+=1)for(var l=0,u=t.DATE_PARTS.length;l<u;l+=1)isNaN(parseInt(i[o][l],10))?n[t.DATE_PARTS[l]+s[o]]=void 0:n[t.DATE_PARTS[l]+s[o]]=parseInt(i[o][l],10)}else e.hasOwnProperty(r)&&("literal"===r&&"object"===typeof e.literal&&"string"===typeof e.literal.part?(t.debug("Warning: fixing up weird literal date value"),n.literal=e.literal.part):n[r]=e[r]);return n},t.Util.Names={},t.Util.Names.compareNamesets=t.NameOutput.prototype._compareNamesets,t.Util.Names.unInitialize=function(e,t){var n,r,i,s,o;if(!t)return"";for(i=t.split(/(?:\-|\s+)/),s=t.match(/(\-|\s+)/g),o="",n=0,r=i.length;n<r;n+=1)o+=i[n],n<r-1&&(o+=s[n]);return o},t.Util.Names.initializeWith=function(e,n,r,i){var s;if(!n)return"";if(r||(r=""),["Lord","Lady"].indexOf(n)>-1||!n.replace(/^(?:<[^>]+>)*/,"").match(t.STARTSWITH_ROMANESQUE_REGEXP)&&!r.match("%s"))return n;!1===e.opt["initialize-with-hyphen"]&&(n=n.replace(/\-/g," "));for(var o=(n=(n=n.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"\u2013$1")).length-2;o>-1;o+=-1)"."===n.slice(o,o+1)&&" "!==n.slice(o+1,o+2)&&(n=n.slice(0,o)+". "+n.slice(o+1));var a=t.Output.Formatters.nameDoppel.split(n),l=[];if(l=[a.strings[0]],0===a.tags.length){var u=l[0].match(/[^\.]+$/);u&&1===u[0].length&&u[0]!==u[0].toLowerCase()&&(l[0]+=".")}for(o=1,s=a.strings.length;o<s;o+=1)l.push(a.tags[o-1]),l.push(a.strings[o]);return(i?this.doNormalize(e,l,r):this.doInitialize(e,l,r)).replace(/\u2013([a-z])/g,"-$1")},t.Util.Names.notag=function(e){return e.replace(/^(?:<[^>]+>)*/,"")},t.Util.Names.mergetag=function(e,t,n){var r=t.match(/(?:-*<[^>]+>-*)/g);return r?(t=r.join(""),(r=n.match(/^(.*[^\s])*(\s+)$/))?(r[1]=r[1]?r[1]:"",n=r[1]+t+r[2]):n+=t,n):n},t.Util.Names.tagonly=function(e,t){var n=t.match(/(?:<[^>]+>)+/);return n?n.join(""):t},t.Util.Names.doNormalize=function(e,t,n){var r,i;n=n||"";var s=[];for(r=0,i=t.length;r<i;r+=1)this.notag(t[r]).length>1&&"."===this.notag(t[r]).slice(-1)?(t[r]=t[r].replace(/^(.*)\.(.*)$/,"$1$2"),s.push(!0)):1===t[r].length&&t[r].toUpperCase()===t[r]?s.push(!0):s.push(!1);for(r=0,i=t.length;r<i;r+=2)s[r]&&(r<t.length-2&&(t[r+1]=this.tagonly(e,t[r+1]),s[r+2]||(t[r+1]=this.tagonly(e,t[r+1])+" "),t[r+2].length>1?t[r+1]=n.replace(/\ufeff$/,"")+t[r+1]:t[r+1]=this.mergetag(e,t[r+1],n)),r===t.length-1&&(t[r]=t[r]+n));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},t.Util.Names.doInitialize=function(e,n,r){var i,s,o,a,l,u,c;for(i=0,s=n.length;i<s;i+=2)if(c=n[i])if(!(o=c.match(t.NAME_INITIAL_REGEXP))&&!c.match(t.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&r.match("%s")&&(o=c.match(/(.)(.*)/)),o&&o[2]&&o[3]&&(o[1]=o[1]+o[2],o[2]=""),o&&o[1].slice(0,1)===o[1].slice(0,1).toUpperCase()){var h="";if(o[2]){var p="";for(a=0,l=(u=o[2].split("")).length;a<l;a+=1){var d=u[a];if(d!==d.toUpperCase())break;p+=d}p.length<o[2].length&&(h=t.toLocaleLowerCase.call(e,p))}n[i]=o[1]+h,i<s-1?r.match("%s")?n[i]=r.replace("%s",n[i]):n[i+1].indexOf("-")>-1?n[i+1]=this.mergetag(e,n[i+1].replace("-",""),r)+"-":n[i+1]=this.mergetag(e,n[i+1],r):r.match("%s")?n[i]=r.replace("%s",n[i]):n.push(r)}else!c.match(t.ROMANESQUE_REGEXP)||o&&o[3]||(n[i]=" "+c);var m=n.join("");return m=m.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},t.Util.Names.getRawName=function(e){var t=[];return e.literal?t.push(e.literal):(e.given&&t.push(e.given),e.family&&t.push(e.family)),t.join(" ")},t.Util.Dates={},t.Util.Dates.year={},t.Util.Dates.year.long=function(e,t){return t||(t="boolean"===typeof t?"":0),t.toString()},t.Util.Dates.year.imperial=function(e,t,n){var r="";t||(t="boolean"===typeof t?"":0),n=n?"_end":"";var i=e.tmp.date_object["month"+n];for(i=i?""+i:"1";i.length<2;)i="0"+i;var s=e.tmp.date_object["day"+n];for(s=s?""+s:"1";s.length<2;)s="0"+s;var o,a,l=parseInt(t+i+s,10);if(l>=18680908&&l<19120730?(o="\u660e\u6cbb",a=1867):l>=19120730&&l<19261225?(o="\u5927\u6b63",a=1911):l>=19261225&&l<19890108?(o="\u662d\u548c",a=1925):l>=19890108&&(o="\u5e73\u6210",a=1988),o&&a){var u=o;e.sys.normalizeAbbrevsKey&&(u=e.sys.normalizeAbbrevsKey("number",o)),e.transform.abbrevs.default.number[u]||e.transform.loadAbbreviation("default","number",u,null),e.transform.abbrevs.default.number[u]&&(o=e.transform.abbrevs.default.number[u]),r=o+(t-a)}return r},t.Util.Dates.year.short=function(e,t){if((t=t.toString())&&4===t.length)return t.substr(2)},t.Util.Dates.year.numeric=function(e,t){var n,r;for((r=(t=""+t).match(/([0-9]*)$/))?(n=t.slice(0,-1*r[1].length),t=r[1]):(n=t,t="");t.length<4;)t="0"+t;return n+t},t.Util.Dates.normalizeMonth=function(e,t){var n;if(e||(e=0),(e=""+e).match(/^[0-9]+$/)||(e=0),e=parseInt(e,10),t){var r={stub:"month-",num:e};if(r.num<1||r.num>24)r.num=0;else{for(;r.num>16;)r.num=r.num-4;r.num>12&&(r.stub="season-",r.num=r.num-12)}n=r}else(e<1||e>12)&&(e=0),n=e;return n},t.Util.Dates.month={},t.Util.Dates.month.numeric=function(e,n){return(n=t.Util.Dates.normalizeMonth(n))||(n=""),n},t.Util.Dates.month["numeric-leading-zeros"]=function(e,n){if(n=t.Util.Dates.normalizeMonth(n))for(n=""+n;n.length<2;)n="0"+n;else n="";return n},t.Util.Dates.month.long=function(e,n,r,i){var s=t.Util.Dates.normalizeMonth(n,!0);if(n=s.num){for(n=""+n;n.length<2;)n="0"+n;n=e.getTerm(s.stub+n,"long",0,0,!1,i)}else n="";return n},t.Util.Dates.month.short=function(e,n,r,i){var s=t.Util.Dates.normalizeMonth(n,!0);if(n=s.num){for(n=""+n;n.length<2;)n="0"+n;n=e.getTerm(s.stub+n,"short",0,0,!1,i)}else n="";return n},t.Util.Dates.day={},t.Util.Dates.day.numeric=function(e,t){return t.toString()},t.Util.Dates.day.long=t.Util.Dates.day.numeric,t.Util.Dates.day["numeric-leading-zeros"]=function(e,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()},t.Util.Dates.day.ordinal=function(e,t,n){return e.fun.ordinalizer.format(t,n)},t.Util.Sort={},t.Util.Sort.strip_prepositions=function(e){var t;return"string"===typeof e&&(t=e.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(e=e.substr(t[1].length)),e},t.Util.substituteStart=function(e,n){var r,i,s,o,a,l,u;o=function(e,t,n){for(var r=0,i=this.decorations.length;r<i;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){e.tmp.strip_periods+=1;break}},this.execs.push(o),this.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),u=["number","date","names"],("text"===this.name&&!this.postponed_macro||u.indexOf(this.name)>-1)&&(r=function(e,t,n){"author"===e.tmp.element_trace.value()||"names"===this.name?(!e.tmp.just_looking&&n&&n["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"),!e.tmp.just_looking&&n&&n["suppress-author"]&&(e.tmp.probably_rendered_something||e.tmp.element_trace.push("suppress-me"))):"date"===this.name?!e.tmp.just_looking&&n&&n["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"):!e.tmp.just_looking&&n&&n["author-only"]&&"intext"!==e.tmp.area?!e.tmp.probably_rendered_something&&e.tmp.can_block_substitute||e.tmp.element_trace.push("suppress-me"):n&&n["suppress-author"]&&e.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),i=this.strings.cls,this.strings.cls=!1,0===e.build.render_nesting_level&&("bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]?((s=new t.Token("group",t.START)).decorations=[["@display","left-margin"]],o=function(e,t){e.tmp.render_seen||(s.strings.first_blob=t.id,e.output.startTag("bib_first",s))},s.execs.push(o),n.push(s)):t.DISPLAY_CLASSES.indexOf(i)>-1&&((s=new t.Token("group",t.START)).decorations=[["@display",i]],o=function(e,t){s.strings.first_blob=t.id,e.output.startTag("bib_first",s)},s.execs.push(o),n.push(s)),e.build.cls=i),e.build.render_nesting_level+=1,1===e.build.substitute_level.value()&&(a=new t.Token("choose",t.START),t.Node.choose.build.call(a,e,n),o=function(){return!!e.tmp.can_substitute.value()},(l=new t.Token("if",t.START)).tests||(l.tests=[]),l.tests.push(o),l.test=e.fun.match.any(this,e,l.tests),n.push(l)),e.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(o=function(e,n,r){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){var i=new t.Token("text",t.START);i.decorations=[["@showid","true"]],e.output.startTag("variable_entry",i);var s=null;r&&(s=r.position),s||(s=0);var o=0;r&&r.noteIndex&&(o=r.noteIndex);var a=0;r&&r["first-reference-note-number"]&&(a=r["first-reference-note-number"]);var l=0;r&&r["first-container-reference-note-number"]&&(l=r["first-container-reference-note-number"]);var u=0;r&&r["citation-number"]&&(u=r["citation-number"]);var c=0;r&&r.index&&(c=r.index);var h={itemData:n,variableNames:this.variables,context:e.tmp.area,xclass:e.opt.xclass,position:["first","container-subsequent","subsequent","ibid","ibid-with-locator"][s],"note-number":o,"first-reference-note-number":a,"first-container-reference-note-number":l,"citation-number":u,index:c,mode:e.opt.mode};e.output.current.value().params=h}},this.execs.push(o))},t.Util.substituteEnd=function(e,n){var r,i,s,o,a,l;if(e.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(r=function(e){e.tmp.just_looking||e.tmp.suppress_decorations||e.output.endTag("variable_entry")},this.execs.push(r)),r=function(e){for(var t=0,n=this.decorations.length;t<n;t+=1)if("@strip-periods"===this.decorations[t][0]&&"true"===this.decorations[t][1]){e.tmp.strip_periods+=-1;break}},this.execs.push(r),e.build.render_nesting_level+=-1,0===e.build.render_nesting_level&&(e.build.cls?(r=function(e){e.output.endTag("bib_first")},this.execs.push(r),e.build.cls=!1):"bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]&&(r=function(e){e.tmp.render_seen||e.output.endTag("bib_first")},(i=new t.Token("group",t.END)).execs.push(r),n.push(i),(s=new t.Token("group",t.START)).decorations=[["@display","right-inline"]],r=function(e){e.tmp.render_seen||(e.tmp.render_seen=!0,e.output.startTag("bib_other",s))},s.execs.push(r),n.push(s))),1===e.build.substitute_level.value()&&(o=new t.Token("if",t.END),n.push(o),a=new t.Token("choose",t.END),t.Node.choose.build.call(a,e,n)),"names"===this.name||"text"===this.name&&"title"!==this.variables_real){new t.Token("text",t.SINGLETON);var u=this.name;r=function(e,n){if("bibliography"===e.tmp.area&&"string"===typeof e.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||n[this.variables_real])&&(!this.variables_real||"names"!==u)){var r,i,s=e.bibliography.opt["subsequent-author-substitute-rule"];if(!e.tmp.suppress_decorations&&e.tmp.subsequent_author_substitute_ok&&e.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var o=!0,a=[];for(r=0,i=e.tmp.name_node.children.length;r<i;r+=1){var c=e.tmp.rendered_name[r];o&&e.tmp.last_rendered_name&&e.tmp.last_rendered_name.length>r-1&&c&&!c.localeCompare(e.tmp.last_rendered_name[r])?(l=new t.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[r].blobs=[l],"partial-first"===s&&(o=!1)):o=!1,a.push(c)}e.tmp.last_rendered_name=a}else if("complete-each"===s){if(a=e.tmp.rendered_name.join(",")){if(e.tmp.last_rendered_name&&!a.localeCompare(e.tmp.last_rendered_name))for(r=0,i=e.tmp.name_node.children.length;r<i;r+=1)l=new t.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[r].blobs=[l];e.tmp.last_rendered_name=a}}else{(a=e.tmp.rendered_name.join(","))&&(e.tmp.last_rendered_name&&!a.localeCompare(e.tmp.last_rendered_name)&&(l=new t.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.label_blob?e.tmp.name_node.top.blobs=[l,e.tmp.label_blob]:e.tmp.name_node.top.blobs.length?e.tmp.name_node.top.blobs[0].blobs=[l]:e.tmp.name_node.top.blobs=[l],e.tmp.substituted_variable=u),e.tmp.last_rendered_name=a)}e.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(r)}("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(r=function(e,t){e.tmp.element_trace.mystack.length>1&&e.tmp.element_trace.pop()},this.execs.push(r))},t.Util.padding=function(e){var t=e.match(/\s*(-{0,1}[0-9]+)/);if(t)for((e=parseInt(t[1],10))<0&&(e=1e20+e),e=""+e;e.length<20;)e="0"+e;return e},t.Util.LongOrdinalizer=function(){},t.Util.LongOrdinalizer.prototype.init=function(e){this.state=e},t.Util.LongOrdinalizer.prototype.format=function(e,n){e<10&&(e="0"+e);var r=t.Engine.getField(t.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+e,"long",0,n);return r||(r=this.state.fun.ordinalizer.format(e,n)),this.state.tmp.cite_renders_content=!0,r},t.Util.Ordinalizer=function(e){this.state=e,this.suffixes={}},t.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var e=0;e<3;e+=1){var t=[void 0,"masculine","feminine"][e];this.suffixes[this.state.opt.lang][t]=[];for(var n=1;n<5;n+=1){var r=this.state.getTerm("ordinal-0"+n,"long",!1,t);if("undefined"===typeof r){delete this.suffixes[this.state.opt.lang][t];break}this.suffixes[this.state.opt.lang][t].push(r)}}}},t.Util.Ordinalizer.prototype.format=function(e,t){var n;n=""+(e=parseInt(e,10));var r="",i=[];if(t&&i.push(t),i.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var s;r=this.state.getTerm("ordinal",!1,0,t);for(var o=0,a=i.length;o<a;o+=1){s=i[o];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][n]&&l["whole-number"][n][s]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][n][s],!1,0,t):l["last-two-digits"][n.slice(n.length-2)]&&l["last-two-digits"][n.slice(n.length-2)][s]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][n.slice(n.length-2)][s],!1,0,t):l["last-digit"][n.slice(n.length-1)]&&l["last-digit"][n.slice(n.length-1)][s]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][n.slice(n.length-1)][s],!1,0,t)),r)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),r=e/10%10===1||e>10&&e<20?this.suffixes[this.state.opt.lang][t][3]:e%10===1&&e%100!==11?this.suffixes[this.state.opt.lang][t][0]:e%10===2&&e%100!==12?this.suffixes[this.state.opt.lang][t][1]:e%10===3&&e%100!==13?this.suffixes[this.state.opt.lang][t][2]:this.suffixes[this.state.opt.lang][t][3];return n=n+=r},t.Util.Romanizer=function(){},t.Util.Romanizer.prototype.format=function(e){var n,r,i,s,o;if(n="",e<6e3)for((s=e.toString().split("")).reverse(),r=0,i=0,o=s.length,r=0;r<o;r+=1)i=parseInt(s[r],10),n=t.ROMAN_NUMERALS[r][i]+n;return n},t.Util.Suffixator=function(e){e||(e=t.SUFFIX_CHARS),this.slist=e.split(",")},t.Util.Suffixator.prototype.format=function(e){var t;e+=1;var n="";do{t=e%26===0?26:e%26;n=this.slist[t-1]+n;e=(e-t)/26}while(0!==e);return n},t.Engine.prototype.processNumber=function(e,n,r){var i,s=this,o=r;r="page-first"===r?"page":r;var a=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(a+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var l="\\s*&\\s*",u=new RegExp("^"+l+"$"),c=new RegExp("("+l+"|"+a+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),h=new RegExp("(?:"+l+"|"+a+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),p=this.getTerm("and"),d=this.getTerm("and","symbol");function m(e,n,i,s,a){s=s||"";var l={};if(n||t.STATUTE_SUBDIV_STRINGS_REVERSE[r]||(n="var:"+r),n){var u=n.match(/(\s*)([^\s]+)(\s*)/);"page"===o&&0===a&&-1===["p.","pp."].indexOf(u[2])?(l.gotosleepability=!0,l.labelVisibility=!0):l.labelVisibility=!1,l.label=u[2],l.origLabel=e,l.labelSuffix=u[3]?u[3]:"",l.plural=0}return(u=i.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(l.particle=u[1]?u[1]:"",l.value=u[2]):(l.particle="",l.value=i),l.joiningSuffix=s.replace(/\s*-\s*/,"-"),l}function f(e,t,n){var r=e[n.pos],i=e[t].value,s="\\-"===r.joiningSuffix;i.particle&&i.particle!==r.particle&&(n.collapsible=!1);var o=i.match(/^[0-9]+([-,:a-zA-Z]*)$/),a=r.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if(i&&o&&a&&!s||(n.collapsible=!1,i&&a||(n.numeric=!1),s&&n.count--),(o&&o[1]||a&&a[1])&&(n.collapsible=!1),void 0===e[t].collapsible){for(var l=t,u=t+n.count;l<u;l++)isNaN(parseInt(e[l].value))&&!e[l].value.match(/^[ivxlcmIVXLCM]+$/)?e[l].collapsible=!1:e[l].collapsible=!0;n.collapsible=e[t].collapsible}var c=n.collapsible;for(l=n.pos,u=n.pos+n.count;l<u;l++)n.count>1&&c&&(e[l].plural=1),e[l].numeric=n.numeric,e[l].collapsible=n.collapsible}function g(e,n,i){"var:"!==i.label.slice(0,4)&&(0===i.pos?(["locator","number","locator-extra","page"].indexOf(r)>-1&&"undefined"===typeof s.getTerm(t.STATUTE_SUBDIV_STRINGS[i.label])&&(e[i.pos].labelVisibility=!0),-1===["locator","number","locator-extra","page"].indexOf(r)&&t.STATUTE_SUBDIV_STRINGS[i.label]!==r&&(e[0].labelVisibility=!0)):e[i.pos].labelVisibility=!0)}function b(e){return e.replace("\\-","-")}function y(n){var r=t.Util.cloneToken(e),i=new t.Token;s.tmp.just_looking||(i.decorations=r.decorations,r.decorations=[],i.strings.prefix=r.strings.prefix,r.strings.prefix="",i.strings.suffix=r.strings.suffix,r.strings.suffix="");var o=n.length?n[0].label:null;if(n.length){for(var a=0,l=n.length;a<l;a++){var u=n[a],c=t.Util.cloneToken(r);c.gender=e.gender,o===u.label&&(c.formatter=e.formatter),u.numeric&&(c.successor_prefix=u.successor_prefix),c.strings.suffix=c.strings.suffix+b(u.joiningSuffix),u.styling=c}s.tmp.just_looking||'"'===n[0].value.slice(0,1)&&'"'===n[n.length-1].value.slice(-1)&&(n[0].value=n[0].value.slice(1),n[n.length-1].value=n[n.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function v(e,t){return"page"===e||["locator","locator-extra"].indexOf(e)>-1&&(["p."].indexOf(t.label)>-1||["p."].indexOf(t.origLabel)>-1)}function _(e,n,r,i){var o=v(e,n),a=function(e,n){var r,i=!0;return["locator","locator-extra","page"].indexOf(e)>-1&&(r=n.origLabel?n.origLabel:n.label,i=!!s.getTerm(t.STATUTE_SUBDIV_STRINGS[r])),i}(e,n);return a&&"-"===r&&i&&((o||["locator","locator-extra","issue","volume","edition","number"].indexOf(e)>-1)&&((r=s.getTerm("page-range-delimiter"))||(r="\u2013")),"collection-number"===e&&((r=s.getTerm("year-range-delimiter"))||(r="\u2013"))),r}function E(e,t,n){if(!(t<1)&&2===n.count&&e[t-1].particle===e[t].particle)if("-"===e[t-1].joiningSuffix)if(!s.opt["page-range-format"]&&parseInt(e[t-1].value,10)>parseInt(e[t].value,10))e[t-1].joiningSuffix=_(r,e[t],e[t-1].joiningSuffix,!0);else{var i,o=e[t];!v(r,o)||isNaN(parseInt(e[t-1].value))||isNaN(parseInt(e[t].value))?((""+e[t-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+e[t].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(e[t-1].joiningSuffix=s.getTerm("page-range-delimiter")),i=e[t-1].value+b(e[t-1].joiningSuffix)+e[t].value):(i=e[t-1].particle+e[t-1].value+" - "+e[t].particle+e[t].value,i=s.fun.page_mangler(i));var a=i.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(a){var l=a[3];l=_(r,o,l,e[t].numeric),e[t-1].particle=a[1],e[t-1].value=a[2],e[t-1].joiningSuffix=l,e[t].particle=a[4],e[t].value=a[5]}n.count=0}else n.count=1}function T(t){if(e&&-1!==["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(r)){for(var n={count:0,label:null,lastHadRangeDelimiter:!1},i=0,s=t.length;i<s;i++){var o=t[i];if(o.collapsible)n.label===o.label&&"-"===o.joiningSuffix?n.count=1:n.label===o.label&&"-"!==o.joiningSuffix?(n.count++,2===n.count&&E(t,i,n)):n.label!==o.label?(n.label=o.label,n.count=1):(n.count=1,n.label=o.label);else{n.count=0,n.label=null;var a=o.numeric;o.joiningSuffix=_(r,o,o.joiningSuffix,a)}}2===n.count&&E(t,t.length-1,n)}}if(p===d&&(d="&"),e&&this.tmp.shadow_numbers[o]&&this.tmp.shadow_numbers[o].values.length)return T(C=this.tmp.shadow_numbers[o].values),void(this.tmp.shadow_numbers[o].masterStyling=y(C));if(this.tmp.shadow_numbers[o]||(this.tmp.shadow_numbers[o]={values:[]}),n){var x=t.LangPrefsMap[r];if(x){var w=this.opt["cite-lang-prefs"][x][0];i=(i=this.transform.getTextSubField(n,o,"locale-"+w,!0)).name}else i=n[o];if(i&&"number"===o&&"legal_case"===n.type&&(i=i.replace(/[\\]*-/g,"\\-")),i&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var A=this.sys.normalizeAbbrevsKey(o,i);else A=i;var S=this.transform.loadAbbreviation(n.jurisdiction,"number",A,n.language);this.transform.abbrevs[S].number&&(this.transform.abbrevs[S].number[A]?i=this.transform.abbrevs[S].number[A]:"undefined"!==typeof this.transform.abbrevs[S].number[A]&&delete this.transform.abbrevs[S].number[A])}if("undefined"!==typeof i&&("string"===typeof i||"number"===typeof i)){"number"===typeof i&&(i=""+i);var k=t.STATUTE_SUBDIV_STRINGS_REVERSE[r];if(0===this.tmp.shadow_numbers[o].values.length){var C=function(e,i){var o,a,l;if(i=i||"",e=function(e){var i=(e=e.trim()).match(/^([^ ]+)/);if(i&&!t.STATUTE_SUBDIV_STRINGS[i[1]]){var s=null;(s=["locator","locator-extra","page"].indexOf(r)>-1?n.label?t.STATUTE_SUBDIV_STRINGS_REVERSE[n.label]:"p.":t.STATUTE_SUBDIV_STRINGS_REVERSE[r])&&(e=s+" "+e)}return e}(e),"page"===r&&e.indexOf("\u2013")>-1&&(e=e.replace(/\u2013/g,"-")),e.indexOf("\\-")>-1){o=new RegExp(c.source.replace("\\-","")),a=new RegExp(h.source.replace("\\-",""));for(var p=0,f=(b=e.split("\\-")).length;p<f;p++)b[p]=b[p].replace(/\-/g,"\u2013");l=(l=b.join("\\-")).replace(/\\/g,"")}else o=c,a=h,l=e;var g=[];if(E=l.match(o)){var b=l.split(a);for(p=0,f=E.length;p<f;p++)E[p].match(u)&&(b[p].match(/[a-zA-Z]$/)&&b[p].match(/^[a-zA-Z]/)?E[p]=d:E[p]=" "+d+" ");for(var p in b)if((""+b[p]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(p=0,f=b.length-1;p<f;p++)g.push(b[p]),g.push(E[p]);g.push(b[b.length-1]),g=function(e){for(var t=e.length-2;t>-1;t-=2)"-"===e[t]&&e[t-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&e[t+1].match(/^[,a-zA-Z]+$/)&&(e[t-1]=e.slice(t-1,t+2).join(""),e=e.slice(0,t).concat(e.slice(t+2)));return e}(g)}else g=[l];var y=[],v=i,_="";for(p=0,f=g.length;p<f;p+=2){var E;if(E=g[p].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g)){for(var T=(b=g[p].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/)).length-1;T>0;T--)!b[T-1]||b[T].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&b[T-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(b[T-1]=b[T-1]+E[T-1]+b[T],b=b.slice(0,T).concat(b.slice(T+1)),E=E.slice(0,T-1).concat(E.slice(T)));if(E.length>0){var x=E[0].trim();!t.STATUTE_SUBDIV_STRINGS[x]||"undefined"===typeof s.getTerm(t.STATUTE_SUBDIV_STRINGS[x])||-1===["locator","number","locator-extra","page"].indexOf(r)&&t.STATUTE_SUBDIV_STRINGS[x]!==r?0===p&&(E=E.slice(1),b[0]=b[0]+" "+x+" "+b[1],b=b.slice(0,1).concat(b.slice(2))):_=x}T=0;for(var w=b.length;T<w;T++)(b[T]||T===b.length-1)&&(A=_===(v=E[T-1]?E[T-1]:v).trim()?"":_,l=b[T]?b[T].trim():"",T===b.length-1?y.push(m(A,v,l,g[p+1],p)):y.push(m(A,v,l,null,p)))}else{var A;A=_===v.trim()?"":_,y.push(m(A,v,g[p],g[p+1]))}}return y}(i,k);for(var I of(function(e){for(var t=0,n=e.length-1;t<n;t++)!e[t].joiningSuffix&&e[t+1].label&&(e[t].joiningSuffix=" ")}(C),function(e){if(0!==e.length){for(var t=0,i=1,s=1,a=e.length;s<a;s++){var l=e[s-1],u=e[s];l.label===u.label&&l.particle===l.particle?i++:((c=JSON.parse(JSON.stringify(e[t]))).pos=t,c.count=i,c.numeric=!0,f(e,t,c),l.label!==u.label&&g(e,0,c),t=s,i=1)}var c;(c=JSON.parse(JSON.stringify(e[t]))).pos=t,c.count=i,c.numeric=!0,f(e,t,c),g(e,0,c),e.length&&e[0].numeric&&"number-of-"===r.slice(0,10)&&parseInt(n[o],10)>1&&(e[0].plural=1)}}(C),C))I.numeric||(I.plural=0);this.tmp.shadow_numbers[o].values=C,e&&(T(C),this.tmp.shadow_numbers[o].masterStyling=y(C)),function(e,n,i){var o=e[n];i.length&&(o.numeric=i[0].numeric,o.collapsible=i[0].collapsible,o.plural=i[0].plural,o.label=t.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===r&&"issue"===o.label&&s.getTerm("number")&&(o.label="number"))}(this.tmp.shadow_numbers,o,C)}var N=this.tmp.shadow_numbers[o];"number"===r&&1===N.values.length&&N.values[0].value.indexOf("|")>-1&&(N.values[0].value=N.values[0].value.replace(/\|/g,", "),N.values[0].numeric=!0,N.values[0].plural=1,N.values[0].collapsible=!1,N.numeric=!0,N.plural=1,N.collapsible=!1),1===N.values.length&&N.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(N.values[0].numeric=!0,N.values[0].plural=0,N.values[0].collapsible=!1,N.numeric=!0,N.plural=0,N.collapsible=!1),"page"===r&&N.values.length>0&&N.values[0].gotosleepability&&(N.labelForm="short")}}},t.Util.outputNumericField=function(e,n,r){e.output.openLevel(e.tmp.shadow_numbers[n].masterStyling);var i,s=e.tmp.shadow_numbers[n].masterStyling,o=e.tmp.shadow_numbers[n].values,a=o.length?o[0].label:null,l=e.tmp.shadow_numbers[n].labelForm,u=e.tmp.group_context.tip.label_static;i=l||"short";for(var c=e.tmp.shadow_numbers[n].labelCapitalizeIfFirst,h=e.tmp.shadow_numbers[n].labelDecorations,p=null,d=0,m=o.length;d<m;d++){var f,g=o[d],b="";g.label&&(f="var:"===g.label.slice(0,4)?g.label.slice(4):t.STATUTE_SUBDIV_STRINGS[g.label])&&(g.label===a?(u&&-1===(b=e.getTerm(f,"static",g.plural)).indexOf("%s")&&(b=""),b||(b=e.getTerm(f,l,g.plural))):(u&&-1===(b=e.getTerm(f,"static",g.plural)).indexOf("%s")&&(b=""),b||(b=e.getTerm(f,i,g.plural))),c&&(b=t.Output.Formatters["capitalize-first"](e,b)));var y=-1;b&&(y=b.indexOf("%s"));var v,_=t.Util.cloneToken(g.styling);if(_.formatter=g.styling.formatter,_.type=g.styling.type,_.num=g.styling.num,_.gender=g.styling.gender,y>0&&y<b.length-2)_.strings.prefix+=b.slice(0,y),_.strings.suffix=b.slice(y+2)+_.strings.suffix;else if(g.labelVisibility)if(b||(b=g.label,f=g.label),y>0){var E=new t.Token;E.decorations=h,e.output.append(b.slice(0,y),E)}else y!==b.length-2&&-1!==y||e.output.append(b+g.labelSuffix,"empty");if(t.UPDATE_GROUP_CONTEXT_CONDITION(e,s.strings.prefix,null,s,"".concat(g.particle).concat(g.value)),g.collapsible)"undefined"===typeof(v=g.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(g.value,10))?new t.NumericBlob(e,g.particle,parseInt(g.value,10),_,r):new t.NumericBlob(e,g.particle,g.value,_,r)).gender&&(v.gender=e.locale[e.opt.lang]["noun-genders"][n]),e.output.append(v,"literal");else e.output.append(g.particle+g.value,_);if(0===y&&y<b.length-2&&(null===p&&(p=f),f!==p||d===o.length-1)){var T=new t.Token;T.decorations=h,e.output.append(b.slice(y+2),T)}p=f,e.tmp.term_predecessor=!0}e.output.closeLevel()},t.Util.PageRangeMangler={},t.Util.PageRangeMangler.getFunction=function(e,t){var n,r,i,s,o,a,l,u,c,h,p,d,m,f,g,b,y,v,_=e.getTerm(t+"-range-delimiter");n=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,s=function(n){for(i=n.length,r=1;r<i;r+=2)"object"===typeof n[r]&&(n[r]=n[r].join(""));var s=n.join("");return s=s.replace(/([^\\])\-/g,"$1"+e.getTerm(t+"-range-delimiter"))},o=function(e){var t,n,s,o="\\s+\\-\\s+",a=new RegExp("([^\\\\])[-"+("-"===_?"":_)+"\\u2013]","g");e=e.replace(a,"$1 - ").replace(/\s+-\s+/g," - ");var l=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+o+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),u=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+o+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(t=e.match(l),0===(n=e.split(u)).length)s=t;else for(s=[n[0]],r=1,i=n.length;r<i;r+=1)s.push(t[r-1].replace(/\s*\-\s*/g,"-")),s.push(n[r]);return s},a=function(e){for(p=o(e=""+e),i=p.length,r=1;r<i;r+=2)(d=p[r].match(n))&&(d[3]&&d[1]!==d[3]||(d[4].length<d[2].length&&(d[4]=d[2].slice(0,d[2].length-d[4].length)+d[4]),parseInt(d[2],10)<parseInt(d[4],10)&&(d[3]=_+(d[1]?d[1]:""),p[r]=d.slice(1)))),"string"===typeof p[r]&&(p[r]=p[r].replace(/\-/g,_));return p},l=function(e,t,n){i=e.length;for(var r=1,o=e.length;r<o;r+=2)"object"===typeof e[r]&&(e[r][3]=u(e[r][1],e[r][3],t,n),e[r][2].slice(1)===e[r][0]&&(e[r][2]=_));return s(e)},u=function(e,t,n,r){if(n||(n=0),m=(""+e).split(""),f=(""+t).split(""),(g=f.slice()).reverse(),m.length===f.length)for(var i=0,s=m.length;i<s;i+=1){if(!(m[i]===f[i]&&g.length>n)){if(n&&r&&3===g.length){var o=m.slice(0,i);o.reverse(),g=g.concat(o)}break}g.pop()}return g.reverse(),g.join("")},c=function(e){for(i=e.length,r=1;r<i;r+=2)"object"===typeof e[r]&&(d=e[r],b=parseInt(d[1],10),y=parseInt(d[3],10),b>100&&b%100&&parseInt(b/100,10)===parseInt(y/100,10)?d[3]=""+y%100:b>=1e4&&(d[3]=""+y%1e3)),d[2].slice(1)===d[0]&&(d[2]=_);return s(e)},h=function(e){for(i=e.length,r=1;r<i;r+=2){if("object"===typeof e[r]&&(d=e[r],b=parseInt(d[1],10),y=parseInt(d[3],10),f=""+y,b>100&&b%100))for(var t=2;t<f.length;t++){var n=Math.pow(10,t);if(Math.floor(b/n)===Math.floor(y/n)){d[3]=""+y%n;break}}d[2].slice(1)===d[0]&&(d[2]=_)}return s(e)};var E=function(e,t,n,r){return t(a(e=""+e),n,r)};return e.opt[t+"-range-format"]?"expanded"===e.opt[t+"-range-format"]?v=function(e){return E(e,s)}:"minimal"===e.opt[t+"-range-format"]?v=function(e){return E(e,l)}:"minimal-two"===e.opt[t+"-range-format"]?v=function(e,t){return E(e,l,2,t)}:"chicago"===e.opt[t+"-range-format"]||"chicago-15"===e.opt[t+"-range-format"]?v=function(e){return E(e,c)}:"chicago-16"===e.opt[t+"-range-format"]&&(v=function(e){return E(e,h)}):v=function(e){return E(e,s)},v},t.Util.FlipFlopper=function(e){var n=[],r={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};r['("']=r[' "'],r["('"]=r[" '"];var i=e.getTerm("open-quote"),s=e.getTerm("close-quote"),o=e.getTerm("open-inner-quote"),a=e.getTerm("close-inner-quote");function l(e){for(var t=[],n=Object.keys(r),i=0,s=n.length;i<s;i++){var o=n[i];"quote"===r[e].type&&r[e]||t.push(o)}var a=r[e];return a.opener=new RegExp("^(?:"+t.map((function(e){return e.replace("(","\\(")})).join("|")+")"),a}i&&s&&-1===[' "'," '",'"',"'"].indexOf(i)&&(r[i]=JSON.parse(JSON.stringify(r[' "'])),r[i].opener=i,r[i].closer=s),o&&a&&-1===[' "'," '",'"',"'"].indexOf(o)&&(r[o]=JSON.parse(JSON.stringify(r[" '"])),r[o].opener=o,r[o].closer=a);var u=function(){for(var e={},t=Object.keys(r),n=0,i=t.length;n<i;n++){var s=t[n];e[s]=l(s)}return e}(),c=function(){var e=[],t=[],n={};for(var r in u)e.push(r),n[u[r].closer]=!0;for(var i=Object.keys(n),s=0,o=i.length;s<o;s++){var a=i[s];t.push(a)}var l=e.concat(t).map((function(e){return e.replace("(","\\(")})).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+e.map((function(e){return e.replace("(","\\(")})).join("|")+")$)"),close:new RegExp("(^(?:"+t.join("|")+")$)")}}();function h(e,t){return e.match(c.open)?function(e,t){var r=n[n.length-1];return!r||e.match(r.opener)?(n.push({type:u[e].type,opener:u[e].opener,closer:u[e].closer,pos:t}),!1):(n.pop(),n.push({type:u[e].type,opener:u[e].opener,closer:u[e].closer,pos:t}),{fixtag:r.pos})}(e,t):function(e,t){var r=n[n.length-1];return r&&e===r.closer?(n.pop(),"nocase"===r.type&&{nocase:{open:r.pos,close:t}}):r?{fixtag:r.pos}:{fixtag:t}}(e,t)}var p=function(t){var n=[];this.set=function(i){for(var s=r[i].attr,o=null,a=n.length-1;a>-1;a--){if((h=n[a])[0]===s){o=h;break}}if(!o){var l=[e[e.tmp.area].opt.layout_decorations].concat(t.alldecor);e:for(a=l.length-1;a>-1;a--){var u=l[a];if(u)for(var c=u.length-1;c>-1;c--){var h;if((h=u[c])[0]===s){o=h;break e}}}}o=o?[s,r[i].flipflop[o[1]]]:[s,r[i].outer],n.push(o)},this.pair=function(){return n[n.length-1]},this.pop=function(){n.pop()}};function d(e,t){if("'"===e){if(t&&t.match(/^[^\,\.\?\:\;\ ]/))return"\u2019"}else if(" '"===e&&t&&t.match(/^[\ ]/))return" \u2019";return!1}this.processTags=function(i){var s=!1;" "!==(g=i.blobs).slice(0,1)||g.match(/^\s+[\'\"]/)||(s=!0);var o=new RegExp("("+t.ROMANESQUE_REGEXP.source+")\u2019("+t.ROMANESQUE_REGEXP.source+")","g"),a=function(e){var t=[],n=(e=(e=e.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(c.matchAll);if(!n)return{tags:[],strings:[e],forcedSpaces:[]};for(var i=e.split(c.splitAll),s=0,o=n.length-1;s<o;s++)r[n[s]]&&(""===i[s+1]&&['"',"'"].indexOf(n[s+1])>-1?(n[s+1]=" "+n[s+1],t.push(!0)):t.push(!1));return{tags:n,strings:i,forcedSpaces:t}}(g=" "+g.replace(o,"$1'$2"));if(0!==a.tags.length){for(var l,u=!1,m=0,f=a.tags.length;m<f;m++){var g,b=d(E=a.tags[m],g=a.strings[m+1]);if(b)a.strings[m+1]=b+a.strings[m+1],a.tags[m]="";else{for(var y;y=h(E,m);){if(!(Object.keys(y).indexOf("fixtag")>-1)){if(y.nocase){a.tags[y.nocase.open]="",a.tags[y.nocase.close]="";break}break}if(E.match(c.close)&&"'"===E)a.strings[m+1]="\u2019"+a.strings[m+1],a.tags[m]="";else{var v=a.tags[y.fixtag];a.forcedSpaces[y.fixtag-1]&&(v=v.slice(1)),a.strings[y.fixtag+1]=v+a.strings[y.fixtag+1],a.tags[y.fixtag]=""}if(!(n.length>0))break;if("'"===E)break;n.pop()}y&&(y.fixtag||0===y.fixtag)&&(a.strings[m+1]=a.tags[m]+a.strings[m+1],a.tags[m]="")}}for(m=n.length-1;m>-1;m--){var _=n[m].pos,E=a.tags[_];a.strings[_+1]=" '"===E||"'"===E?" \u2019"+a.strings[_+1]:a.tags[_]+a.strings[_+1],a.tags[_]="",n.pop()}for(m=a.tags.length-1;m>-1;m--)a.tags[m]||(a.tags=a.tags.slice(0,m).concat(a.tags.slice(m+1)),a.strings[m]=a.strings[m]+a.strings[m+1],a.strings=a.strings.slice(0,m+1).concat(a.strings.slice(m+2)));for(m=0,f=a.tags.length;m<f;m++){E=a.tags[m];var T=a.forcedSpaces[m-1];[' "'," '",'("',"('"].indexOf(E)>-1&&(u||(r[l=E].outer="true",r[{" '":' "',' "':" '",'("':"('","('":'("'}[l]].outer="inner",u=!0),T||(a.strings[m]+=E.slice(0,1)))}!function(n,r,i){var s=!0,o=new p(n);n.blobs=[];var a=new function(n){this.stack=[n],this.latest=n,this.addStyling=function(n,r){if(s&&(" "===n.slice(0,1)&&(n=n.slice(1))," "===n.slice(0,1)&&(n=n.slice(1)),s=!1),this.latest=this.stack[this.stack.length-1],r){"string"===typeof this.latest.blobs&&((m=new t.Blob).blobs=this.latest.blobs,m.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[m]);var i,o=new t.Token;if((i=new t.Blob(null,o)).alldecor=this.latest.alldecor.slice(),"@class"===r[0]&&"nodecor"===r[1]){for(var a=[],l={},u=[e[e.tmp.area].opt.layout_decorations].concat(i.alldecor),c=u.length-1;c>-1;c--){var h=u[c];if(h)for(var p=h.length-1;p>-1;p--){var d=h[p];["@font-weight","@font-style","@font-variant"].indexOf(d[0])>-1&&!l[d[0]]&&("normal"!==r[1]&&(i.decorations.push([d[0],"normal"]),a.push([d[0],"normal"])),l[d[0]]=!0)}}i.alldecor.push(a)}else i.decorations.push(r),i.alldecor.push([r]);if(this.latest.blobs.push(i),this.stack.push(i),this.latest=i,n)o=new t.Token,(i=new t.Blob(null,o)).blobs=n,i.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(i)}else{var m;n&&((m=new t.Blob).blobs=n,m.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(m))}},this.popStyling=function(){this.stack.pop()}}(n);if(r.strings.length){var l=r.strings[0];i&&(l=" "+l),a.addStyling(l)}for(var u=0,h=r.tags.length;u<h;u++){var d=r.tags[u];l=r.strings[u+1],d.match(c.open)?(o.set(d),a.addStyling(l,o.pair())):(o.pop(),a.popStyling(),a.addStyling(l))}}(i,a,s)}}},t.Output.Formatters=function(){var e=new t.Doppeler('(?:\u2018|\u2019|\u201c|\u201d| "| \'|"|\'|[-\u2013\u2014/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',(function(e){return e.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")})),n=new t.Doppeler('(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)'),r=new t.Doppeler("(?:[\xa0 \xa0\u2000-\u200b\u205f\u3000]+)"),i={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function s(e){var n=e.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!n||n[2].match(/^[\u0370-\u03FF]$/)&&!n[3]?e:n[1]+t.toLocaleUpperCase.call(this,n[2])+n[3]}function o(n,o){if(!o)return"";n.doppel=e.split(o);var a={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"\u2018":{opener:"\u2018",closer:"\u2019"},"\u201c":{opener:"\u201c",closer:"\u201d"}};function l(e,t){return["\u201c","\u2018",' "'," '"].indexOf(e)>-1?function(e,t){if(0===n.quoteState.length||e===n.quoteState[n.quoteState.length-1].opener)return n.quoteState.push({opener:a[e].opener,closer:a[e].closer,pos:t}),!1;var r=n.quoteState[n.quoteState.length-1].pos;return n.quoteState.pop(),n.quoteState.push({opener:a[e].opener,closer:a[e].closer,positions:t}),r}(e,t):function(e,t){if(!(n.quoteState.length>0&&e===n.quoteState[n.quoteState.length-1].closer))return t;n.quoteState.pop()}(e,t)}function u(e,t){var n=e.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(n)return l(n[1],t)}n.doppel.strings.length&&n.doppel.strings[0].trim()&&(n.doppel.strings[0]=n.capitaliseWords(n.doppel.strings[0],0,n.doppel.tags[0]));for(var c=0,h=n.doppel.tags.length;c<h;c++){var p=n.doppel.tags[c],d=n.doppel.strings[c+1];if(null!==n.tagState&&(i[p]?n.tagState.push(i[p]):n.tagState.length&&p===n.tagState[n.tagState.length-1]&&n.tagState.pop()),null!==n.afterPunct&&p.match(/[\!\?\:]$/)&&(n.afterPunct=!0),0===n.tagState.length?n.doppel.strings[c+1]=n.capitaliseWords(d,c+1,n.doppel,n.doppel.tags[c+1]):n.doppel.strings[c+1].trim()&&(n.lastWordPos=null),null!==n.quoteState)if((f=u(p,c))||0===f){var m=n.doppel.origStrings[f+1].slice(0,1);n.doppel.strings[f+1]=m+n.doppel.strings[f+1].slice(1),n.lastWordPos=null}n.isFirst&&d.trim()&&(n.isFirst=!1),n.afterPunct&&d.trim()&&(n.afterPunct=!1)}if(n.quoteState)for(c=0,h=n.quoteState.length;c<h;c++){var f;if("undefined"!==typeof(f=n.quoteState[c].pos)){m=n.doppel.origStrings[f+1].slice(0,1);n.doppel.strings[f+1]=m+n.doppel.strings[f+1].slice(1)}}if(n.lastWordPos){var g=r.split(n.doppel.strings[n.lastWordPos.strings]),b=g.strings[n.lastWordPos.words];b.length>1&&t.toLocaleLowerCase.call(this,b).match(n.skipWordsRex)&&(b=s.call(this,b),g.strings[n.lastWordPos.words]=b),n.doppel.strings[n.lastWordPos.strings]=r.join(g)}return e.join(n.doppel)}return{nameDoppel:n,passthrough:function(e,t){return t},lowercase:function(e,n){var r={quoteState:null,capitaliseWords:function(n){for(var r=n.split(" "),i=0,s=r.length;i<s;i++){var o=r[i];o&&(r[i]=t.toLocaleLowerCase.call(e,o))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(e,r,n)},uppercase:function(e,n){var r={quoteState:null,capitaliseWords:function(n){for(var r=n.split(" "),i=0,s=r.length;i<s;i++){var o=r[i];o&&(r[i]=t.toLocaleUpperCase.call(e,o))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(e,r,n)},sentence:function(e,n){var r={quoteState:[],capitaliseWords:function(n){for(var i=n.split(" "),o=0,a=i.length;o<a;o++){var l=i[o];l&&(r.isFirst?(i[o]=s.call(e,l),r.isFirst=!1):i[o]=t.toLocaleLowerCase.call(e,l))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(e,r,n)},title:function(e,n){var i={quoteState:[],capitaliseWords:function(n,o,a){if(n.trim()){for(var l=r.split(n),u=l.strings,c=0,h=u.length;c<h;c++){var p=u[c];if(!p)continue;let n=t.toLocaleLowerCase.call(e,p),r=!1;(p.length>1&&!n.match(i.skipWordsRex)||c===u.length-1&&"-"===a||i.isFirst||i.afterPunct)&&(r=!0),r&&p===n&&(u[c]=s.call(e,p)),i.afterPunct=!1,i.isFirst=!1,i.lastWordPos={strings:o,words:c}}n=r.join(l)}return n},skipWordsRex:e.locale[e.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return o.call(e,i,n)},"capitalize-first":function(e,n){var i={quoteState:[],capitaliseWords:function(n){for(var o=r.split(n),a=o.strings,l=0,u=a.length;l<u;l++){var c=a[l];if(c&&i.isFirst){c===t.toLocaleLowerCase.call(e,c)&&(a[l]=s.call(e,c)),i.isFirst=!1;break}}return r.join(o)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return o.call(e,i,n)},"capitalize-all":function(e,n){var i={quoteState:[],capitaliseWords:function(n){for(var i=r.split(n),o=i.strings,a=0,l=o.length;a<l;a++){var u=o[a];u&&u===t.toLocaleLowerCase.call(e,u)&&(o[a]=s.call(e,u))}return r.join(i)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return o.call(e,i,n)}}}(),t.Output.Formats=function(){},t.Output.Formats.prototype.html={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"\xa0 ").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return"<sup>"+t.SUPERSCRIPTS[e]+"</sup>"}))},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":t.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var n="";return e.sys.embedBibliographyEntry&&(n=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+t+"</div>\n"+n},"@display/block":function(e,t){return'\n\n    <div class="csl-block">'+t+"</div>\n"},"@display/left-margin":function(e,t){return'\n    <div class="csl-left-margin">'+t+"</div>"},"@display/right-inline":function(e,t){return'<div class="csl-right-inline">'+t+"</div>\n  "},"@display/indent":function(e,t){return'<div class="csl-indent">'+t+"</div>\n  "},"@showid/true":function(e,n,r){if(e.tmp.just_looking||e.tmp.suppress_decorations)return n;if(r)return'<span class="'+e.opt.nodenames[r]+'" cslid="'+r+'">'+n+"</span>";if(this.params&&"string"===typeof n){var i="";if(n){var s=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);i=s[1],n=s[2]}var o="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(o=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,i,n,o)}return n},"@URL/true":function(e,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(e,t){var n=t;return t.match(/^https?:\/\//)||(n="https://doi.org/"+t),'<a href="'+n+'">'+t+"</a>"}},t.Output.Formats.prototype.text={text_escape:function(e){return e||(e=""),e},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":t.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t+" "},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},t.Output.Formats.prototype.rtf={text_escape:function(e){return e||(e=""),e.replace(/([\\{}])/g,"\\$1").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return"\\super "+t.SUPERSCRIPTS[e]+"\\nosupersub{}"})).replace(/[\u007F-\uFFFF]/g,(function(e){return"\\uc0\\u"+e.charCodeAt(0).toString()+"{}"})).split("\t").join("\\tab{}")},"@passthrough/true":t.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,n){return"undefined"===typeof n?t.Output.Formats.rtf.text_escape(e.getTerm("open-quote")):t.Output.Formats.rtf.text_escape(e.getTerm("open-quote"))+n+t.Output.Formats.rtf.text_escape(e.getTerm("close-quote"))},"@quotes/inner":function(e,n){return"undefined"===typeof n?t.Output.Formats.rtf.text_escape("\u2019"):t.Output.Formats.rtf.text_escape(e.getTerm("open-inner-quote"))+n+t.Output.Formats.rtf.text_escape(e.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t},"@display/left-margin":function(e,t){return t+"\\tab "},"@display/right-inline":function(e,t){return t+"\r\n"},"@display/indent":function(e,t){return"\n\\tab "+t+"\\line\r\n"},"@showid/true":function(e,n){if(e.tmp.just_looking||e.tmp.suppress_decorations)return n;var r="";if(n){var i=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],n=i[2]}var s="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(s=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,r,n,s)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},t.Output.Formats.prototype.asciidoc={text_escape:function(e){return e||(e=""),e.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return"^"+t.SUPERSCRIPTS[e]+"^"}))},bibstart:"",bibend:"","@passthrough/true":t.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?"``":"``"+t+"''"},"@quotes/inner":function(e,t){return"undefined"===typeof t?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return" "+t},"@display/indent":function(e,t){return" "+t},"@showid/true":function(e,n){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!==typeof n)return n;var r="";if(n){var i=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],n=i[2]}var s="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(s=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,r,n,s)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){var n=t;return t.match(/^https?:\/\//)||(n="https://doi.org/"+t),n+"["+t+"]"}},t.Output.Formats.prototype.fo={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return'<fo:inline vertical-align="super">'+t.SUPERSCRIPTS[e]+"</fo:inline>"}))},bibstart:"",bibend:"","@passthrough/true":t.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var n="";if(e.bibliography&&e.bibliography.opt&&e.bibliography.opt.hangingindent){var r=e.bibliography.opt.hangingindent;n=' start-indent="'+r+'em" text-indent="-'+r+'em"'}var i="";return e.sys.embedBibliographyEntry&&(i=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+n+">"+t+"</fo:block>\n"+i},"@display/block":function(e,t){return"\n  <fo:block>"+t+"</fo:block>\n"},"@display/left-margin":function(e,t){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+t+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(e,t){return"<fo:table-cell>\n          <fo:block>"+t+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(e,t){return'<fo:block margin-left="2em">'+t+"</fo:block>\n"},"@showid/true":function(e,n){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!==typeof n)return n;var r="";if(n){var i=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],n=i[2]}var s="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(s=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,r,n,s)},"@URL/true":function(e,t){return"<fo:basic-link external-destination=\"url('"+t+"')\">"+t+"</fo:basic-link>"},"@DOI/true":function(e,t){var n=t;return t.match(/^https?:\/\//)||(n="https://doi.org/"+t),"<fo:basic-link external-destination=\"url('"+n+"')\">"+t+"</fo:basic-link>"}},t.Output.Formats.prototype.latex={text_escape:function(e){return e||(e=""),e},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":t.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return"\\bibitem{"+e.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t,n){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},t.Output.Formats=new t.Output.Formats,t.Registry=function(e){this.debug=!1,this.state=e,this.registry={},this.reflist=[],this.refhash={},this.namereg=new t.Registry.NameReg(e),this.citationreg=new t.Registry.CitationReg(e),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new t.Registry.Comparifier(e,"bibliography_sort"),this.getSortedIds=function(){for(var e=[],t=0,n=this.reflist.length;t<n;t+=1)e.push(""+this.reflist[t].id);return e},this.getSortedRegistryItems=function(){for(var e=[],t=0,n=this.reflist.length;t<n;t+=1)e.push(this.reflist[t]);return e}},t.Registry.prototype.init=function(e,t){if(this.oldseq={},t){this.uncited={};for(var n=0,r=e.length;n<r;n+=1)this.myhash[e[n]]||this.mylist.push(""+e[n]),this.uncited[e[n]]=!0,this.myhash[e[n]]=!0}else{for(var i in this.uncited)e.push(i);var s={};for(n=e.length-1;n>-1;n+=-1)s[e[n]]?e=e.slice(0,n).concat(e.slice(n+1)):s[e[n]]=!0;this.mylist=e,this.myhash=s}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},t.Registry.prototype.dopurge=function(e){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[this.mylist[t]]||e[this.mylist[t]]||(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1))));this.dodeletes(this.myhash)},t.Registry.prototype.dodeletes=function(e){var t,n,r,i,s,o,a;if("string"===typeof e){var l=e;(e={})[l]=!0}for(var l in this.registry)if(!e[l]){if(this.uncited[l])continue;for(s in this.namereg.delitems(l))this.refreshes[s]=!0;for(t=this.registry[l].ambig,(o=this.ambigcites[t].indexOf(l))>-1&&(i=this.ambigcites[t].slice(),this.ambigcites[t]=i.slice(0,o).concat(i.slice(o+1,i.length)),this.ambigresets[t]=this.ambigcites[t].length),r=this.ambigcites[t].length,n=0;n<r;n+=1)a=""+this.ambigcites[t][n],this.refreshes[a]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var u=this.registry[l].siblings[0];this.registry[u].siblings&&(this.registry[u].siblings.pop(),this.registry[u].master=!0)}else if(this.registry[l].siblings.length>1){var c=[l];if(this.registry[l].master){var h=this.registry[l].siblings[0];this.registry[h].master=!0,c.push(h)}for(var p=[],d=this.registry[l].siblings.length-1;d>-1;d+=-1){var m=this.registry[l].siblings.pop();-1===c.indexOf(m)&&p.push(m)}for(d=p.length-1;d>-1;d+=-1)this.registry[l].siblings.push(p[d])}for(var f=this.reflist.length-1;f>-1;f--)this.reflist[f].id===l&&(this.reflist=this.reflist.slice(0,f).concat(this.reflist.slice(f+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},t.Registry.prototype.doinserts=function(e){var n,r,i,s,o;"string"===typeof e&&(e=[e]);for(var a=0,l=e.length;a<l;a+=1)n=e[a],this.registry[n]||(r=this.state.retrieveItem(n),i=t.getAmbiguousCite.call(this.state,r),this.ambigsTouched[i]=!0,r.legislation_id||(this.akeys[i]=!0),s={id:""+n,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:r,newItem:!0},this.registry[n]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[n]&&(this.registry[n]["first-reference-note-number"]=this.citationreg.citationsByItemId[n][0].properties.noteIndex),o=t.getAmbigConfig.call(this.state),this.registerAmbigToken(i,n,o),this.touched[n]=!0,this.return_data.bibchange=!0)},t.Registry.prototype.rebuildlist=function(e){var t,n,r,i;if(e)for(this.reflist=[],t=this.mylist.length,n=0;n<t;n+=1)r=this.mylist[n],i=this.registry[r],this.reflist.push(i),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=n+1;else for(this.reflist_inserts=[],t=this.mylist.length,n=0;n<t;n+=1)r=this.mylist[n],(i=this.registry[r]).newItem&&this.reflist_inserts.push(i),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=n+1},t.Registry.prototype.dorefreshes=function(){var e;for(var n in this.refreshes)if(e=this.registry[n]){e.sortkeys=void 0,o=this.state.refetchItem(n);var r=e.ambig;for(var i in"undefined"===typeof r&&(this.state.tmp.disambig_settings=!1,r=t.getAmbiguousCite.call(this.state,o),a=t.getAmbigConfig.call(this.state),this.registerAmbigToken(r,n,a)),this.ambigresets)if(1===this.ambigresets[i]){var s=this.ambigcites[r][0],o=this.state.refetchItem(s);this.registry[s].disambig=new t.AmbigConfig,this.state.tmp.disambig_settings=!1;r=t.getAmbiguousCite.call(this.state,o);var a=t.getAmbigConfig.call(this.state);this.registerAmbigToken(r,s,a)}this.state.tmp.taintedItemIDs[n]=!0,this.ambigsTouched[r]=!0,o.legislation_id||(this.akeys[r]=!0),this.touched[n]=!0}},t.Registry.prototype.setdisambigs=function(){for(var e in this.ambigsTouched)this.state.disambiguate.run(e);this.ambigsTouched={},this.akeys={}},t.Registry.prototype.renumber=function(){var e,n,r;for(this.state.bibliography_sort.opt.citation_number_sort_direction===t.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),e=this.reflist.length,n=0;n<e;n+=1)(r=this.reflist[n]).seq=n+1,this.state.bibliography_sort.opt.citation_number_sort_direction===t.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[r.seq]=this.reflist.length-r.seq+1),this.state.opt.update_mode===t.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.state.tmp.taintedItemIDs[r.id]=!0),r.seq!=this.oldseq[r.id]&&(this.return_data.bibchange=!0)},t.Registry.prototype.setsortkeys=function(){for(var e=0,n=this.mylist.length;e<n;e+=1){var r=this.mylist[e];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=t.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}},t.Registry.prototype._insertItem=function(e,t){return t.splice(this._locationOf(e,t)+1,0,e),t},t.Registry.prototype._locationOf=function(e,t,n,r){if(0===t.length)return-1;var i=(n=n||0)+(r=r||t.length)>>1,s=this.sorter.compareKeys(e,t[i]);if(r-n<=1)return-1==s?i-1:i;switch(s){case-1:return this._locationOf(e,t,n,i);case 0:return i;case 1:return this._locationOf(e,t,i,r)}},t.Registry.prototype.sorttokens=function(e){var t,n,r;if(!e){for(this.reflist_inserts=[],t=this.mylist.length,r=0;r<t;r+=1)n=this.mylist[r],(a=this.registry[n]).newItem&&this.reflist_inserts.push(a);for(var i in this.state.tmp.taintedItemIDs)if(this.registry[i]&&!this.registry[i].newItem)for(var s=this.reflist.length-1;s>-1;s--)this.reflist[s].id===i&&(this.reflist_inserts.push(this.reflist[s]),this.reflist=this.reflist.slice(0,s).concat(this.reflist.slice(s+1)));s=0;for(var o=this.reflist_inserts.length;s<o;s++){var a;delete(a=this.reflist_inserts[s]).newItem,this.reflist=this._insertItem(a,this.reflist)}for(r=0;r<t;r+=1)n=this.mylist[r],a=this.registry[n],this.registry[n].seq=r+1}},t.Registry.Comparifier=function(e,n){var r,i,s,o,a=t.getSortCompare.call(e,e.opt["default-locale-sort"]);r=e[n].opt.sort_directions,this.compareKeys=function(e,t){for(i=e.sortkeys?e.sortkeys.length:0,s=0;s<i;s+=1){var n=0;if(0<(n=e.sortkeys[s]===t.sortkeys[s]?0:"undefined"===typeof e.sortkeys[s]?r[s][1]:"undefined"===typeof t.sortkeys[s]?r[s][0]:a(e.sortkeys[s],t.sortkeys[s])))return r[s][1];if(0>n)return r[s][0]}return e.seq>t.seq?1:e.seq<t.seq?-1:0},o=this.compareKeys,this.compareCompositeKeys=function(e,t){return o(e[1],t[1])}},t.Registry.prototype.compareRegistryTokens=function(e,t){return e.seq>t.seq?1:e.seq<t.seq?-1:0},t.Registry.prototype.registerAmbigToken=function(e,n,r){if(this.registry[n]||t.debug("Warning: unregistered item: itemID=("+n+"), akey=("+e+")"),this.registry[n]&&this.registry[n].disambig&&this.registry[n].disambig.names)for(var i=0,s=r.names.length;i<s;i+=1){if(r.names[i]!==this.registry[n].disambig.names[i])this.state.tmp.taintedItemIDs[n]=!0;else if(r.givens[i])for(var o=0,a=r.givens[i].length;o<a;o+=1){r.givens[i][o]!==this.registry[n].disambig.givens[i][o]&&(this.state.tmp.taintedItemIDs[n]=!0)}}this.ambigcites[e]||(this.ambigcites[e]=[]),-1===this.ambigcites[e].indexOf(""+n)&&this.ambigcites[e].push(""+n),this.registry[n].ambig=e,this.registry[n].disambig=t.cloneAmbigConfig(r)},t.getSortKeys=function(e,n){var r,i,s,o,a,l;for(r=this.tmp.area,i=this.tmp.root,s=this.tmp.extension,o=t.Util.Sort.strip_prepositions,this.tmp.area=n,this.tmp.root=n.indexOf("_")>-1?n.slice(0,-5):n,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,t.getCite.call(this,e),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,a=this[n].keys.length,l=0;l<a;l+=1)this[n].keys[l]=o(this[n].keys[l]);return this.tmp.area=r,this.tmp.root=i,this.tmp.extension=s,this[n].keys},t.Registry.NameReg=function(e){var n,r,i,s,o,a,l,u,c,h,p,d;this.state=e,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},l=function(e){return e||(e=""),e.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},u=function(e,s,o){n=l(o.family),"never"===e.opt["demote-non-dropping-particle"]&&o["non-dropping-particle"]&&o.family&&(n="".concat(n," ").concat(o["non-dropping-particle"]));var a=(i=l(o.given)).match(/[,\!]* ([^,]+)$/);a&&a[1]===a[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),r=t.Util.Names.initializeWith(e,i,"%s"),"by-cite"===e.citation.opt["givenname-disambiguation-rule"]&&(n=""+s+n)},c=function(t,i,a,l,c,h){var p;if("bibliography"===e.tmp.area.slice(0,12)&&!c)return"string"===typeof h?1:2;i=e.nameOutput.getName(i,"locale-translit",!0).name,u(this.state,""+t,i),p=2,s=e.opt["disambiguate-add-givenname"];var d=o=e.citation.opt["givenname-disambiguation-rule"];return"by-cite"===o&&(o="all-names"),"short"===c?p=0:"string"===typeof h&&(p=1),"undefined"===typeof this.namereg[n]||"undefined"===typeof this.namereg[n].ikey[r]?p:"by-cite"===d&&p<=l?l:s?"string"===typeof o&&"primary-name"===o.slice(0,12)&&a>0?p:(o&&"all-names"!==o&&"primary-name"!==o?"all-names-with-initials"!==o&&"primary-name-with-initials"!==o||(p=this.namereg[n].count>1?1:0):(this.namereg[n].count>1&&(p=1),(this.namereg[n].ikey&&this.namereg[n].ikey[r].count>1||this.namereg[n].count>1&&"string"!==typeof h)&&(p=2)),e.registry.registry[t]?p:"short"==c?0:"string"==typeof h?1:void 0):p},h=function(t){var s,o,l,u,c;"string"!==typeof t&&"number"!==typeof t||(t=[""+t]);for(o=t.length,s=0;s<o;s+=1)if(u=""+t[s],this.nameind[u]){for(c in this.nameind[u])if(this.nameind[u].hasOwnProperty(c)){var h=c.split("::");if(n=h[0],r=h[1],i=h[2],"undefined"===typeof this.namereg[n])continue;if(a=this.namereg[n].items,i&&this.namereg[n].ikey[r]&&this.namereg[n].ikey[r].skey[i]&&((l=(d=this.namereg[n].ikey[r].skey[i].items).indexOf(""+u))>-1&&(this.namereg[n].ikey[r].skey[i].items=d.slice(0,l).concat(d.slice([l+1]))),0===this.namereg[n].ikey[r].skey[i].items.length&&(delete this.namereg[n].ikey[r].skey[i],this.namereg[n].ikey[r].count+=-1,this.namereg[n].ikey[r].count<2)))for(var p=0,m=this.namereg[n].ikey[r].items.length;p<m;p+=1)e.tmp.taintedItemIDs[this.namereg[n].ikey[r].items[p]]=!0;if(r&&this.namereg[n].ikey[r]&&((l=this.namereg[n].ikey[r].items.indexOf(""+u))>-1&&(a=this.namereg[n].ikey[r].items.slice(),this.namereg[n].ikey[r].items=a.slice(0,l).concat(a.slice([l+1]))),0===this.namereg[n].ikey[r].items.length&&(delete this.namereg[n].ikey[r],this.namereg[n].count+=-1,this.namereg[n].count<2)))for(p=0,m=this.namereg[n].items.length;p<m;p+=1)e.tmp.taintedItemIDs[this.namereg[n].items[p]]=!0;n&&((l=this.namereg[n].items.indexOf(""+u))>-1&&(a=this.namereg[n].items.slice(),this.namereg[n].items=a.slice(0,l).concat(a.slice([l+1],a.length))),this.namereg[n].items.length<2&&delete this.namereg[n]),delete this.nameind[u][c]}delete this.nameind[u],delete this.nameindpkeys[u]}return{}},p=function(t,s,o){if(s=e.nameOutput.getName(s,"locale-translit",!0).name,!e.citation.opt["givenname-disambiguation-rule"]||"primary-"!==e.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===o){if(u(this.state,""+t,s),n&&("undefined"===typeof this.namereg[n]?(this.namereg[n]={},this.namereg[n].count=0,this.namereg[n].ikey={},this.namereg[n].items=[t]):-1===this.namereg[n].items.indexOf(t)&&this.namereg[n].items.push(t)),n&&r)if("undefined"===typeof this.namereg[n].ikey[r]){if(this.namereg[n].ikey[r]={},this.namereg[n].ikey[r].count=0,this.namereg[n].ikey[r].skey={},this.namereg[n].ikey[r].items=[t],this.namereg[n].count+=1,2===this.namereg[n].count)for(var a=0,l=this.namereg[n].items.length;a<l;a+=1)e.tmp.taintedItemIDs[this.namereg[n].items[a]]=!0}else-1===this.namereg[n].ikey[r].items.indexOf(t)&&this.namereg[n].ikey[r].items.push(t);if(n&&r&&i)if("undefined"===typeof this.namereg[n].ikey[r].skey[i]){if(this.namereg[n].ikey[r].skey[i]={},this.namereg[n].ikey[r].skey[i].items=[t],this.namereg[n].ikey[r].count+=1,2===this.namereg[n].ikey[r].count)for(a=0,l=this.namereg[n].ikey[r].items.length;a<l;a+=1)e.tmp.taintedItemIDs[this.namereg[n].ikey[r].items[a]]=!0}else-1===this.namereg[n].ikey[r].skey[i].items.indexOf(t)&&this.namereg[n].ikey[r].skey[i].items.push(t);"undefined"===typeof this.nameind[t]&&(this.nameind[t]={},this.nameindpkeys[t]={}),n&&(this.nameind[t][n+"::"+r+"::"+i]=!0,this.nameindpkeys[t][n]=this.namereg[n])}},this.addname=p,this.delitems=h,this.evalname=c},t.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},t.Disambiguation=function(e){this.state=e,this.sys=this.state.sys,this.registry=e.registry.registry,this.ambigcites=e.registry.ambigcites,this.configModes(),this.debug=!1},t.Disambiguation.prototype.run=function(e){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=e,this.initVars(e)&&this.runDisambig())},t.Disambiguation.prototype.runDisambig=function(){var e;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),e=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(e);this.lists=this.lists.slice(1)}},t.Disambiguation.prototype.scanItems=function(e){var n;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=e[1][0],this.ItemCite=t.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=e[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var r=0,i=1,s=e[1].length;i<s;i+=1){n=e[1][i];var o=t.getAmbiguousCite.call(this.state,n,this.base,!0);this.debug&&i>1&&this.state.sys.print("  -----------"),this.ItemCite===o?(this.debug&&(this.state.sys.print("  [CLASH]--\x3e "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+n.id+": "+o)),r+=1,this.partners.push(n)):(this.debug&&(this.state.sys.print("  [clear]--\x3e "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+n.id+": "+o)),this.nonpartners.push(n))}this.clashes[0]=this.clashes[1],this.clashes[1]=r},t.Disambiguation.prototype.evalScan=function(e){this[this.modes[this.modeindex]](e),e&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},t.Disambiguation.prototype.disNames=function(e){if(this.debug&&this.state.sys.print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),e&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,n=this.partners.length;t<n;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},t.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var e=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(e=!0),e||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(e||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(e||this.modeindex===this.modes.length-1){var t=this.lists[this.listpos][0];for(n=0,r=this.lists[this.listpos][1].length;n<r;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][n].id,t);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(t=this.lists[this.listpos][0]).disambiguate=!0;for(n=0,r=this.lists[this.listpos][1].length;n<r;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][n].id,t)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var n=0,r=this.lists[this.listpos][1].length;n<r;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0}},t.Disambiguation.prototype.disYears=function(){var e;this.debug&&this.state.sys.print("[3] === disYears =="),e=[];var n=this.lists[this.listpos][0];if(this.clashes[1])for(var r=0,i=this.state.registry.mylist.length;r<i;r+=1)for(var s=this.state.registry.mylist[r],o=0,a=this.lists[this.listpos][1].length;o<a;o+=1){var l;if((l=this.lists[this.listpos][1][o]).id==s){e.push(this.registry[l.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var u=0,c=e.length;u<c;u+=1){n.year_suffix=""+u;var h=this.state.registry.registry[e[u].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[u].id,n),t.ambigConfigDiff(h,n)&&(this.state.tmp.taintedItemIDs[e[u].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},t.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1,!1;var e=!1,t=!0;if("disNames"===this.modes[this.modeindex]){t=!1,"number"!==typeof this.givensMax&&(t=!0);var n=!1;"number"!==typeof this.namesMax&&(n=!0),"number"===typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),"number"===typeof this.namesMax&&t&&(this.state.opt["disambiguate-add-names"]?(n=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):n=!0):n=!0),"number"===typeof this.namesetsMax&&n&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),"number"===typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"===typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&"undefined"!==typeof this.base.givens[this.gnameset]&&"undefined"!==typeof this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(e=!0,this.debug&&this.state.sys.print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return e},t.Disambiguation.prototype.initVars=function(e){var n,r,i;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=e,this.maxNamesByItemId={},r=[],!(n=this.ambigcites[e])||!n.length)return!1;var s=this.state.refetchItem(""+n[0]);if(this.getCiteData(s),this.base=t.getAmbigConfig.call(this.state),n&&n.length>1){r.push([this.maxNamesByItemId[s.id],s]);for(var o=1,a=n.length;o<a;o+=1)s=this.state.refetchItem(""+n[o]),this.getCiteData(s,this.base),r.push([this.maxNamesByItemId[s.id],s]);r.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1].id>t[1].id?1:e[1].id<t[1].id?-1:0})),i=[];for(var o=0,a=r.length;o<a;o+=1)i.push(r[o][1]);this.lists.push([this.base,i]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+n[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},t.Disambiguation.prototype.padBase=function(e){for(var t=0,n=e.names.length;t<n;t+=1){e.givens[t]||(e.givens[t]=[]);for(var r=0,i=e.names[t];r<i;r+=1)e.givens[t][r]||(e.givens[t][r]=0)}},t.Disambiguation.prototype.configModes=function(){var e,t;this.modes=[],e=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||e&&"by-cite"===t)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},t.Disambiguation.prototype.getCiteData=function(e,n){if(!this.maxNamesByItemId[e.id]){t.getAmbiguousCite.call(this.state,e,n),n=t.getAmbigConfig.call(this.state),this.maxNamesByItemId[e.id]=t.getMaxVals.call(this.state),this.state.registry.registry[e.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var r=0,i=this.state.registry.registry[e.id].disambig.givens.length;r<i;r+=1)this.state.registry.registry[e.id].disambig.givens[r]=this.state.tmp.disambig_settings.givens[r].slice();this.namesetsMax=this.state.registry.registry[e.id].disambig.names.length-1,this.base||(this.base=n,this.betterbase=t.cloneAmbigConfig(n)),n.names.length<this.base.names.length&&(this.base=n);for(r=0,i=n.names.length;r<i;r+=1)n.names[r]>this.base.names[r]&&(this.base.givens[r]=n.givens[r].slice(),this.base.names[r]=n.names[r],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,o=this.base.givens.length;s<o;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},t.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&"undefined"!==typeof this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},t.Engine.prototype.getJurisdictionList=function(e){for(var t=[],n=e.split(":"),r=n.length;r>0;r--){var i=n.slice(0,r).join(":");if(t.push(i),this.opt.jurisdiction_fallbacks[i]){var s=this.opt.jurisdiction_fallbacks[i];t.push(s)}}return-1===t.indexOf("us")&&t.push("us"),t},t.Engine.prototype.loadStyleModule=function(e,n,r){var i=null;this.juris[e]={};var s=t.setupXml(n);s.addMissingNameNodes(s.dataObj),s.addInstitutionNodes(s.dataObj),s.insertPublisherAndPlace(s.dataObj),s.flagDateMacros(s.dataObj);for(var o=0,a=(p=s.getNodesByName(s.dataObj,"law-module")).length;o<a;o++){var l=s.getAttributeValue(p[o],"types");if(l){this.juris[e].types={};for(var u=0,c=(l=l.split(/\s+/)).length;u<c;u++)this.juris[e].types[l[u]]=!0}r||(i=s.getAttributeValue(p[o],"fallback"))&&"us"!==e&&(this.opt.jurisdiction_fallbacks[e]=i)}var h=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];t.SET_COURT_CLASSES(this,h,s,s.dataObj),this.juris[e].types||(this.juris[e].types=t.MODULE_TYPES);var p;for(o=0,a=(p=s.getNodesByName(s.dataObj,"macro")).length;o<a;o++){var d=s.getAttributeValue(p[o],"name");t.MODULE_MACROS[d]?(this.juris[e][d]=[],this.buildTokenLists(p[o],this.juris[e][d]),this.configureTokenList(this.juris[e][d])):t.debug('CSL: skipping non-modular macro name "'+d+'" in module context')}return i},t.Engine.prototype.retrieveAllStyleModules=function(e){for(var t={},n=this.locale[this.opt.lang].opts["jurisdiction-preference"],r=(n=[""].concat(n=n||[])).length-1;r>-1;r--)for(var i=n[r],s=0,o=e.length;s<o;s++){var a=e[s];if(!this.opt.jurisdictions_seen[a]){var l=this.sys.retrieveStyleModule(a,i);(!l&&!i||l)&&(this.opt.jurisdictions_seen[a]=!0),l&&(t[a]=l)}}return t},t.ParticleList=function(){var e=[[[0,1],null]],t=[[null,[0,1]]],n=[[null,[0,2]]],r=[[null,[0,3]]],i=[[null,[0,1]],[[0,1],null]],s=[[null,[0,2]],[[0,2],null]],o=[[[0,1],null],[null,[0,1]]],a=[[[0,2],null],[null,[0,2]]],l=[[null,[0,2]],[[0,1],[1,2]]];return[["'s",t],["'s-",t],["'t",t],["a",t],["aan 't",n],["aan de",n],["aan den",n],["aan der",n],["aan het",n],["aan t",n],["aan",t],["ad-",i],["adh-",i],["af",i],["al",i],["al-",i],["am de",n],["am",t],["an-",i],["ar-",i],["as-",i],["ash-",i],["at-",i],["ath-",i],["auf dem",a],["auf den",a],["auf der",a],["auf ter",n],["auf",o],["aus 'm",a],["aus dem",a],["aus den",a],["aus der",a],["aus m",a],["aus",o],["aus'm",a],["az-",i],["a\u0161-",i],["a\u1e0d-",i],["a\u1e0f-",i],["a\u1e63-",i],["a\u1e6d-",i],["a\u1e6f-",i],["a\u1e93-",i],["ben",t],["bij 't",n],["bij de",n],["bij den",n],["bij het",n],["bij t",n],["bij",t],["bin",t],["boven d",n],["boven d'",n],["d",t],["d'",i],["da",i],["dal",t],["dal'",t],["dall'",t],["dalla",t],["das",i],["de die le",r],["de die",n],["de l",n],["de l'",n],["de la",l],["de las",l],["de le",n],["de li",s],["de van der",r],["de",i],["de'",i],["deca",t],["degli",i],["dei",i],["del",i],["dela",e],["dell'",i],["della",i],["delle",i],["dello",i],["den",i],["der",i],["des",i],["di",i],["die le",n],["do",t],["don",t],["dos",i],["du",i],["ed-",i],["edh-",i],["el",i],["el-",i],["en-",i],["er-",i],["es-",i],["esh-",i],["et-",i],["eth-",i],["ez-",i],["e\u0161-",i],["e\u1e0d-",i],["e\u1e0f-",i],["e\u1e63-",i],["e\u1e6d-",i],["e\u1e6f-",i],["e\u1e93-",i],["het",t],["i",t],["il",e],["im",t],["in 't",n],["in de",n],["in den",n],["in der",s],["in het",n],["in t",n],["in",t],["l",t],["l'",t],["la",t],["las",t],["le",t],["les",i],["lo",i],["los",t],["lou",t],["of",t],["onder 't",n],["onder de",n],["onder den",n],["onder het",n],["onder t",n],["onder",t],["op 't",n],["op de",s],["op den",n],["op der",n],["op gen",n],["op het",n],["op t",n],["op ten",n],["op",t],["over 't",n],["over de",n],["over den",n],["over het",n],["over t",n],["over",t],["s",t],["s'",t],["sen",e],["t",t],["te",t],["ten",t],["ter",t],["tho",t],["thoe",t],["thor",t],["to",t],["toe",t],["tot",t],["uijt 't",n],["uijt de",n],["uijt den",n],["uijt te de",r],["uijt ten",n],["uijt",t],["uit 't",n],["uit de",n],["uit den",n],["uit het",n],["uit t",n],["uit te de",r],["uit ten",n],["uit",t],["unter",t],["v",t],["v.",t],["v.d.",t],["van 't",n],["van de l",r],["van de l'",r],["van de",n],["van de",n],["van den",n],["van der",n],["van gen",n],["van het",n],["van la",n],["van t",n],["van ter",n],["van van de",r],["van",i],["vander",t],["vd",t],["ver",t],["vom und zum",[[[0,3],null]]],["vom",i],["von 't",n],["von dem",a],["von den",a],["von der",a],["von t",n],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",a],["von",o],["voor 't",n],["voor de",n],["voor den",n],["voor in 't",r],["voor in t",r],["voor",t],["vor der",a],["vor",o],["z",e],["ze",e],["zu",o],["zum",i],["zur",i]]}(),t.parseParticles=function(){function e(e,n,r){var i=e;e=r?e.toLowerCase():e;var s,o,a=[];n?(e=e.split("").reverse().join(""),s=t.PARTICLE_GIVEN_REGEXP):s=t.PARTICLE_FAMILY_REGEXP;for(var l=e.match(s);l;){var u,c=n?l[1].split("").reverse().join(""):l[1];if(!(o=!!(u=!!(u=!!l&&c)&&c.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&u.toUpperCase()!==u))break;n?(a.push(i.slice(-1*c.length)),i=i.slice(0,-1*c.length)):(a.push(i.slice(0,c.length)),i=i.slice(c.length)),l=(e=l[2]).match(s)}if(n){e=e.split("").reverse().join(""),a.reverse();for(var h=1,p=a.length;h<p;h++)" "==a[h].slice(0,1)&&(a[h-1]+=" ");for(h=0,p=a.length;h<p;h++)" "==a[h].slice(0,1)&&(a[h]=a[h].slice(1));e=i.slice(0,e.length)}else e=i.slice(-1*e.length);return[o,e,a]}return function(t){var n=(s=e(t.family))[1],r=s[2];t.family=n;var i=function(e){var t=e.slice(-1);return e=e.trim()," "===t&&["'","\u2019"].indexOf(e.slice(-1))>-1&&(e+=" "),e}(r.join(""));i&&(t["non-dropping-particle"]=i),function(e){if(!e.suffix&&e.given){var t=e.given.match(/(\s*,!*\s*)/);if(t){var n=e.given.indexOf(t[1]),r=e.given.slice(n+t[1].length),i=e.given.slice(n,n+t[1].length).replace(/\s*/g,"");"et al"!==r.replace(/\./g,"")||e["dropping-particle"]?(2===i.length&&(e["comma-suffix"]=!0),e.suffix=r):(e["dropping-particle"]=r,e["comma-dropping-particle"]=","),e.given=e.given.slice(0,n)}}}(t);var s,o=(s=e(t.given,!0))[1],a=s[2];t.given=o;var l=a.join("").trim();l&&(t["dropping-particle"]=l)}}(),e.exports=t},3809:function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,s=Object.keys,o=Array.isArray;function a(e,t){return"object"!=typeof t||s(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||i.Promise||(i.Promise=Promise);var l=Object.getPrototypeOf,u={}.hasOwnProperty;function c(e,t){return u.call(e,t)}function h(e,t){"function"==typeof t&&(t=t(l(e))),("undefined"==typeof Reflect?s:Reflect.ownKeys)(t).forEach((function(n){d(e,n,t[n])}))}var p=Object.defineProperty;function d(e,t,n,r){p(e,t,a(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function m(e){return{from:function(t){return e.prototype=Object.create(t.prototype),d(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}var f=Object.getOwnPropertyDescriptor,g=[].slice;function b(e,t,n){return g.call(e,t,n)}function y(e,t){return t(e)}function v(e){if(!e)throw new Error("Assertion Failed")}function _(e){i.setImmediate?setImmediate(e):setTimeout(e,0)}function E(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var s=E(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return null==a?void 0:E(a,t.substr(o+1))}}function T(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){v("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)T(e,t[r],n[r])}else{var s,a,l=t.indexOf(".");-1!==l?(s=t.substr(0,l),""===(a=t.substr(l+1))?void 0===n?o(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n:T(l=(l=e[s])&&c(e,s)?l:e[s]={},a,n)):void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function x(e){var t,n={};for(t in e)c(e,t)&&(n[t]=e[t]);return n}var w=[].concat;function A(e){return w.apply([],e)}var S="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(A([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return i[e]})),k=new Set(S.map((function(e){return i[e]}))),C=null;function I(e){return C=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=C.get(t);if(n)return n;if(o(t)){n=[],C.set(t,n);for(var r=0,i=t.length;r<i;++r)n.push(e(t[r]))}else if(k.has(t.constructor))n=t;else{var s,a=l(t);for(s in n=a===Object.prototype?{}:Object.create(a),C.set(t,n),t)c(t,s)&&(n[s]=e(t[s]))}return n}(e),C=null,e}var N={}.toString;function O(e){return N.call(e).slice(8,-1)}var R="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",D="symbol"==typeof R?function(e){var t;return null!=e&&(t=e[R])&&t.apply(e)}:function(){return null};function P(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var L={};function M(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===L&&"string"==typeof e)return[e];if(i=D(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var F="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},j=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),B={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function U(e,t){this.name=e,this.message=t}function H(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function q(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=H(e,t)}function z(e,t){this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=H(e,this.failures)}m(U).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(q).from(U),m(z).from(U);var V=j.reduce((function(e,t){return e[t]=t+"Error",e}),{}),G=U,K=j.reduce((function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=B[t]||n,this.inner=null)}return m(r).from(G),e[t]=r,e}),{});K.Syntax=SyntaxError,K.Type=TypeError,K.Range=RangeError;var W=le.reduce((function(e,t){return e[t+"Error"]=K[t],e}),{}),X=j.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=K[t]),e}),{});function Y(){}function Q(e){return e}function $(e,t){return null==e||e===Q?t:function(n){return t(e(n))}}function J(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Z(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?J(r,this.onsuccess):r),i&&(this.onerror=this.onerror?J(i,this.onerror):i),void 0!==s?s:n}}function ee(e,t){return e===Y?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&&(this.onerror=this.onerror?J(r,this.onerror):r)}}function te(e,t){return e===Y?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?J(i,this.onsuccess):i),s&&(this.onerror=this.onerror?J(s,this.onerror):s),void 0===r?void 0===n?void 0:n:a(r,n)}}function ne(e,t){return e===Y?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function re(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then((function(){return t.apply(r,s)}))}return t.apply(this,arguments)}}X.ModifyError=q,X.DexieError=U,X.BulkError=z;var ie="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function se(e){ie=e}var oe={},ae=100,le=(S="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]}(),S[0]),ue=(j=S[1],S=S[2],j=j&&j.then,le&&le.constructor),ce=!!S,he=function(e,t){ve.push([e,t]),de&&(queueMicrotask(Ie),de=!1)},pe=!0,de=!0,me=[],fe=[],ge=Q,be={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Y,pgp:!1,env:{},finalize:Y},ye=be,ve=[],_e=0,Ee=[];function Te(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ye;if("function"!=typeof e){if(e!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ae(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ne();n&&"function"==typeof n.then?e(t,(function(e,t){n instanceof Te?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,Se(t)),r&&Oe()}}),Ae.bind(null,t))}catch(n){Ae(t,n)}}(this,e)}var xe={get:function(){var e=ye,t=Be;function n(n,r){var i=this,s=!e.global&&(e!==ye||t!==Be),o=s&&!ze(),a=new Te((function(t,a){ke(i,new we(Ye(n,e,s,o),Ye(r,e,s,o),t,a,e))}));return this._consoleTask&&(a._consoleTask=this._consoleTask),a}return n.prototype=oe,n},set:function(e){d(this,"then",e&&e.prototype===oe?xe:{get:function(){return e},set:xe.set})}};function we(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ae(e,t){var n,r;fe.push(t),null===e._state&&(n=e._lib&&Ne(),t=ge(t),e._state=!1,e._value=t,r=e,me.some((function(e){return e._value===r._value}))||me.push(r),Se(e),n&&Oe())}function Se(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ke(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===_e&&(++_e,he((function(){0==--_e&&Re()}),[]))}function ke(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++_e,he(Ce,[n,e,t])}else e._listeners.push(t)}function Ce(e,t,n){try{var r,i=t._value;!t._state&&fe.length&&(fe=[]),r=ie&&t._consoleTask?t._consoleTask.run((function(){return e(i)})):e(i),t._state||-1!==fe.indexOf(i)||function(e){for(var t=me.length;t;)if(me[--t]._value===e._value)return me.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--_e&&Re(),--n.psd.ref||n.psd.finalize()}}function Ie(){Xe(be,(function(){Ne()&&Oe()}))}function Ne(){var e=pe;return de=pe=!1,e}function Oe(){var e,t,n;do{for(;0<ve.length;)for(e=ve,ve=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<ve.length);de=pe=!0}function Re(){var e=me;me=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ee.slice(0),n=t.length;n;)t[--n]()}function De(e){return new Te(oe,!1,e)}function Pe(e,t){var n=ye;return function(){var r=Ne(),i=ye;try{return Ke(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{Ke(i,!1),r&&Oe()}}}h(Te.prototype,{then:xe,_then:function(e,t){ke(this,new we(null,null,e,t,ye))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return(e instanceof t?n:De)(e)})):this.then(null,(function(e){return(e&&e.name===t?n:De)(e)}))},finally:function(e){return this.then((function(t){return Te.resolve(e()).then((function(){return t}))}),(function(t){return Te.resolve(e()).then((function(){return De(t)}))}))},timeout:function(e,t){var n=this;return e<1/0?new Te((function(r,i){var s=setTimeout((function(){return i(new K.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),be.env=We(),h(Te,{all:function(){var e=M.apply(null,arguments).map(Ve);return new Te((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,s){return Te.resolve(i).then((function(n){e[s]=n,--r||t(e)}),n)}))}))},resolve:function(e){return e instanceof Te?e:e&&"function"==typeof e.then?new Te((function(t,n){e.then(t,n)})):new Te(oe,!0,e)},reject:De,race:function(){var e=M.apply(null,arguments).map(Ve);return new Te((function(t,n){e.map((function(e){return Te.resolve(e).then(t,n)}))}))},PSD:{get:function(){return ye},set:function(e){return ye=e}},totalEchoes:{get:function(){return Be}},newPSD:He,usePSD:Xe,scheduler:{get:function(){return he},set:function(e){he=e}},rejectionMapper:{get:function(){return ge},set:function(e){ge=e}},follow:function(e,t){return new Te((function(n,r){return He((function(t,n){var r=ye;r.unhandleds=[],r.onunhandled=n,r.finalize=J((function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},Ee.push((function t(){e(),Ee.splice(Ee.indexOf(t),1)})),++_e,he((function(){0==--_e&&Re()}),[])}),r.finalize),e()}),t,n,r)}))}}),ue&&(ue.allSettled&&d(Te,"allSettled",(function(){var e=M.apply(null,arguments).map(Ve);return new Te((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Te.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),ue.any&&"undefined"!=typeof AggregateError&&d(Te,"any",(function(){var e=M.apply(null,arguments).map(Ve);return new Te((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,s){return Te.resolve(e).then((function(e){return t(e)}),(function(e){i[s]=e,--r||n(new AggregateError(i))}))}))}))})));var Le={awaits:0,echoes:0,id:0},Me=0,Fe=[],je=0,Be=0,Ue=0;function He(e,t,n,r){var i=ye,s=Object.create(i);return s.parent=i,s.ref=0,s.global=!1,s.id=++Ue,be.env,s.env=ce?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},t&&a(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Xe(s,e,n,r),0===s.ref&&s.finalize(),r}function qe(){return Le.id||(Le.id=++Me),++Le.awaits,Le.echoes+=ae,Le.id}function ze(){return!!Le.awaits&&(0==--Le.awaits&&(Le.id=0),Le.echoes=Le.awaits*ae,!0)}function Ve(e){return Le.echoes&&e&&e.constructor===ue?(qe(),e.then((function(e){return ze(),e}),(function(e){return ze(),$e(e)}))):e}function Ge(){var e=Fe[Fe.length-1];Fe.pop(),Ke(e,!1)}function Ke(e,t){var n,r=ye;(t?!Le.echoes||je++&&e===ye:!je||--je&&e===ye)||queueMicrotask(t?function(e){++Be,Le.echoes&&0!=--Le.echoes||(Le.echoes=Le.awaits=Le.id=0),Fe.push(ye),Ke(e,!0)}.bind(null,e):Ge),e!==ye&&(ye=e,r===be&&(be.env=We()),ce&&(n=be.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(i,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function We(){var e=i.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Xe(e,t,n,r,i){var s=ye;try{return Ke(e,!0),t(n,r,i)}finally{Ke(s,!1)}}function Ye(e,t,n,r){return"function"!=typeof e?e:function(){var i=ye;n&&qe(),Ke(t,!0);try{return e.apply(this,arguments)}finally{Ke(i,!1),r&&queueMicrotask(ze)}}}function Qe(e){Promise===ue&&0===Le.echoes?0===je?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+j).indexOf("[native code]")&&(qe=ze=Y);var $e=Te.reject,Je=String.fromCharCode(65535),Ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",et="String expected.",tt=[],nt="__dbnames",rt="readonly",it="readwrite";function st(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=I(t))[e],t}}function lt(){throw K.Type()}function ut(e,t){try{var n=ct(e),r=ct(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,s=0;s<i;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return n===r?0:n<r?-1:1}(ht(e),ht(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,s=0;s<i;++s){var o=ut(e[s],t[s]);if(0!==o)return o}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function ct(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=O(e))?"binary":e}function ht(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var pt=(dt.prototype._trans=function(e,t,n){var r=this._tx||ye.trans,i=this.name,s=ie&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function o(e,n,r){if(!r.schema[i])throw new K.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var a=Ne();try{var l=r&&r.db._novip===this.db._novip?r===ye.trans?r._promise(e,o,n):He((function(){return r._promise(e,o,n)}),{trans:r,transless:ye.transless||ye}):function t(n,r,i,s){if(n.idbdb&&(n._state.openComplete||ye.letThrough||n._vip)){var o=n._createTransaction(r,i,n._dbSchema);try{o.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===V.InvalidState&&n.isOpen()&&0<--n._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),n.close({disableAutoOpen:!1}),n.open().then((function(){return t(n,r,i,s)}))):$e(e)}return o._promise(r,(function(e,t){return He((function(){return ye.trans=o,s(e,t,o)}))})).then((function(e){if("readwrite"===r)try{o.idbtrans.commit()}catch(e){}return"readonly"===r?e:o._completion.then((function(){return e}))}))}if(n._state.openComplete)return $e(new K.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return $e(new K.DatabaseClosed);n.open().catch(Y)}return n._state.dbReadyPromise.then((function(){return t(n,r,i,s)}))}(this.db,e,[this.name],o);return s&&(l._consoleTask=s,l=l.catch((function(e){return console.trace(e),$e(e)}))),l}finally{a&&Oe()}},dt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?$e(new K.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},dt.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=s(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){if(e.compound&&t.every((function(t){return 0<=e.keyPath.indexOf(t)}))){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort((function(e,t){return e.keyPath.length-t.keyPath.length}))[0];if(n&&this.db._maxKey!==Je){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((function(t){return e[t]})))}!n&&ie&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var i=this.schema.idxByName,a=this.db._deps.indexedDB;function l(e,t){return 0===a.cmp(e,t)}var u=t.reduce((function(t,n){var r=t[0],s=t[1],a=(t=i[n],e[n]);return[r||t,r||!t?st(s,t&&t.multi?function(e){return e=E(e,n),o(e)&&e.some((function(e){return l(a,e)}))}:function(e){return l(a,E(e,n))}):s]}),[null,null]);return r=u[0],u=u[1],r?this.where(r.name).equals(e[r.keyPath]).filter(u):n?this.filter(u):this.where(t).equals("")},dt.prototype.filter=function(e){return this.toCollection().and(e)},dt.prototype.count=function(e){return this.toCollection().count(e)},dt.prototype.offset=function(e){return this.toCollection().offset(e)},dt.prototype.limit=function(e){return this.toCollection().limit(e)},dt.prototype.each=function(e){return this.toCollection().each(e)},dt.prototype.toArray=function(e){return this.toCollection().toArray(e)},dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},dt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))},dt.prototype.reverse=function(){return this.toCollection().reverse()},dt.prototype.mapToClass=function(t){var n,r=this.db,i=this.name;function s(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof lt&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(s,n=t),Object.defineProperty(s.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),s.prototype.table=function(){return i},t=s);for(var o=new Set,a=t.prototype;a;a=l(a))Object.getOwnPropertyNames(a).forEach((function(e){return o.add(e)}));function u(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!o.has(n))try{r[n]=e[n]}catch(e){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=u,this.hook("reading",u),t},dt.prototype.defineClass=function(){return this.mapToClass((function(e){a(this,e)}))},dt.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,s=r.keyPath,o=e;return s&&i&&(o=at(s)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[o]})})).then((function(e){return e.numFailures?Te.reject(e.failures[0]):e.lastResult})).then((function(t){if(s)try{T(e,s,t)}catch(t){}return t}))},dt.prototype.update=function(e,t){return"object"!=typeof e||o(e)?this.where(":id").equals(e).modify(t):void 0===(e=E(e,this.schema.primKey.keyPath))?$e(new K.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},dt.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,s=r.keyPath,o=e;return s&&i&&(o=at(s)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[o],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Te.reject(e.failures[0]):e.lastResult})).then((function(t){if(s)try{T(e,s,t)}catch(t){}return t}))},dt.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Te.reject(e.failures[0]):void 0}))},dt.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:ot})})).then((function(e){return e.numFailures?Te.reject(e.failures[0]):void 0}))},dt.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},dt.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(a=r.schema.primKey).auto;if((a=a.keyPath)&&i)throw new K.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");var o=e.length,a=a&&n?e.map(at(a)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:a,wantResults:s}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return s?n:i;throw new z("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(o," operations failed"),e)}))}))},dt.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(a=r.schema.primKey).auto;if((a=a.keyPath)&&i)throw new K.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");var o=e.length,a=a&&n?e.map(at(a)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:a,wantResults:s}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return s?n:i;throw new z("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(o," operations failed"),e)}))}))},dt.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map((function(e){return e.key})),i=e.map((function(e){return e.changes})),s=[];return this._trans("readwrite",(function(o){return n.getMany({trans:o,keys:r,cache:"clone"}).then((function(a){var l=[],u=[];e.forEach((function(e,n){var r=e.key,i=e.changes,o=a[n];if(o){for(var c=0,h=Object.keys(i);c<h.length;c++){var p=h[c],d=i[p];if(p===t.schema.primKey.keyPath){if(0!==ut(d,r))throw new K.Constraint("Cannot update primary key in bulkUpdate()")}else T(o,p,d)}s.push(n),l.push(r),u.push(o)}}));var c=l.length;return n.mutate({trans:o,type:"put",keys:l,values:u,updates:{keys:r,changeSpecs:i}}).then((function(e){var n=e.numFailures,r=e.failures;if(0===n)return c;for(var i=0,o=Object.keys(r);i<o.length;i++){var a,l=o[i],u=s[Number(l)];null!=u&&(a=r[l],delete r[l],r[u]=a)}throw new z("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(c," operations failed"),r)}))}))}))},dt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult;if(e=e.failures,0===r)return i;throw new z("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)}))},dt);function dt(){}function mt(e){function t(t,r){if(r){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return n[t].subscribe.apply(null,s),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return t;function a(e,r,i){if("object"!=typeof e){var l;r=r||ne;var u={subscribers:[],fire:i=i||Y,subscribe:function(e){-1===u.subscribers.indexOf(e)&&(u.subscribers.push(e),u.fire=r(u.fire,e))},unsubscribe:function(e){u.subscribers=u.subscribers.filter((function(t){return t!==e})),u.fire=u.subscribers.reduce(r,i)}};return n[e]=t[e]=u}s(l=e).forEach((function(e){var t=l[e];if(o(t))a(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new K.InvalidArgument("Invalid event config");var n=a(e,Q,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){_((function(){e.apply(null,t)}))}))}))}}))}}function ft(e,t){return m(t).from({prototype:e}),t}function gt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function bt(e,t){e.filter=st(e.filter,t)}function yt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return st(r(),t())}:t,e.justLimit=n&&!r}function vt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new K.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function _t(e,t,n){var r=vt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Et(e,t,n,r){var i=e.replayFilter?st(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},o=function(e,n,r){var o,a;i&&!i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))||("[object ArrayBuffer]"===(a=""+(o=n.primaryKey))&&(a=""+new Uint8Array(o)),c(s,a)||(s[a]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(o,n),Tt(_t(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Tt(_t(e,r,n),st(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Tt(e,t,n,r){var i=Pe(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=Y}),(function(t){e.fail(t),n=Y}))||i(e.value,e,(function(e){return n=e})),n()}))}))}S=Symbol();var xt=(wt.prototype.execute=function(e){if(void 0!==this.add){var t=this.add;if(o(t))return r(r([],o(e)?e:[],!0),t,!0).sort();if("number"==typeof t)return(Number(e)||0)+t;if("bigint"==typeof t)try{return BigInt(e)+t}catch(e){return BigInt(0)+t}throw new TypeError("Invalid term ".concat(t))}if(void 0!==this.remove){var n=this.remove;if(o(n))return o(e)?e.filter((function(e){return!n.includes(e)})).sort():[];if("number"==typeof n)return Number(e)-n;if("bigint"==typeof n)try{return BigInt(e)-n}catch(e){return BigInt(0)-n}throw new TypeError("Invalid subtrahend ".concat(n))}return(t=null===(t=this.replacePrefix)||void 0===t?void 0:t[0])&&"string"==typeof e&&e.startsWith(t)?this.replacePrefix[1]+e.substring(t.length):e},wt);function wt(e){Object.assign(this,e)}var At=(St.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,$e.bind(null,n.error)):n.table._trans("readonly",e).then(t)},St.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,$e.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},St.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=st(t.algorithm,e)},St.prototype._iterate=function(e,t){return Et(this._ctx,e,t,this._ctx.table.core)},St.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},St.prototype.raw=function(){return this._ctx.valueMapper=null,this},St.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return Et(t,e,n,t.table.core)}))},St.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(gt(n,!0))return r.count({trans:e,query:{index:vt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return Et(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)},St.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function s(e,t){return t?s(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function a(e,t){return(e=s(e,i))<(t=s(t,i))?-o:t<e?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)},St.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&gt(n,!0)&&0<n.limit){var r=n.valueMapper,i=vt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){return e=e.result,r?e.map(r):e}))}var s=[];return Et(n,(function(e){return s.push(e)}),e,n.table.core).then((function(){return s}))}),e)},St.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,gt(t)?yt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n((function(){e.advance(t),t=0})),!1)}})):yt(t,(function(){var t=e;return function(){return--t<0}}))),this},St.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),yt(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}}),!0),this},St.prototype.until=function(e,t){return bt(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this},St.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},St.prototype.last=function(e){return this.reverse().first(e)},St.prototype.filter=function(e){var t;return bt(this._ctx,(function(t){return e(t.value)})),(t=this._ctx).isMatch=st(t.isMatch,e),this},St.prototype.and=function(e){return this.filter(e)},St.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},St.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},St.prototype.desc=function(){return this.reverse()},St.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},St.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},St.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},St.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},St.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&gt(t,!0)&&0<t.limit)return this._read((function(e){var n=vt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},St.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},St.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},St.prototype.lastKey=function(e){return this.reverse().firstKey(e)},St.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return bt(this._ctx,(function(e){var n=e.primaryKey.toString();return e=c(t,n),t[n]=!0,!e})),this},St.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var i,o,a;function l(e,t){var n=t.failures;t=t.numFailures,f+=e-t;for(var r=0,i=s(n);r<i.length;r++){var o=i[r];m.push(n[o])}}a="function"==typeof e?e:(i=s(e),o=i.length,function(t){for(var n=!1,r=0;r<o;++r){var s=i[r],a=e[s],l=E(t,s);a instanceof xt?(T(t,s,a.execute(l)),n=!0):l!==a&&(T(t,s,a),n=!0)}return n});var u=n.table.core,c=u.schema.primaryKey,h=c.outbound,p=c.extractKey,d=t.db._options.modifyChunkSize||200,m=[],f=0,g=[];return t.clone().primaryKeys().then((function(t){function i(n){var o=Math.min(d,t.length-n);return u.getMany({trans:r,keys:t.slice(n,n+o),cache:"immutable"}).then((function(c){for(var m=[],f=[],g=h?[]:null,b=[],y=0;y<o;++y){var v=c[y],_={value:I(v),primKey:t[n+y]};!1!==a.call(_,_.value,_)&&(null==_.value?b.push(t[n+y]):h||0===ut(p(v),p(_.value))?(f.push(_.value),h&&g.push(t[n+y])):(b.push(t[n+y]),m.push(_.value)))}return Promise.resolve(0<m.length&&u.mutate({trans:r,type:"add",values:m}).then((function(e){for(var t in e.failures)b.splice(parseInt(t),1);l(m.length,e)}))).then((function(){return(0<f.length||s&&"object"==typeof e)&&u.mutate({trans:r,type:"put",keys:g,values:f,criteria:s,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<n}).then((function(e){return l(f.length,e)}))})).then((function(){return(0<b.length||s&&e===kt)&&u.mutate({trans:r,type:"delete",keys:b,criteria:s,isAdditionalChunk:0<n}).then((function(e){return l(b.length,e)}))})).then((function(){return t.length>n+o&&i(n+d)}))}))}var s=gt(n)&&n.limit===1/0&&("function"!=typeof e||e===kt)&&{index:n.index,range:n.range};return i(0).then((function(){if(0<m.length)throw new q("Error modifying one or more objects",m,f,g);return t.length}))}))}))},St.prototype.delete=function(){var e=this._ctx,t=e.range;return gt(e)&&(e.isPrimKey||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures;if(e.lastResult,e.results,e=e.numFailures)throw new q("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-e);return t-e}))}))})):this.modify(kt)},St);function St(){}var kt=function(e,t){return t.value=null};function Ct(e,t){return e<t?-1:e===t?0:1}function It(e,t){return t<e?-1:e===t?0:1}function Nt(e,t,n){return(e=e instanceof Lt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function Ot(e){return new e.Collection(e,(function(){return Pt("")})).limit(0)}function Rt(e,t,n,r){var i,s,o,a,l,u,c,h=n.length;if(!n.every((function(e){return"string"==typeof e})))return Nt(e,et);function p(e){i="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},s="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},o="next"===e?Ct:It;var t=n.map((function(e){return{lower:s(e),upper:i(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c="next"===(u=e)?"":r}p("next"),(e=new e.Collection(e,(function(){return Dt(a[0],l[h-1]+r)})))._ondirectionchange=function(e){p(e)};var d=0;return e._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var p=s(i);if(t(p,l,d))return!0;for(var m=null,f=d;f<h;++f){var g=function(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var u=t[l];if(u!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):0<=a?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],u)<0&&(a=l)}return o<r.length&&"next"===s?e+n.substr(e.length):o<e.length&&"prev"===s?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}(i,p,a[f],l[f],o,u);null===g&&null===m?d=f+1:(null===m||0<o(m,g))&&(m=g)}return n(null!==m?function(){e.continue(m+c)}:r),!1})),e}function Dt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Pt(e){return{type:1,lower:e,upper:e}}var Lt=(Object.defineProperty(Mt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Mt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Ot(this):new this.Collection(this,(function(){return Dt(e,t,!n,!r)}))}catch(e){return Nt(this,Ze)}},Mt.prototype.equals=function(e){return null==e?Nt(this,Ze):new this.Collection(this,(function(){return Pt(e)}))},Mt.prototype.above=function(e){return null==e?Nt(this,Ze):new this.Collection(this,(function(){return Dt(e,void 0,!0)}))},Mt.prototype.aboveOrEqual=function(e){return null==e?Nt(this,Ze):new this.Collection(this,(function(){return Dt(e,void 0,!1)}))},Mt.prototype.below=function(e){return null==e?Nt(this,Ze):new this.Collection(this,(function(){return Dt(void 0,e,!1,!0)}))},Mt.prototype.belowOrEqual=function(e){return null==e?Nt(this,Ze):new this.Collection(this,(function(){return Dt(void 0,e)}))},Mt.prototype.startsWith=function(e){return"string"!=typeof e?Nt(this,et):this.between(e,e+Je,!0,!0)},Mt.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Rt(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Je)},Mt.prototype.equalsIgnoreCase=function(e){return Rt(this,(function(e,t){return e===t[0]}),[e],"")},Mt.prototype.anyOfIgnoreCase=function(){var e=M.apply(L,arguments);return 0===e.length?Ot(this):Rt(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},Mt.prototype.startsWithAnyOfIgnoreCase=function(){var e=M.apply(L,arguments);return 0===e.length?Ot(this):Rt(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Je)},Mt.prototype.anyOf=function(){var e=this,t=M.apply(L,arguments),n=this._cmp;try{t.sort(n)}catch(r){return Nt(this,Ze)}if(0===t.length)return Ot(this);var r=new this.Collection(this,(function(){return Dt(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,s){for(var o=e.key;0<n(o,t[i]);)if(++i===t.length)return r(s),!1;return 0===n(o,t[i])||(r((function(){e.continue(t[i])})),!1)})),r},Mt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Mt.prototype.noneOf=function(){var e=M.apply(L,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Nt(this,Ze)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Mt.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,s=this._descending,o=this._min,a=this._max;if(0===e.length)return Ot(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return Nt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",K.InvalidArgument);var l,u=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers,h=i;function p(e,t){return h(e[0],t[0])}try{(l=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var s=e[n];if(r(t[0],s[1])<0&&0<r(t[1],s[0])){s[0]=o(s[0],t[0]),s[1]=a(s[1],t[1]);break}}return n===i&&e.push(t),e}),[])).sort(p)}catch(e){return Nt(this,Ze)}var d=0,m=c?function(e){return 0<i(e,l[d][1])}:function(e){return 0<=i(e,l[d][1])},f=u?function(e){return 0<s(e,l[d][0])}:function(e){return 0<=s(e,l[d][0])},g=m;return(e=new this.Collection(this,(function(){return Dt(l[0][0],l[l.length-1][1],!u,!c)})))._ondirectionchange=function(e){h="next"===e?(g=m,i):(g=f,s),l.sort(p)},e._addAlgorithm((function(e,t,r){for(var s,o=e.key;g(o);)if(++d===l.length)return t(r),!1;return!m(s=o)&&!f(s)||(0===n._cmp(o,l[d][1])||0===n._cmp(o,l[d][0])||t((function(){h===i?e.continue(l[d][0]):e.continue(l[d][1])})),!1)})),e},Mt.prototype.startsWithAnyOf=function(){var e=M.apply(L,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Ot(this):this.inAnyRange(e.map((function(e){return[e,e+Je]}))):Nt(this,"startsWithAnyOf() only works with strings")},Mt);function Mt(){}function Ft(e){return Pe((function(t){return jt(t),e(t.target.error),!1}))}function jt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Bt="storagemutated",Ut="x-storagemutated-1",Ht=mt(null,Bt),qt=(zt.prototype._lock=function(){return v(!ye.global),++this._reculock,1!==this._reculock||ye.global||(ye.lockOwnerFor=this),this},zt.prototype._unlock=function(){if(v(!ye.global),0==--this._reculock)for(ye.global||(ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Xe(e[1],e[0])}catch(e){}}return this},zt.prototype._locked=function(){return this._reculock&&ye.lockOwnerFor!==this},zt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(v(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new K.DatabaseClosed(r);case"MissingAPIError":throw new K.MissingAPI(r.message,r);default:throw new K.OpenFailed(r)}if(!this.active)throw new K.TransactionInactive;return v(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe((function(n){jt(n),t._reject(e.error)})),e.onabort=Pe((function(n){jt(n),t.active&&t._reject(new K.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Pe((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Ht.storagemutated.fire(e.mutatedParts)})),this},zt.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return $e(new K.ReadOnly("Transaction is readonly"));if(!this.active)return $e(new K.TransactionInactive);if(this._locked())return new Te((function(i,s){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,s)},ye])}));if(n)return He((function(){var e=new Te((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Te((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},zt.prototype._root=function(){return this.parent?this.parent._root():this},zt.prototype.waitFor=function(e){var t,n=this._root(),r=Te.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then((function(){return r})):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=n._waitingFor;return new Te((function(e,t){r.then((function(t){return n._waitingQueue.push(Pe(e.bind(null,t)))}),(function(e){return n._waitingQueue.push(Pe(t.bind(null,e)))})).finally((function(){n._waitingFor===i&&(n._waitingFor=null)}))}))},zt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new K.Abort))},zt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new K.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},zt);function zt(){}function Vt(e,t,n,r,i,s,o){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+Gt(t)}}function Gt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Kt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce((function(e,t,n){return(n=r(t,n))&&(e[n[0]]=n[1]),e}),{}))};var r}var Wt=function(e){try{return e.only([[]]),Wt=function(){return[[]]},[[]]}catch(e){return Wt=function(){return Je},Je}};function Xt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return E(e,t)}:function(t){return E(t,e)};var t}function Yt(e){return[].slice.call(e)}var Qt=0;function $t(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Jt(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!e)}function i(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,i=e.type,s=e.keys,o=e.values,a=e.range;return new Promise((function(e,l){e=Pe(e);var u=t.objectStore(n),c=null==u.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var p,d=(s||o||{length:1}).length;if(s&&o&&s.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function m(e){++b,jt(e)}var f=[],g=[],b=0;if("deleteRange"===i){if(4===a.type)return e({numFailures:b,failures:g,results:[],lastResult:void 0});3===a.type?f.push(p=u.clear()):f.push(p=u.delete(r(a)))}else{var y=(c=h?c?[o,s]:[o,null]:[s,null])[0],v=c[1];if(h)for(var _=0;_<d;++_)f.push(p=v&&void 0!==v[_]?u[i](y[_],v[_]):u[i](y[_])),p.onerror=m;else for(_=0;_<d;++_)f.push(p=u[i](y[_])),p.onerror=m}function E(t){t=t.target.result,f.forEach((function(e,t){return null!=e.error&&(g[t]=e.error)})),e({numFailures:b,failures:g,results:"delete"===i?s:f.map((function(e){return e.result})),lastResult:t})}p.onerror=function(e){m(e),E(e)},p.onsuccess=E}))},getMany:function(e){var t=e.trans,r=e.keys;return new Promise((function(e,i){e=Pe(e);for(var s,o=t.objectStore(n),a=r.length,l=new Array(a),u=0,c=0,h=function(t){t=t.target,l[t._pos]=t.result,++c===u&&e(l)},p=Ft(i),d=0;d<a;++d)null!=r[d]&&((s=o.get(r[d]))._pos=d,s.onsuccess=h,s.onerror=p,++u);0===u&&e(l)}))},get:function(e){var t=e.trans,r=e.key;return new Promise((function(e,i){e=Pe(e);var s=t.objectStore(n).get(r);s.onsuccess=function(t){return e(t.target.result)},s.onerror=Ft(i)}))},query:(t=c,function(e){return new Promise((function(i,s){i=Pe(i);var o,a,l,u=e.trans,c=e.values,h=e.limit,p=e.query,d=h===1/0?void 0:h,m=p.index;if(p=p.range,u=u.objectStore(n),m=m.isPrimaryKey?u:u.index(m.name),p=r(p),0===h)return i({result:[]});t?((d=c?m.getAll(p,d):m.getAllKeys(p,d)).onsuccess=function(e){return i({result:e.target.result})},d.onerror=Ft(s)):(o=0,a=!c&&"openKeyCursor"in m?m.openKeyCursor(p):m.openCursor(p),l=[],a.onsuccess=function(e){var t=a.result;return t?(l.push(c?t.value:t.primaryKey),++o===h?i({result:l}):void t.continue()):i({result:l})},a.onerror=Ft(s))}))}),openCursor:function(e){var t=e.trans,i=e.values,s=e.query,o=e.reverse,a=e.unique;return new Promise((function(e,l){e=Pe(e);var u=s.index,c=s.range,h=t.objectStore(n),p=(h=u.isPrimaryKey?h:h.index(u.name),u=o?a?"prevunique":"prev":a?"nextunique":"next",!i&&"openKeyCursor"in h?h.openKeyCursor(r(c),u):h.openCursor(r(c),u));p.onerror=Ft(l),p.onsuccess=Pe((function(n){var r,i,s,o,a=p.result;a?(a.___id=++Qt,a.done=!1,r=a.continue.bind(a),i=(i=a.continuePrimaryKey)&&i.bind(a),s=a.advance.bind(a),o=function(){throw new Error("Cursor not stopped")},a.trans=t,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw new Error("Cursor not started")},a.fail=Pe(l),a.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},a.start=function(e){function t(){if(p.result)try{e()}catch(e){a.fail(e)}else a.done=!0,a.start=function(){throw new Error("Cursor behind last entry")},a.stop()}var n=new Promise((function(e,t){e=Pe(e),p.onerror=Ft(t),a.fail=t,a.stop=function(t){a.stop=a.continue=a.continuePrimaryKey=a.advance=o,e(t)}}));return p.onsuccess=Pe((function(e){p.onsuccess=t,t()})),a.continue=r,a.continuePrimaryKey=i,a.advance=s,t(),n},e(a)):e(null)}),l)}))},count:function(e){var t=e.query,i=e.trans,s=t.index,o=t.range;return new Promise((function(e,t){var a=i.objectStore(n),l=s.isPrimaryKey?a:a.index(s.name);(l=(a=r(o))?l.count(a):l.count()).onsuccess=Pe((function(t){return e(t.target.result)})),l.onerror=Ft(t)}))}}}var s,a,l,u=(a=n,l=Yt((s=e).objectStoreNames),{schema:{name:s.name,tables:l.map((function(e){return a.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=o(t),i={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Xt(t)},indexes:Yt(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry;return e=e.keyPath,r={name:t,compound:o(e),keyPath:e,unique:n,multiEntry:r,extractKey:Xt(e)},i[$t(e)]=r})),getIndexByKeyPath:function(e){return i[$t(e)]}},i[":id"]=n.primaryKey,null!=t&&(i[$t(t)]=n.primaryKey),n}))},hasGetAll:0<l.length&&"getAll"in a.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),c=(n=u.schema,u.hasGetAll),h=(u=n.tables.map(i),{});return u.forEach((function(e){return h[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!h[e])throw new Error("Table '".concat(e,"' not found"));return h[e]},MIN_KEY:-1/0,MAX_KEY:Wt(t),schema:n}}function Zt(e,n,r,i){var s=r.IDBKeyRange;return r.indexedDB,{dbcore:(i=Jt(n,s,i),e.dbcore.reduce((function(e,n){return n=n.create,t(t({},e),n(e))}),i))}}function en(e,t){var n=t.db;t=Zt(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function tn(e,t,n,r){n.forEach((function(n){var i=r[n];t.forEach((function(t){var r=function e(t,n){return f(t,n)||(t=l(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?d(t,n,{get:function(){return this.table(n)},set:function(e){p(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function nn(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function rn(e,t){return e._cfg.version-t._cfg.version}function sn(e,t,n,r){var i=e._dbSchema;n.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=Kt("$meta",dn("")[0],[]),e._storeNames.push("$meta"));var o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),l=ye.transless||ye;He((function(){return ye.trans=o,ye.transless=l,0!==t?(en(e,n),u=t,((r=o).storeNames.includes("$meta")?r.table("$meta").get("version").then((function(e){return null!=e?e:u})):Te.resolve(u)).then((function(t){return i=t,a=o,l=n,u=[],t=(r=e)._versions,c=r._dbSchema=hn(0,r.idbdb,l),0!==(t=t.filter((function(e){return e._cfg.version>=i}))).length?(t.forEach((function(e){u.push((function(){var t=c,n=e._cfg.dbschema;pn(r,t,l),pn(r,n,l),c=r._dbSchema=n;var o=an(t,n);o.add.forEach((function(e){ln(l,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new K.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach((function(e){return cn(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),cn(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var u=e._cfg.contentUpgrade;if(u&&e._cfg.version>i){en(r,l),a._memoizedTables={};var h=x(n);o.del.forEach((function(e){h[e]=t[e]})),nn(r,[r.Transaction.prototype]),tn(r,[r.Transaction.prototype],s(h),h),a.schema=h;var p,d=F(u);return d&&qe(),o=Te.follow((function(){var e;(p=u(a))&&d&&(e=ze.bind(null,null),p.then(e,e))})),p&&"function"==typeof p.then?Te.resolve(p):o.then((function(){return p}))}})),u.push((function(t){var n,i,s=e._cfg.dbschema;n=s,i=t,[].slice.call(i.db.objectStoreNames).forEach((function(e){return null==n[e]&&i.db.deleteObjectStore(e)})),nn(r,[r.Transaction.prototype]),tn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),a.schema=r._dbSchema})),u.push((function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter((function(e){return"$meta"!==e}))):t.objectStore("$meta").put(e._cfg.version,"version"))}))})),function e(){return u.length?Te.resolve(u.shift()(a.idbtrans)).then(e):Te.resolve()}().then((function(){un(c,l)}))):Te.resolve();var r,i,a,l,u,c})).catch(a)):(s(i).forEach((function(e){ln(n,e,i[e].primKey,i[e].indexes)})),en(e,n),void Te.follow((function(){return e.on.populate.fire(o)})).catch(a));var r,u}))}function on(e,t){un(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=hn(0,e.idbdb,t);pn(e,e._dbSchema,t);for(var r=0,i=an(n,e._dbSchema).change;r<i.length;r++){var s=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=t.objectStore(e.name);e.add.forEach((function(t){ie&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),cn(n,t)}))}(i[r]);if("object"==typeof s)return s.value}}function an(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],s=t[n];if(i){var o={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto)o.recreate=!0,r.change.push(o);else{var a=i.idxByName,l=s.idxByName,u=void 0;for(u in a)l[u]||o.del.push(u);for(u in l){var c=a[u],h=l[u];c?c.src!==h.src&&o.change.push(h):o.add.push(h)}(0<o.del.length||0<o.add.length||0<o.change.length)&&r.change.push(o)}}else r.add.push([n,s])}return r}function ln(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return cn(i,e)})),i}function un(e,t){s(e).forEach((function(n){t.db.objectStoreNames.contains(n)||(ie&&console.debug("Dexie: Creating missing table",n),ln(t,n,e[n].primKey,e[n].indexes))}))}function cn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function hn(e,t,n){var r={};return b(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=Vt(Gt(a=t.keyPath),a||"",!0,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),s=[],o=0;o<t.indexNames.length;++o){var a=(l=t.index(t.indexNames[o])).keyPath,l=Vt(l.name,a,!!l.unique,!!l.multiEntry,!1,a&&"string"!=typeof a,!1);s.push(l)}r[e]=Kt(e,i,s)})),r}function pn(e,t,n){for(var r=n.db.objectStoreNames,s=0;s<r.length;++s){var o=r[s],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var u=a.indexNames[l],c=a.index(u).keyPath,h="string"==typeof c?c:"["+b(c).join("+")+"]";!t[o]||(c=t[o].idxByName[h])&&(c.name=u,delete t[o].idxByName[h],t[o].idxByName[u]=c)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function dn(e){return e.split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Vt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),0===t)}))}var mn=(fn.prototype._parseStoresSpec=function(e,t){s(e).forEach((function(n){if(null!==e[n]){var r=dn(e[n]),i=r.shift();if(i.unique=!0,i.multi)throw new K.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new K.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new K.Schema("Index must have a name and cannot be an empty string")})),t[n]=Kt(n,i,r)}}))},fn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e,e=t._versions;var n={},r={};return e.forEach((function(e){a(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)})),t._dbSchema=r,nn(t,[t._allTables,t,t.Transaction.prototype]),tn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],s(r),r),t._storeNames=s(r),this},fn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=re(this._cfg.contentUpgrade||Y,e),this},fn);function fn(){}function gn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new tr(nt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function bn(e){return e&&"function"==typeof e.databases}function yn(e){return He((function(){return ye.letThrough=!0,e()}))}function vn(e){return!("from"in e)}var _n=function(e,t){if(!this){var n=new _n;return e&&"d"in e&&a(n,e),n}a(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function En(e,t,n){var r=ut(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(vn(e))return a(e,{from:t,to:n,d:1});var i=e.l;if(r=e.r,ut(n,e.from)<0)return i?En(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},An(e);if(0<ut(t,e.to))return r?En(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},An(e);ut(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<ut(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&Tn(e,i),r&&n&&Tn(e,r)}}function Tn(e,t){vn(t)||function e(t,n){var r=n.from,i=n.to,s=n.l;n=n.r,En(t,r,i),s&&e(t,s),n&&e(t,n)}(e,t)}function xn(e,t){var n=wn(t),r=n.next();if(r.done)return!1;for(var i=r.value,s=wn(e),o=s.next(i.from),a=o.value;!r.done&&!o.done;){if(ut(a.from,i.to)<=0&&0<=ut(a.to,i.from))return!0;ut(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function wn(e){var t=vn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&ut(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||ut(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function An(e){var n,r,i=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),s=1<i?"r":i<-1?"l":"";s&&(n="r"==s?"l":"r",r=t({},e),i=e[s],e.from=i.from,e.to=i.to,e[s]=i[s],r[s]=i[n],(e[n]=r).d=Sn(r)),e.d=Sn(e)}function Sn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function kn(e,t){return s(t).forEach((function(n){e[n]?Tn(e[n],t[n]):e[n]=function e(t){var n,r,i={};for(n in t)c(t,n)&&(r=t[n],i[n]=!r||"object"!=typeof r||k.has(r.constructor)?r:e(r));return i}(t[n])})),e}function Cn(e,t){return e.all||t.all||Object.keys(e).some((function(n){return t[n]&&xn(t[n],e[n])}))}h(_n.prototype,((j={add:function(e){return Tn(this,e),this},addKey:function(e){return En(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return En(t,e,e)})),this}})[R]=function(){return wn(this)},j));var In={},Nn={},On=!1;function Rn(e){kn(Nn,e),On||(On=!0,setTimeout((function(){On=!1,Dn(Nn,!(Nn={}))}),0))}function Dn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(In);r<i.length;r++)Pn(o=i[r],e,n,t);else for(var s in e){var o,a=/^idb\:\/\/(.*)\/(.*)\//.exec(s);a&&(s=a[1],a=a[2],(o=In["idb://".concat(s,"/").concat(a)])&&Pn(o,e,n,t))}n.forEach((function(e){return e()}))}function Pn(e,t,n,r){for(var i=[],s=0,o=Object.entries(e.queries.query);s<o.length;s++){for(var a=o[s],l=a[0],u=[],c=0,h=a[1];c<h.length;c++){var p=h[c];Cn(t,p.obsSet)?p.subscribers.forEach((function(e){return n.add(e)})):r&&u.push(p)}r&&i.push([l,u])}if(r)for(var d=0,m=i;d<m.length;d++){var f=m[d];l=f[0],u=f[1],e.queries.query[l]=u}}function Ln(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?$e(t.dbOpenError):e}));t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,i=Math.round(10*e.verno),o=!1;function a(){if(t.openCanceller!==r)throw new K.DatabaseClosed("db.open() was cancelled")}function l(){return new Te((function(r,u){if(a(),!n)throw new K.MissingAPI;var c=e.name,d=t.autoSchema||!i?n.open(c):n.open(c,i);if(!d)throw new K.MissingAPI;d.onerror=Ft(u),d.onblocked=Pe(e._fireOnBlocked),d.onupgradeneeded=Pe((function(r){var i;h=d.transaction,t.autoSchema&&!e._options.allowEmptyDB?(d.onerror=jt,h.abort(),d.result.close(),(i=n.deleteDatabase(c)).onsuccess=i.onerror=Pe((function(){u(new K.NoSuchDatabase("Database ".concat(c," doesnt exist")))}))):(h.onerror=Ft(u),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,p=r<1,e.idbdb=d.result,o&&on(e,h),sn(e,r/10,h,u))}),u),d.onsuccess=Pe((function(){h=null;var n,a,u,m,f,g=e.idbdb=d.result,y=b(g.objectStoreNames);if(0<y.length)try{var v=g.transaction(1===(m=y).length?m[0]:m,"readonly");if(t.autoSchema)a=g,u=v,(n=e).verno=a.version/10,u=n._dbSchema=hn(0,a,u),n._storeNames=b(a.objectStoreNames,0),tn(n,[n._allTables],s(u),u);else if(pn(e,e._dbSchema,v),((f=an(hn(0,(f=e).idbdb,v),f._dbSchema)).add.length||f.change.some((function(e){return e.add.length||e.change.length})))&&!o)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),g.close(),i=g.version+1,o=!0,r(l());en(e,v)}catch(n){}tt.push(e),g.onversionchange=Pe((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),g.onclose=Pe((function(t){e.on("close").fire(t)})),p&&(f=e._deps,v=c,g=f.indexedDB,f=f.IDBKeyRange,bn(g)||v===nt||gn(g,f).put({name:v}).catch(Y)),r()}),u)})).catch((function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l();break;case"VersionError":if(0<i)return i=0,l()}return Te.reject(e)}))}var u,c=t.dbReadyResolve,h=null,p=!1;return Te.race([r,("undefined"==typeof navigator?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){function t(){return indexedDB.databases().finally(e)}u=setInterval(t,100),t()})).finally((function(){return clearInterval(u)})):Promise.resolve()).then(l)]).then((function(){return a(),t.onReadyBeingFired=[],Te.resolve(yn((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(re,Y);return t.onReadyBeingFired=[],Te.resolve(yn((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)})).catch((function(n){t.dbOpenError=n;try{h&&h.abort()}catch(n){}return r===t.openCanceller&&e._close(),$e(n)})).finally((function(){t.openComplete=!0,c()})).then((function(){var t;return p&&(t={},e.tables.forEach((function(n){n.schema.indexes.forEach((function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new _n(-1/0,[[[]]]))})),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new _n(-1/0,[[[]]])})),Ht(Bt).fire(t),Dn(t,!0)),e}))}function Mn(e){function t(t){return e.next(t)}var n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t);return t=i.value,i.done?t:t&&"function"==typeof t.then?t.then(n,r):o(t)?Promise.all(t).then(n,r):n(t)}}return i(t)()}function Fn(e,t,n){for(var r=o(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var jn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),i=r.schema,s={},o=[];function a(e,n,r){var i=$t(e),l=s[i]=s[i]||[],u=null==e?0:"string"==typeof e?1:e.length,c=0<n;return c=t(t({},r),{name:c?"".concat(i,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:c,keyTail:n,keyLength:u,extractKey:Xt(e),unique:!c&&r.unique}),l.push(c),c.isPrimaryKey||o.push(c),1<u&&a(2===u?e[0]:e.slice(0,u-1),n+1,r),l.sort((function(e,t){return e.keyTail-t.keyTail})),c}n=a(i.primaryKey.keyPath,0,i.primaryKey),s[":id"]=[n];for(var l=0,u=i.indexes;l<u.length;l++){var c=u[l];a(c.keyPath,0,c)}function h(n){var r,i=n.query.index;return i.isVirtual?t(t({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:1===r.type?2:r.type,lower:Fn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Fn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},i),{primaryKey:n,indexes:o,getIndexByKeyPath:function(e){return(e=s[$t(e)])&&e[0]}}),count:function(e){return r.count(h(e))},query:function(e){return r.query(h(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,s=n.isVirtual,o=n.keyLength;return s?r.openCursor(h(t)).then((function(e){return e&&a(e)})):r.openCursor(t);function a(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Fn(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Fn(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:function(){return n.value}}})}}})}})}};function Bn(e,t,n,r){return n=n||{},r=r||"",s(e).forEach((function(i){var s,o,a;c(t,i)?(s=e[i],o=t[i],"object"==typeof s&&"object"==typeof o&&s&&o?(a=O(s))!==O(o)?n[r+i]=t[i]:"Object"===a?Bn(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i]):s!==o&&(n[r+i]=t[i])):n[r+i]=void 0})),s(t).forEach((function(i){c(e,i)||(n[r+i]=t[i])})),n}function Un(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Hn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(n){var i=e.table(n),s=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var o=ye.trans,a=o.table(n).hook,l=a.deleting,u=a.creating,h=a.updating;switch(e.type){case"add":if(u.fire===Y)break;return o._promise("readwrite",(function(){return p(e)}),!0);case"put":if(u.fire===Y&&h.fire===Y)break;return o._promise("readwrite",(function(){return p(e)}),!0);case"delete":if(l.fire===Y)break;return o._promise("readwrite",(function(){return p(e)}),!0);case"deleteRange":if(l.fire===Y)break;return o._promise("readwrite",(function(){return function e(n,r,o){return i.query({trans:n,values:!1,query:{index:s,range:r},limit:o}).then((function(i){var s=i.result;return p({type:"delete",keys:s,trans:n}).then((function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):s.length<o?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:s[s.length-1],lowerOpen:!0}),o)}))}))}(e.trans,e.range,1e4)}),!0)}return i.mutate(e);function p(e){var n,o,a,p=ye.trans,d=e.keys||Un(s,e);if(!d)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:d}):t({},e)).type&&(e.values=r([],e.values,!0)),e.keys&&(e.keys=r([],e.keys,!0)),n=i,a=d,("add"===(o=e).type?Promise.resolve([]):n.getMany({trans:o.trans,keys:a,cache:"immutable"})).then((function(t){var n=d.map((function(n,r){var i,o,a,d=t[r],m={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(m,n,d,p):"add"===e.type||void 0===d?(i=u.fire.call(m,n,e.values[r],p),null==n&&null!=i&&(e.keys[r]=n=i,s.outbound||T(e.values[r],s.keyPath,n))):(i=Bn(d,e.values[r]),(o=h.fire.call(m,i,n,d,p))&&(a=e.values[r],Object.keys(o).forEach((function(e){c(a,e)?a[e]=o[e]:T(a,e,o[e])})))),m}));return i.mutate(e).then((function(r){for(var i=r.failures,s=r.results,o=r.numFailures,a=(r=r.lastResult,0);a<d.length;++a){var l=(s||d)[a],u=n[a];null==l?u.onerror&&u.onerror(i[a]):u.onsuccess&&u.onsuccess("put"===e.type&&t[a]?e.values[a]:l)}return{failures:i,results:s,numFailures:o,lastResult:r}})).catch((function(e){return n.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}};function qn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,s=0;i<t.keys.length&&s<e.length;++i)0===ut(t.keys[i],e[s])&&(r.push(n?I(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch(e){return null}}var zn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=qn(e.keys,e.trans._cache,"clone"===e.cache);return t?Te.resolve(t):r.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?I(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function Vn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Gn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Kn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new _n(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(ye.subscr&&"readonly"!==n)throw new K.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ye.querier));return e.transaction(t,n,r)},table:function(i){var a=e.table(i),l=a.schema,u=l.primaryKey,c=l.indexes,h=u.extractKey,p=u.outbound,d=u.autoIncrement&&c.filter((function(e){return e.compound&&e.keyPath.includes(u.keyPath)})),m=t(t({},a),{mutate:function(e){function t(e){return e="idb://".concat(n,"/").concat(i,"/").concat(e),m[e]||(m[e]=new _n)}var s,c,h,p=e.trans,m=e.mutatedParts||(e.mutatedParts={}),f=t(""),g=t(":dels"),b=e.type,y="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[Un(u,e).filter((function(e){return e})),e.values]:[],v=y[0],_=y[1];return y=e.trans._cache,o(v)?(f.addKeys(v),(y="delete"===b||v.length===_.length?qn(v,y):null)||g.addKeys(v),(y||_)&&(s=t,c=y,h=_,l.indexes.forEach((function(e){var t=s(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&o(n)?n.forEach((function(e){return t.addKey(e)})):t.addKey(n)}(c||h).forEach((function(e,t){var i=c&&n(c[t]);0!==ut(i,t=h&&n(h[t]))&&(null!=i&&r(i),null!=t&&r(t))}))})))):v?(_={from:v.lower,to:v.upper},g.add(_),f.add(_)):(f.add(r),g.add(r),l.indexes.forEach((function(e){return t(e.name).add(r)}))),a.mutate(e).then((function(n){return!v||"add"!==e.type&&"put"!==e.type||(f.addKeys(n.results),d&&d.forEach((function(r){var i=e.values.map((function(e){return r.extractKey(e)})),s=r.keyPath.findIndex((function(e){return e===u.keyPath}));n.results.forEach((function(e){return i[s]=e})),t(r.name).addKeys(i)}))),p.mutatedParts=kn(p.mutatedParts||{},m),n}))}}),f=(c=function(t){t=(n=t.query).index;var n=n.range;return[t,new _n(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},{get:function(e){return[u,new _n(e.key)]},getMany:function(e){return[u,(new _n).addKeys(e.keys)]},count:c,query:c,openCursor:c});return s(f).forEach((function(e){m[e]=function(s){var o=!!(m=ye.subscr),l=Vn(ye,a)&&Gn(e,s)?s.obsSet={}:m;if(o){var u=function(e){return e="idb://".concat(n,"/").concat(i,"/").concat(e),l[e]||(l[e]=new _n)},c=u(""),d=u(":dels"),m=(o=(m=f[e](s))[0],m[1]);if(("query"===e&&o.isPrimaryKey&&!s.values?d:u(o.name||"")).add(m),!o.isPrimaryKey){if("count"!==e){var g="query"===e&&p&&s.values&&a.query(t(t({},s),{values:!1}));return a[e].apply(this,arguments).then((function(t){if("query"===e){if(p&&s.values)return g.then((function(e){return e=e.result,c.addKeys(e),t}));var n=s.values?t.result.map(h):t.result;(s.values?c:d).addKeys(n)}else if("openCursor"===e){var r=t,i=s.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return d.addKey(e),e}},value:{get:function(){return i&&c.addKey(r.primaryKey),r.value}}})}return t}))}d.add(r)}}return a[e].apply(this,arguments)}})),m}})}};function Wn(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var i=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===i?null:(n=t({},n),o(n.keys)&&(n.keys=n.keys.filter((function(e,t){return!(t in r.failures)}))),"values"in n&&o(n.values)&&(n.values=n.values.filter((function(e,t){return!(t in r.failures)}))),n)}function Xn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<ut(n,r.lower):0<=ut(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?ut(e,t.upper)<0:ut(e,t.upper)<=0));var n,r}function Yn(e,t,n,r,i,s){if(!n||0===n.length)return e;var a=t.query.index,l=a.multiEntry,u=t.query.range,c=r.schema.primaryKey.extractKey,h=a.extractKey,p=(a.lowLevelIndex||a).extractKey;return n=n.reduce((function(e,n){var r=e,i="add"===n.type||"put"===n.type?n.values.filter((function(e){return e=h(e),l&&o(e)?e.some((function(e){return Xn(e,u)})):Xn(e,u)})).map((function(e){return e=I(e),s&&Object.freeze(e),e})):[];switch(n.type){case"add":r=e.concat(t.values?i:i.map((function(e){return c(e)})));break;case"put":var a=(new _n).addKeys(n.values.map((function(e){return c(e)})));r=e.filter((function(e){return e=t.values?c(e):e,!xn(new _n(e),a)})).concat(t.values?i:i.map((function(e){return c(e)})));break;case"delete":var p=(new _n).addKeys(n.keys);r=e.filter((function(e){return e=t.values?c(e):e,!xn(new _n(e),p)}));break;case"deleteRange":var d=n.range;r=e.filter((function(e){return!Xn(c(e),d)}))}return r}),e),n===e?e:(n.sort((function(e,t){return ut(p(e),p(t))||ut(c(e),c(t))})),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(i.dirty=!0)),s?Object.freeze(n):n)}function Qn(e,t){return 0===ut(e.lower,t.lower)&&0===ut(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function $n(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=ut(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=ut(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Jn(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",(function(){var r,i;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,i=t,setTimeout((function(){0===r.subscribers.size&&P(i,r)}),3e3))}))}var Zn={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,i){var s,o,a=e.transaction(t,r,i);return"readwrite"===r&&(o=(s=new AbortController).signal,i=function(i){return function(){if(s.abort(),"readwrite"===r){for(var o=new Set,l=0,u=t;l<u.length;l++){var c=u[l],h=In["idb://".concat(n,"/").concat(c)];if(h){var p=e.table(c),d=h.optimisticOps.filter((function(e){return e.trans===a}));if(a._explicit&&i&&a.mutatedParts)for(var m=0,f=Object.values(h.queries.query);m<f.length;m++)for(var g=0,b=(_=f[m]).slice();g<b.length;g++)Cn((E=b[g]).obsSet,a.mutatedParts)&&(P(_,E),E.subscribers.forEach((function(e){return o.add(e)})));else if(0<d.length){h.optimisticOps=h.optimisticOps.filter((function(e){return e.trans!==a}));for(var y=0,v=Object.values(h.queries.query);y<v.length;y++)for(var _,E,T,x=0,w=(_=v[y]).slice();x<w.length;x++)null!=(E=w[x]).res&&a.mutatedParts&&(i&&!E.dirty?(T=Object.isFrozen(E.res),T=Yn(E.res,E.req,d,p,E,T),E.dirty?(P(_,E),E.subscribers.forEach((function(e){return o.add(e)}))):T!==E.res&&(E.res=T,E.promise=Te.resolve({result:T}))):(E.dirty&&P(_,E),E.subscribers.forEach((function(e){return o.add(e)}))))}}}o.forEach((function(e){return e()}))}}},a.addEventListener("abort",i(!1),{signal:o}),a.addEventListener("error",i(!1),{signal:o}),a.addEventListener("complete",i(!0),{signal:o})),a},table:function(r){var i=e.table(r),s=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var o=ye.trans;if(s.outbound||"disabled"===o.db._options.cache||o.explicit)return i.mutate(e);var a=In["idb://".concat(n,"/").concat(r)];return a?(o=i.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||Un(s,e).some((function(e){return null==e})))?(a.optimisticOps.push(e),e.mutatedParts&&Rn(e.mutatedParts),o.then((function(t){0<t.numFailures&&(P(a.optimisticOps,e),(t=Wn(0,e,t))&&a.optimisticOps.push(t),e.mutatedParts&&Rn(e.mutatedParts))})),o.catch((function(){P(a.optimisticOps,e),e.mutatedParts&&Rn(e.mutatedParts)}))):o.then((function(n){var r=Wn(0,t(t({},e),{values:e.values.map((function(e,r){var i;return T(e=null!==(i=s.keyPath)&&void 0!==i&&i.includes(".")?I(e):t({},e),s.keyPath,n.results[r]),e}))}),n);a.optimisticOps.push(r),queueMicrotask((function(){return e.mutatedParts&&Rn(e.mutatedParts)}))})),o):i.mutate(e)},query:function(e){if(!Vn(ye,i)||!Gn("query",e))return i.query(e);var t="immutable"===(null===(a=ye.trans)||void 0===a?void 0:a.db._options.cache),s=(u=ye).requery,o=u.signal,a=function(e,t,n,r){var i=In["idb://".concat(e,"/").concat(t)];if(!i)return[];if(!(t=i.queries[n]))return[null,!1,i,null];var s=t[(r.query?r.query.index.name:null)||""];if(!s)return[null,!1,i,null];switch(n){case"query":var o=s.find((function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Qn(e.req.query.range,r.query.range)}));return o?[o,!0,i,s]:[s.find((function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&$n(e.req.query.range,r.query.range)})),!1,i,s];case"count":return o=s.find((function(e){return Qn(e.req.query.range,r.query.range)})),[o,!!o,i,s]}}(n,r,"query",e),l=a[0],u=a[1],c=a[2],h=a[3];return l&&u?l.obsSet=e.obsSet:(u=i.query(e).then((function(e){var n=e.result;if(l&&(l.res=n),t){for(var r=0,i=n.length;r<i;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=I(n);return e})).catch((function(e){return h&&l&&P(h,l),Promise.reject(e)})),l={obsSet:e.obsSet,promise:u,subscribers:new Set,type:"query",req:e,dirty:!1},h?h.push(l):(h=[l],(c=c||(In["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=h)),Jn(l,h,s,o),l.promise.then((function(n){return{result:Yn(n.result,e,null==c?void 0:c.optimisticOps,i,l,t)}}))}})}})}};function er(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var tr=(nr.prototype.version=function(e){if(isNaN(e)||e<.1)throw new K.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new K.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(rn),n.stores({}),this._state.autoSchema=!1,n)},nr.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ye.letThrough||this._vip)?e():new Te((function(e,n){if(t._state.openComplete)return n(new K.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new K.DatabaseClosed);t.open().catch(Y)}t._state.dbReadyPromise.then(e,n)})).then(e)},nr.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:i}),e.sort((function(e,t){return e.level-t.level})),this},nr.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},nr.prototype.open=function(){var e=this;return Xe(be,(function(){return Ln(e)}))},nr.prototype._close=function(){var e=this._state,t=tt.indexOf(this);if(0<=t&&tt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new Te((function(t){e.dbReadyResolve=t})),e.openCanceller=new Te((function(t,n){e.cancelOpen=n})))},nr.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new K.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new K.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},nr.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new Te((function(i,s){function o(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Pe((function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,bn(r)||n===nt||gn(r,e).delete(n).catch(Y),i()})),n.onerror=Ft(s),n.onblocked=t._fireOnBlocked}if(n)throw new K.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()}))},nr.prototype.backendDB=function(){return this.idbdb},nr.prototype.isOpen=function(){return null!==this.idbdb},nr.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},nr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},nr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nr.prototype,"tables",{get:function(){var e=this;return s(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),nr.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new K.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,A(i),n]}.apply(this,arguments);return this._transaction.apply(this,e)},nr.prototype._transaction=function(e,t,n){var r=this,i=ye.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var s,o,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(o=t.map((function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==e||e===rt)s=rt;else{if("rw"!=e&&e!=it)throw new K.InvalidArgument("Invalid transaction mode: "+e);s=it}if(i){if(i.mode===rt&&s===it){if(!a)throw new K.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!a)throw new K.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),a&&i&&!i.active&&(i=null)}}catch(n){return i?i._promise(null,(function(e,t){t(n)})):$e(n)}var l=function e(t,n,r,i,s){return Te.resolve().then((function(){var o=ye.transless||ye,a=t._createTransaction(n,r,t._dbSchema,i);if(a.explicit=!0,o={trans:a,transless:o},i)a.idbtrans=i.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(o){return o.name===V.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then((function(){return e(t,n,r,null,s)}))):$e(o)}var l,u=F(s);return u&&qe(),o=Te.follow((function(){var e;(l=s.call(a,a))&&(u?(e=ze.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Mn(l)))}),o),(l&&"function"==typeof l.then?Te.resolve(l).then((function(e){return a.active?e:$e(new K.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):o.then((function(){return l}))).then((function(e){return i&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),$e(e)}))}))}.bind(null,this,s,o,i,n);return i?i._promise(s,l,"lock"):ye.trans?Xe(ye.transless,(function(){return r._whenReady(l)})):this._whenReady(l)},nr.prototype.table=function(e){if(!c(this._allTables,e))throw new K.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},nr);function nr(e,n){var r=this;this._middlewares={},this.verno=0;var i=nr.dependencies;this._options=n=t({addons:nr.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s,o,a,l,u,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Y,dbReadyPromise:null,cancelOpen:Y,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};c.dbReadyPromise=new Te((function(e){c.dbReadyResolve=e})),c.openCanceller=new Te((function(e,t){c.cancelOpen=t})),this._state=c,this.name=e,this.on=mt(this,"populate","blocked","versionchange","close",{ready:[re,Y]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(function(e){return function(t,n){nr.vip((function(){var i,s=r._state;s.openComplete?(s.dbOpenError||Te.resolve().then(t),n&&e(t)):s.onReadyBeingFired?(s.onReadyBeingFired.push(t),n&&e(t)):(e(t),i=r,n||e((function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)})))}))}})),this.Collection=(s=this,ft(At.prototype,(function(e,t){this.db=s;var n=ot,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx;e=(t=i.table).hook.reading.fire,this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:e!==Q?e:null}}))),this.Table=(o=this,ft(pt.prototype,(function(e,t,n){this.db=o,this._tx=n,this.name=e,this.schema=t,this.hook=o._allTables[e]?o._allTables[e].hook:mt(null,{creating:[Z,Y],reading:[$,Q],updating:[te,Y],deleting:[ee,Y]})}))),this.Transaction=(a=this,ft(qt.prototype,(function(e,t,n,r,i){var s=this;this.db=a,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=mt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te((function(e,t){s._resolve=e,s._reject=t})),this._completion.then((function(){s.active=!1,s.on.complete.fire()}),(function(e){var t=s.active;return s.active=!1,s.on.error.fire(e),s.parent?s.parent._reject(e):t&&s.idbtrans&&s.idbtrans.abort(),$e(e)}))}))),this.Version=(l=this,ft(mn.prototype,(function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(u=this,ft(Lt.prototype,(function(e,t,n){if(this.db=u,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=ut,this._descending=function(e,t){return ut(t,e)},this._max=function(e,t){return 0<ut(e,t)?e:t},this._min=function(e,t){return ut(e,t)<0?e:t},this._IDBKeyRange=u._deps.IDBKeyRange,!this._IDBKeyRange)throw new K.MissingAPI}))),this.on("versionchange",(function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=Wt(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),tt.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(zn),this.use(Zn),this.use(Kn),this.use(jn),this.use(Hn);var h=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return er(r.table(e),h)};var i=Reflect.get(e,t,n);return i instanceof pt?er(i,h):"tables"===t?i.map((function(e){return er(e,h)})):"_createTransaction"===t?function(){return er(i.apply(this,arguments),h)}:i}});this.vip=h,i.forEach((function(e){return e(r)}))}j="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var rr,ir=(sr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},sr.prototype[j]=function(){return this},sr);function sr(e){this._subscribe=e}try{rr={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(S){rr={indexedDB:null,IDBKeyRange:null}}function or(e){var t,n=!1,r=new ir((function(r){var i,s=F(e),o=!1,a={},l={},u={get closed(){return o},unsubscribe:function(){o||(o=!0,i&&i.abort(),h&&Ht.storagemutated.unsubscribe(d))}};r.start&&r.start(u);var h=!1,p=function(){return Qe(m)},d=function(e){kn(a,e),Cn(l,a)&&p()},m=function(){var u,m,f;!o&&rr.indexedDB&&(a={},u={},i&&i.abort(),i=new AbortController,f=function(t){var n=Ne();try{s&&qe();var r=He(e,t);return r=s?r.finally(ze):r}finally{n&&Oe()}}(m={subscr:u,signal:i.signal,requery:p,querier:e,trans:null}),Promise.resolve(f).then((function(e){n=!0,t=e,o||m.signal.aborted||(a={},function(e){for(var t in e)if(c(e,t))return;return 1}(l=u)||h||(Ht(Bt,d),h=!0),Qe((function(){return!o&&r.next&&r.next(e)})))}),(function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||o||Qe((function(){o||r.error&&r.error(e)}))})))};return setTimeout(p,0),u}));return r.hasValue=function(){return n},r.getValue=function(){return t},r}var ar=tr;function lr(e){var t=cr;try{cr=!0,Ht.storagemutated.fire(e),Dn(e,!0)}finally{cr=t}}h(ar,t(t({},X),{delete:function(e){return new ar(e,{addons:[]}).delete()},exists:function(e){return new ar(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return n=(t=ar.dependencies).indexedDB,t=t.IDBKeyRange,(bn(n)?Promise.resolve(n.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==nt}))})):gn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return $e(new K.MissingAPI)}var t,n},defineClass:function(){return function(e){a(this,e)}},ignoreTransaction:function(e){return ye.trans?Xe(ye.transless,e):e()},vip:yn,async:function(e){return function(){try{var t=Mn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Te.resolve(t)}catch(t){return $e(t)}}},spawn:function(e,t,n){try{var r=Mn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Te.resolve(r)}catch(e){return $e(e)}},currentTransaction:{get:function(){return ye.trans||null}},waitFor:function(e,t){return t=Te.resolve("function"==typeof e?ar.ignoreTransaction(e):e).timeout(t||6e4),ye.trans?ye.trans.waitFor(t):t},Promise:Te,debug:{get:function(){return ie},set:function(e){se(e)}},derive:m,extend:a,props:h,override:y,Events:mt,on:Ht,liveQuery:or,extendObservabilitySet:kn,getByKeyPath:E,setByKeyPath:T,delByKeyPath:function(e,t){"string"==typeof t?T(e,t,void 0):"length"in t&&[].map.call(t,(function(t){T(e,t,void 0)}))},shallowClone:x,deepClone:I,getObjectDiff:Bn,cmp:ut,asap:_,minKey:-1/0,addons:[],connections:tt,errnames:V,dependencies:rr,cache:In,semVer:"4.0.7",version:"4.0.7".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),ar.maxKey=Wt(ar.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Ht(Bt,(function(e){cr||(e=new CustomEvent(Ut,{detail:e}),cr=!0,dispatchEvent(e),cr=!1)})),addEventListener(Ut,(function(e){e=e.detail,cr||lr(e)})));var ur,cr=!1,hr=function(){};return"undefined"!=typeof BroadcastChannel&&((hr=function(){(ur=new BroadcastChannel(Ut)).onmessage=function(e){return e.data&&lr(e.data)}})(),"function"==typeof ur.unref&&ur.unref(),Ht(Bt,(function(e){cr||ur.postMessage(e)}))),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",(function(e){if(!tr.disableBfCache&&e.persisted){ie&&console.debug("Dexie: handling persisted pagehide"),null!=ur&&ur.close();for(var t=0,n=tt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}})),addEventListener("pageshow",(function(e){!tr.disableBfCache&&e.persisted&&(ie&&console.debug("Dexie: handling persisted pageshow"),hr(),lr({all:new _n(-1/0,[[]])}))}))),Te.rejectionMapper=function(e,t){return!e||e instanceof U||e instanceof TypeError||e instanceof SyntaxError||!e.name||!W[e.name]?e:(t=new W[e.name](t||e.message,e),"stack"in e&&d(t,"stack",{get:function(){return this.inner.stack}}),t)},se(ie),t(tr,Object.freeze({__proto__:null,Dexie:tr,liveQuery:or,Entity:lt,cmp:ut,PropModSymbol:S,PropModification:xt,replacePrefix:function(e,t){return new xt({replacePrefix:[e,t]})},add:function(e){return new xt({add:e})},remove:function(e){return new xt({remove:e})},default:tr,RangeSet:_n,mergeRanges:Tn,rangesOverlap:xn}),{default:tr}),tr}()},8400:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},3540:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var s=n(8400),o=n(3682);i(n(3682),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=a),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:a,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?s.ElementType.Tag:void 0,r=new o.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===s.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new o.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment)this.lastNode.data+=e;else{var t=new o.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new o.Text(""),t=new o.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new o.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},3682:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(8400),o=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),E(this,e)},e}();t.Node=o;var a=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(o);t.DataNode=a;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(a);t.Text=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(a);t.Comment=u;var c=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=s.ElementType.Directive,r}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(a);t.ProcessingInstruction=c;var h=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(o);t.NodeWithChildren=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(h);t.CDATA=p;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(h);t.Document=d;var m=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var o=e.call(this,r)||this;return o.name=t,o.attribs=n,o.type=i,o}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(h);function f(e){return(0,s.isTag)(e)}function g(e){return e.type===s.ElementType.CDATA}function b(e){return e.type===s.ElementType.Text}function y(e){return e.type===s.ElementType.Comment}function v(e){return e.type===s.ElementType.Directive}function _(e){return e.type===s.ElementType.Root}function E(e,t){var n;if(void 0===t&&(t=!1),b(e))n=new l(e.data);else if(y(e))n=new u(e.data);else if(f(e)){var r=t?T(e.children):[],s=new m(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=s})),null!=e.namespace&&(s.namespace=e.namespace),e["x-attribsNamespace"]&&(s["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(s["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=s}else if(g(e)){r=t?T(e.children):[];var o=new p(r);r.forEach((function(e){return e.parent=o})),n=o}else if(_(e)){r=t?T(e.children):[];var a=new d(r);r.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!v(e))throw new Error("Not implemented yet: ".concat(e.type));var h=new c(e.name,e.data);null!=e["x-name"]&&(h["x-name"]=e["x-name"],h["x-publicId"]=e["x-publicId"],h["x-systemId"]=e["x-systemId"]),n=h}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function T(e){for(var t=e.map((function(e){return E(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=f,t.isCDATA=g,t.isText=b,t.isComment=y,t.isDirective=v,t.isDocument=_,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=E},6213:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:o,create:a}=Object,{apply:l,construct:u}="undefined"!==typeof Reflect&&Reflect;s||(s=function(e){return e}),o||(o=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),u||(u=function(e,t){return new e(...t)});const c=T(Array.prototype.forEach),h=T(Array.prototype.pop),p=T(Array.prototype.push),d=T(String.prototype.toLowerCase),m=T(String.prototype.toString),f=T(String.prototype.match),g=T(String.prototype.replace),b=T(String.prototype.indexOf),y=T(String.prototype.trim),v=T(Object.prototype.hasOwnProperty),_=T(RegExp.prototype.test),E=x(TypeError);function T(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(e,t,r)}}function x(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(e,n)}}function w(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;t&&t(e,null);let s=r.length;for(;s--;){let t=r[s];if("string"===typeof t){const e=i(t);e!==t&&(n(r)||(r[s]=e),t=e)}e[t]=!0}return e}function A(e){for(let t=0;t<e.length;t++)v(e,t)||(e[t]=null);return e}function S(t){const n=a(null);for(const[r,i]of e(t))v(t,r)&&(Array.isArray(i)?n[r]=A(i):i&&"object"===typeof i&&i.constructor===Object?n[r]=S(i):n[r]=i);return n}function k(e,t){for(;null!==e;){const n=i(e,t);if(n){if(n.get)return T(n.get);if("function"===typeof n.value)return T(n.value)}e=r(e)}function n(){return null}return n}const C=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),D=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=s(["#text"]),L=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=o(/<%[\w\W]*|[\w\W]*%>/gm),H=o(/\${[\w\W]*}/gm),q=o(/^data-[\-\w.\u00B7-\uFFFF]/),z=o(/^aria-[\-\w]+$/),V=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=o(/^(?:\w+script|data):/i),K=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=o(/^html$/i),X=o(/^[a-z][.\w]*(-[.\w]+)+$/i);var Y=Object.freeze({__proto__:null,MUSTACHE_EXPR:B,ERB_EXPR:U,TMPLIT_EXPR:H,DATA_ATTR:q,ARIA_ATTR:z,IS_ALLOWED_URI:V,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:K,DOCTYPE_NAME:W,CUSTOM_ELEMENT:X});const Q={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},$=function(){return"undefined"===typeof window?null:window},J=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(s){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Z(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$();const n=e=>Z(e);if(n.version="3.1.5",n.removed=[],!t||!t.document||t.document.nodeType!==Q.document)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:u,Node:T,Element:x,NodeFilter:A,NamedNodeMap:B=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:U,DOMParser:H,trustedTypes:q}=t,z=x.prototype,G=k(z,"cloneNode"),K=k(z,"nextSibling"),X=k(z,"childNodes"),ee=k(z,"parentNode");if("function"===typeof u){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let te,ne="";const{implementation:re,createNodeIterator:ie,createDocumentFragment:se,getElementsByTagName:oe}=r,{importNode:ae}=i;let le={};n.isSupported="function"===typeof e&&"function"===typeof ee&&re&&void 0!==re.createHTMLDocument;const{MUSTACHE_EXPR:ue,ERB_EXPR:ce,TMPLIT_EXPR:he,DATA_ATTR:pe,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:ge}=Y;let{IS_ALLOWED_URI:be}=Y,ye=null;const ve=w({},[...C,...I,...N,...R,...P]);let _e=null;const Ee=w({},[...L,...M,...F,...j]);let Te=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,we=null,Ae=!0,Se=!0,ke=!1,Ce=!0,Ie=!1,Ne=!0,Oe=!1,Re=!1,De=!1,Pe=!1,Le=!1,Me=!1,Fe=!0,je=!1;const Be="user-content-";let Ue=!0,He=!1,qe={},ze=null;const Ve=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ge=null;const Ke=w({},["audio","video","img","source","image","track"]);let We=null;const Xe=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xhtml";let Je=$e,Ze=!1,et=null;const tt=w({},[Ye,Qe,$e],m);let nt=null;const rt=["application/xhtml+xml","text/html"],it="text/html";let st=null,ot=null;const at=r.createElement("form"),lt=function(e){return e instanceof RegExp||e instanceof Function},ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if(e&&"object"===typeof e||(e={}),e=S(e),nt=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?it:e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===nt?m:d,ye=v(e,"ALLOWED_TAGS")?w({},e.ALLOWED_TAGS,st):ve,_e=v(e,"ALLOWED_ATTR")?w({},e.ALLOWED_ATTR,st):Ee,et=v(e,"ALLOWED_NAMESPACES")?w({},e.ALLOWED_NAMESPACES,m):tt,We=v(e,"ADD_URI_SAFE_ATTR")?w(S(Xe),e.ADD_URI_SAFE_ATTR,st):Xe,Ge=v(e,"ADD_DATA_URI_TAGS")?w(S(Ke),e.ADD_DATA_URI_TAGS,st):Ke,ze=v(e,"FORBID_CONTENTS")?w({},e.FORBID_CONTENTS,st):Ve,xe=v(e,"FORBID_TAGS")?w({},e.FORBID_TAGS,st):{},we=v(e,"FORBID_ATTR")?w({},e.FORBID_ATTR,st):{},qe=!!v(e,"USE_PROFILES")&&e.USE_PROFILES,Ae=!1!==e.ALLOW_ARIA_ATTR,Se=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Ne=!1!==e.SAFE_FOR_XML,Oe=e.WHOLE_DOCUMENT||!1,Pe=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,je=e.SANITIZE_NAMED_PROPS||!1,Ue=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||V,Je=e.NAMESPACE||$e,Te=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Te.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Se=!1),Le&&(Pe=!0),qe&&(ye=w({},P),_e=[],!0===qe.html&&(w(ye,C),w(_e,L)),!0===qe.svg&&(w(ye,I),w(_e,M),w(_e,j)),!0===qe.svgFilters&&(w(ye,N),w(_e,M),w(_e,j)),!0===qe.mathMl&&(w(ye,R),w(_e,F),w(_e,j))),e.ADD_TAGS&&(ye===ve&&(ye=S(ye)),w(ye,e.ADD_TAGS,st)),e.ADD_ATTR&&(_e===Ee&&(_e=S(_e)),w(_e,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&w(We,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(ze===Ve&&(ze=S(ze)),w(ze,e.FORBID_CONTENTS,st)),Ue&&(ye["#text"]=!0),Oe&&w(ye,["html","head","body"]),ye.table&&(w(ye,["tbody"]),delete xe.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');te=e.TRUSTED_TYPES_POLICY,ne=te.createHTML("")}else void 0===te&&(te=J(q,o)),null!==te&&"string"===typeof ne&&(ne=te.createHTML(""));s&&s(e),ot=e}},ct=w({},["mi","mo","mn","ms","mtext"]),ht=w({},["foreignobject","annotation-xml"]),pt=w({},["title","style","font","a","script"]),dt=w({},[...I,...N,...O]),mt=w({},[...R,...D]),ft=function(e){let t=ee(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});const n=d(e.tagName),r=d(t.tagName);return!!et[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===$e?"svg"===n:t.namespaceURI===Ye?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(dt[n]):e.namespaceURI===Ye?t.namespaceURI===$e?"math"===n:t.namespaceURI===Qe?"math"===n&&ht[r]:Boolean(mt[n]):e.namespaceURI===$e?!(t.namespaceURI===Qe&&!ht[r])&&!(t.namespaceURI===Ye&&!ct[r])&&!mt[n]&&(pt[n]||!dt[n]):!("application/xhtml+xml"!==nt||!et[e.namespaceURI]))},gt=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},bt=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!_e[e])if(Pe||Le)try{gt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},yt=function(e){let t=null,n=null;if(De)e="<remove></remove>"+e;else{const t=f(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===nt&&Je===$e&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=te?te.createHTML(e):e;if(Je===$e)try{t=(new H).parseFromString(i,nt)}catch(o){}if(!t||!t.documentElement){t=re.createDocument(Je,"template",null);try{t.documentElement.innerHTML=Ze?ne:i}catch(o){}}const s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),Je===$e?oe.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:s},vt=function(e){return ie.call(e.ownerDocument||e,e,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},_t=function(e){return e instanceof U&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof B)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},Et=function(e){return"function"===typeof T&&e instanceof T},Tt=function(e,t,r){le[e]&&c(le[e],(e=>{e.call(n,t,r,ot)}))},xt=function(e){let t=null;if(Tt("beforeSanitizeElements",e,null),_t(e))return gt(e),!0;const r=st(e.nodeName);if(Tt("uponSanitizeElement",e,{tagName:r,allowedTags:ye}),e.hasChildNodes()&&!Et(e.firstElementChild)&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return gt(e),!0;if(e.nodeType===Q.progressingInstruction)return gt(e),!0;if(Ne&&e.nodeType===Q.comment&&_(/<[/\w]/g,e.data))return gt(e),!0;if(!ye[r]||xe[r]){if(!xe[r]&&At(r)){if(Te.tagNameCheck instanceof RegExp&&_(Te.tagNameCheck,r))return!1;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(r))return!1}if(Ue&&!ze[r]){const t=ee(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=G(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,K(e))}}return gt(e),!0}return e instanceof x&&!ft(e)?(gt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===Q.text&&(t=e.textContent,c([ue,ce,he],(e=>{t=g(t,e," ")})),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),Tt("afterSanitizeElements",e,null),!1):(gt(e),!0)},wt=function(e,t,n){if(Fe&&("id"===t||"name"===t)&&(n in r||n in at))return!1;if(Se&&!we[t]&&_(pe,t));else if(Ae&&_(de,t));else if(!_e[t]||we[t]){if(!(At(e)&&(Te.tagNameCheck instanceof RegExp&&_(Te.tagNameCheck,e)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(e))&&(Te.attributeNameCheck instanceof RegExp&&_(Te.attributeNameCheck,t)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(t))||"is"===t&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&_(Te.tagNameCheck,n)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))))return!1}else if(We[t]);else if(_(be,g(n,fe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(n,"data:")||!Ge[e])if(ke&&!_(me,g(n,fe,"")));else if(n)return!1;return!0},At=function(e){return"annotation-xml"!==e&&f(e,ge)},St=function(e){Tt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};let i=t.length;for(;i--;){const o=t[i],{name:a,namespaceURI:l,value:u}=o,p=st(a);let d="value"===a?u:y(u);if(r.attrName=p,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,Tt("uponSanitizeAttribute",e,r),d=r.attrValue,r.forceKeepAttr)continue;if(bt(a,e),!r.keepAttr)continue;if(!Ce&&_(/\/>/i,d)){bt(a,e);continue}if(Ne&&_(/((--!?|])>)|<\/(style|title)/i,d)){bt(a,e);continue}Ie&&c([ue,ce,he],(e=>{d=g(d,e," ")}));const m=st(e.nodeName);if(wt(m,p,d)){if(!je||"id"!==p&&"name"!==p||(bt(a,e),d=Be+d),te&&"object"===typeof q&&"function"===typeof q.getAttributeType)if(l);else switch(q.getAttributeType(m,p)){case"TrustedHTML":d=te.createHTML(d);break;case"TrustedScriptURL":d=te.createScriptURL(d)}try{l?e.setAttributeNS(l,a,d):e.setAttribute(a,d),_t(e)?gt(e):h(n.removed)}catch(s){}}}Tt("afterSanitizeAttributes",e,null)},kt=function e(t){let n=null;const r=vt(t);for(Tt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Tt("uponSanitizeShadowNode",n,null),xt(n)||(n.content instanceof l&&e(n.content),St(n));Tt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,s=null,o=null,a=null;if(Ze=!e,Ze&&(e="\x3c!--\x3e"),"string"!==typeof e&&!Et(e)){if("function"!==typeof e.toString)throw E("toString is not a function");if("string"!==typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Re||ut(t),n.removed=[],"string"===typeof e&&(He=!1),He){if(e.nodeName){const t=st(e.nodeName);if(!ye[t]||xe[t])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof T)r=yt("\x3c!----\x3e"),s=r.ownerDocument.importNode(e,!0),s.nodeType===Q.element&&"BODY"===s.nodeName||"HTML"===s.nodeName?r=s:r.appendChild(s);else{if(!Pe&&!Ie&&!Oe&&-1===e.indexOf("<"))return te&&Me?te.createHTML(e):e;if(r=yt(e),!r)return Pe?null:Me?ne:""}r&&De&&gt(r.firstChild);const u=vt(He?e:r);for(;o=u.nextNode();)xt(o)||(o.content instanceof l&&kt(o.content),St(o));if(He)return e;if(Pe){if(Le)for(a=se.call(r.ownerDocument);r.firstChild;)a.appendChild(r.firstChild);else a=r;return(_e.shadowroot||_e.shadowrootmode)&&(a=ae.call(i,a,!0)),a}let h=Oe?r.outerHTML:r.innerHTML;return Oe&&ye["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&_(W,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),Ie&&c([ue,ce,he],(e=>{h=g(h,e," ")})),te&&Me?te.createHTML(h):h},n.setConfig=function(){ut(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Re=!0},n.clearConfig=function(){ot=null,Re=!1},n.isValidAttribute=function(e,t,n){ot||ut({});const r=st(e),i=st(t);return wt(r,i,n)},n.addHook=function(e,t){"function"===typeof t&&(le[e]=le[e]||[],p(le[e],t))},n.removeHook=function(e){if(le[e])return h(le[e])},n.removeHooks=function(e){le[e]&&(le[e]=[])},n.removeAllHooks=function(){le={}},n}return Z()}()},3240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!s)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},a=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,u,c,h=arguments[0],p=1,d=arguments.length,m=!1;for("boolean"===typeof h&&(m=h,h=arguments[1]||{},p=2),(null==h||"object"!==typeof h&&"function"!==typeof h)&&(h={});p<d;++p)if(null!=(t=arguments[p]))for(n in t)r=l(h,n),h!==(i=l(t,n))&&(m&&i&&(o(i)||(u=s(i)))?(u?(u=!1,c=r&&s(r)?r:[]):c=r&&o(r)?r:{},a(h,{name:n,newValue:e(m,c,i)})):"undefined"!==typeof i&&a(h,{name:n,newValue:i}));return h}},4524:function(e,t,n){var r;!function(i){"use strict";function s(e){var n=e&&e.Promise||i.Promise,r=e&&e.XMLHttpRequest||i.XMLHttpRequest;return function(){var e=Object.create(i,{fetch:{value:void 0,writable:!0}});return function(t){var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof i&&i,s={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function o(e){return e&&DataView.prototype.isPrototypeOf(e)}if(s.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s.iterable&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return n.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new n((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function f(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function g(e){var t=new FileReader,n=m(t);return t.readAsText(e),n}function b(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&o(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return n.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return n.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?n.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):n.resolve(this._bodyArrayBuffer))}return this.blob().then(f)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return n.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return n.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=c(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},s.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof T){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=E(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function w(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},v.call(T.prototype),v.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];A.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=i.DOMException;try{new t.DOMException}catch(C){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,o){return new n((function(n,a){var l=new T(e,o);if(l.signal&&l.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var u=new r;function h(){u.abort()}function d(e){try{return""===e&&i.location.href?i.location.href:e}catch(t){return e}}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:w(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){n(new A(t,e))}),0)},u.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){a(new t.DOMException("Aborted","AbortError"))}),0)},u.open(l.method,d(l.url),!0),"include"===l.credentials?u.withCredentials=!0:"omit"===l.credentials&&(u.withCredentials=!1),"responseType"in u&&(s.blob?u.responseType="blob":s.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!o||"object"!==typeof o.headers||o.headers instanceof p?l.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(o.headers).forEach((function(e){u.setRequestHeader(e,c(o.headers[e]))})),l.signal&&(l.signal.addEventListener("abort",h),u.onreadystatechange=function(){4===u.readyState&&l.signal.removeEventListener("abort",h)}),u.send("undefined"===typeof l._bodyInit?null:l._bodyInit)}))}k.polyfill=!0,i.fetch||(i.fetch=k,i.Headers=p,i.Request=T,i.Response=A),t.Headers=p,t.Request=T,t.Response=A,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}(t),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response,DOMException:e.DOMException}}()}void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof n.g?n.g:this)},2955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{})},4273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="html",r="head",i="body",s=/<([a-zA-Z]+[0-9]?)/,o=/<head[^]*>/i,a=/<body[^]*>/i,l=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},u=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},c="object"===typeof window&&window.DOMParser;if("function"===typeof c){var h=new c;l=u=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),h.parseFromString(e,"text/html")}}if("object"===typeof document&&document.implementation){var p=document.implementation.createHTMLDocument();l=function(e,t){if(t){var n=p.documentElement.querySelector(t);return n&&(n.innerHTML=e),p}return p.documentElement.innerHTML=e,p}}var d,m="object"===typeof document&&document.createElement("template");m&&m.content&&(d=function(e){return m.innerHTML=e,m.content.childNodes}),t.default=function(e){var t,c,h=e.match(s),p=h&&h[1]?h[1].toLowerCase():"";switch(p){case n:var m=u(e);if(!o.test(e))null===(t=null===(g=m.querySelector(r))||void 0===g?void 0:g.parentNode)||void 0===t||t.removeChild(g);if(!a.test(e))null===(c=null===(g=m.querySelector(i))||void 0===g?void 0:g.parentNode)||void 0===c||c.removeChild(g);return m.querySelectorAll(n);case r:case i:var f=l(e).querySelectorAll(p);return a.test(e)&&o.test(e)?f[0].parentNode.childNodes:f;default:return d?d(e):(g=l(e,i).querySelector(i)).childNodes;var g}}},70:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4273)),s=n(1454),o=/<(![a-zA-Z\s]+)>/;t.default=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(o),n=t?t[1]:void 0;return(0,s.formatDOM)((0,i.default)(e),null,n)}},1454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDOM=t.formatAttributes=void 0;var r=n(3540),i=n(2955);function s(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function o(e){var t=function(e){return i.CASE_SENSITIVE_TAG_NAMES_MAP[e]}(e=e.toLowerCase());return t||e}t.formatAttributes=s,t.formatDOM=function e(t,n,i){void 0===n&&(n=null);for(var a,l=[],u=0,c=t.length;u<c;u++){var h=t[u];switch(h.nodeType){case 1:var p=o(h.nodeName);(a=new r.Element(p,s(h.attributes))).children=e("template"===p?h.content.childNodes:h.childNodes,a);break;case 3:a=new r.Text(h.nodeValue);break;case 8:a=new r.Comment(h.nodeValue);break;default:continue}var d=l[u-1]||null;d&&(d.next=a),a.parent=n,a.prev=d,a.next=null,l.push(a)}return i&&((a=new r.ProcessingInstruction(i.substring(0,i.indexOf(" ")).toLowerCase(),i)).next=l[0]||null,a.parent=n,l.unshift(a),l[1]&&(l[1].prev=l[0])),l}},4495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6311),i=n(8625),s=["checked","value"],o=["input","select","textarea"],a={reset:!0,submit:!0};function l(e){return r.possibleStandardNames[e]}t.default=function(e,t){void 0===e&&(e={});var n={},u=Boolean(e.type&&a[e.type]);for(var c in e){var h=e[c];if((0,r.isCustomAttribute)(c))n[c]=h;else{var p=c.toLowerCase(),d=l(p);if(d){var m=(0,r.getPropertyInfo)(d);switch(s.includes(d)&&o.includes(t)&&!u&&(d=l("default"+p)),n[d]=h,m&&m.type){case r.BOOLEAN:n[d]=!0;break;case r.OVERLOADED_BOOLEAN:""===h&&(n[d]=!0)}}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(n[c]=h)}}return(0,i.setStyleProp)(e.style,n),n}},4789:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5043),s=r(n(4495)),o=n(8625),a={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement};function l(e){return o.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,o.isCustomComponent)(e.name,e.attribs)}t.default=function e(t,n){void 0===n&&(n={});for(var r=[],i="function"===typeof n.replace,u=n.transform||o.returnFirstArg,c=n.library||a,h=c.cloneElement,p=c.createElement,d=c.isValidElement,m=t.length,f=0;f<m;f++){var g=t[f];if(i){var b=n.replace(g,f);if(d(b)){m>1&&(b=h(b,{key:b.key||f})),r.push(u(b,g,f));continue}}if("text"!==g.type){var y=g,v={};l(y)?((0,o.setStyleProp)(y.attribs.style,y.attribs),v=y.attribs):y.attribs&&(v=(0,s.default)(y.attribs,y.name));var _=void 0;switch(g.type){case"script":case"style":g.children[0]&&(v.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?v.defaultValue=g.children[0].data:g.children&&g.children.length&&(_=e(g.children,n));break;default:continue}m>1&&(v.key=f),r.push(u(p(g.name,v,_),g,f))}else{var E=!g.data.trim().length;if(E&&g.parent&&!(0,o.canTextBeChildOfNode)(g.parent))continue;if(n.trim&&E)continue;r.push(u(g.data,g,f))}}return 1===r.length?r[0]:r}},1001:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var i=r(n(70));t.htmlToDOM=i.default;var s=r(n(4495));t.attributesToProps=s.default;var o=r(n(4789));t.domToReact=o.default;var a=n(3540);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return a.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return a.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return a.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return a.Text}});var l={lowerCaseAttributeNames:!1};t.default=function(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return e?(0,o.default)((0,i.default)(e,(null===t||void 0===t?void 0:t.htmlparser2)||l),t):[]}},8625:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var i=n(5043),s=r(n(7294)),o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);t.isCustomComponent=function(e,t){return e.includes("-")?!o.has(e):Boolean(t&&"string"===typeof t.is)};var a={reactCompat:!0};t.setStyleProp=function(e,t){if("string"===typeof e)if(e.trim())try{t.style=(0,s.default)(e,a)}catch(n){t.style={}}else t.style={}},t.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);t.canTextBeChildOfNode=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)};t.returnFirstArg=function(e){return e}},6900:(e,t)=>{t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=p,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=u}return(d?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,m=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=m,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+d]=255&o,d+=m,o/=256,u-=8);e[n+d-m]|=128*f}},4403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var h=1,p=1;function d(e){var t=e.match(n);t&&(h+=t.length);var r=e.lastIndexOf("\n");p=~r?e.length-r:p+e.length}function m(){var e={line:h,column:p};return function(t){return t.position=new f(e),v(),t}}function f(e){this.start=e,this.end={line:h,column:p},this.source=l.source}f.prototype.content=e;var g=[];function b(t){var n=new Error(l.source+":"+h+":"+p+": "+t);if(n.reason=t,n.filename=l.source,n.line=h,n.column=p,n.source=e,!l.silent)throw n;g.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return d(r),e=e.slice(r.length),n}}function v(){y(r)}function _(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return b("End of comment missing");var r=e.slice(2,n-2);return p+=2,d(r),e=e.slice(n),p+=2,t({type:"comment",comment:r})}}function T(){var e=m(),n=y(i);if(n){if(E(),!y(s))return b("property missing ':'");var r=y(o),l=e({type:"declaration",property:c(n[0].replace(t,u)),value:r?c(r[0].replace(t,u)):u});return y(a),l}}return v(),function(){var e,t=[];for(_(t);e=T();)!1!==e&&(t.push(e),_(t));return t}()}},6012:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n="boolean"===typeof(new RegExp).sticky;function r(e){return e&&"[object RegExp]"===t.call(e)}function i(e){return e&&"object"===typeof e&&!r(e)&&!Array.isArray(e)}function s(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(e){return new RegExp("|"+e).exec("").length-1}function a(e){return"("+e+")"}function l(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function u(e){if("string"===typeof e)return"(?:"+s(e)+")";if(r(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function c(e,t){return e.length>t?e:Array(t-e.length+1).join(" ")+e}function h(e,t){for(var n=e.length,r=0;;){var i=e.lastIndexOf("\n",n-1);if(-1===i)break;if(n=i,++r===t)break;if(0===n)break}var s=r<t?0:n+1;return e.substring(s).split("\n")}function p(e){for(var t=Object.getOwnPropertyNames(e),n=[],r=0;r<t.length;r++){var s=t[r],o=e[s],a=[].concat(o);if("include"!==s){var l=[];a.forEach((function(e){i(e)?(l.length&&n.push(m(s,l)),n.push(m(s,e)),l=[]):l.push(e)})),l.length&&n.push(m(s,l))}else for(var u=0;u<a.length;u++)n.push({include:a[u]})}return n}function d(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.include)for(var i=[].concat(r.include),s=0;s<i.length;s++)t.push({include:i[s]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));t.push(m(r.type,r))}}return t}function m(t,n){if(i(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var s={defaultType:t,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var o in n)e.call(n,o)&&(s[o]=n[o]);if("string"===typeof s.type&&t!==s.type)throw new Error("Type transform cannot be a string (type '"+s.type+"' for token '"+t+"')");var a=s.match;return s.match=Array.isArray(a)?a:a?[a]:[],s.match.sort((function(e,t){return r(e)&&r(t)?0:r(t)?-1:r(e)?1:t.length-e.length})),s}function f(e){return Array.isArray(e)?d(e):p(e)}var g=m("error",{lineBreaks:!0,shouldThrow:!0});function b(e,t){for(var i=null,s=Object.create(null),c=!0,h=null,p=[],d=[],m=0;m<e.length;m++)e[m].fallback&&(c=!1);for(m=0;m<e.length;m++){var f=e[m];if(f.include)throw new Error("Inheritance is not allowed in stateless lexers");if(f.error||f.fallback){if(i)throw!f.fallback===!i.fallback?new Error("Multiple "+(f.fallback?"fallback":"error")+" rules not allowed (for token '"+f.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+f.defaultType+"')");i=f}var b=f.match.slice();if(c)for(;b.length&&"string"===typeof b[0]&&1===b[0].length;)s[b.shift().charCodeAt(0)]=f;if(f.pop||f.push||f.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+f.defaultType+"')");if(f.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+f.defaultType+"')")}if(0!==b.length){c=!1,p.push(f);for(var y=0;y<b.length;y++){var v=b[y];if(r(v))if(null===h)h=v.unicode;else if(h!==v.unicode&&!1===f.fallback)throw new Error("If one rule is /u then all must be")}var _=l(b.map(u)),E=new RegExp(_);if(E.test(""))throw new Error("RegExp matches empty string: "+E);if(o(_)>0)throw new Error("RegExp has capture groups: "+E+"\nUse (?: \u2026 ) instead");if(!f.lineBreaks&&E.test("\n"))throw new Error("Rule should declare lineBreaks: "+E);d.push(a(_))}}var T=i&&i.fallback,x=n&&!T?"ym":"gm",w=n||T?"":"|";return!0===h&&(x+="u"),{regexp:new RegExp(l(d)+w,x),groups:p,fast:s,error:i||g}}function y(e){var t=b(f(e));return new T({start:t},"start")}function v(e,t,n){var r=e&&(e.push||e.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!==+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}function _(e,t){var n=e.$all?f(e.$all):[];delete e.$all;var r=Object.getOwnPropertyNames(e);t||(t=r[0]);for(var i=Object.create(null),s=0;s<r.length;s++)i[g=r[s]]=f(e[g]).concat(n);for(s=0;s<r.length;s++)for(var o=i[g=r[s]],a=Object.create(null),l=0;l<o.length;l++){var u=o[l];if(u.include){var c=[l,1];if(u.include!==g&&!a[u.include]){a[u.include]=!0;var h=i[u.include];if(!h)throw new Error("Cannot include nonexistent state '"+u.include+"' (in state '"+g+"')");for(var p=0;p<h.length;p++){var d=h[p];-1===o.indexOf(d)&&c.push(d)}}o.splice.apply(o,c),l--}}var m=Object.create(null);for(s=0;s<r.length;s++){var g;m[g=r[s]]=b(i[g],!0)}for(s=0;s<r.length;s++){var y=r[s],_=m[y],E=_.groups;for(l=0;l<E.length;l++)v(E[l],y,m);var x=Object.getOwnPropertyNames(_.fast);for(l=0;l<x.length;l++)v(_.fast[x[l]],y,m)}return new T(m,t)}function E(e){for(var t="undefined"!==typeof Map,n=t?new Map:Object.create(null),r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var s=r[i],o=e[s];(Array.isArray(o)?o:[o]).forEach((function(e){if("string"!==typeof e)throw new Error("keyword must be string (in keyword '"+s+"')");t?n.set(e,s):n[e]=s}))}return function(e){return t?n.get(e):n[e]}}var T=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};T.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedText=t?t.queuedText:"",this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},T.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},T.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},T.prototype.popState=function(){this.setState(this.stack.pop())},T.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var x=n?function(e,t){return e.exec(t)}:function(e,t){var n=e.exec(t);return 0===n[0].length?null:n};function w(){return this.value}if(T.prototype._getGroup=function(e){for(var t=this.groups.length,n=0;n<t;n++)if(void 0!==e[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},T.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var n=this.buffer;if(e!==n.length){if(o=this.fast[n.charCodeAt(e)])return this._token(o,n.charAt(e),e);var r=this.re;r.lastIndex=e;var i=x(r,n),s=this.error;if(null==i)return this._token(s,n.slice(e,n.length),e);var o=this._getGroup(i),a=i[0];return s.fallback&&i.index!==e?(this.queuedGroup=o,this.queuedText=a,this._token(s,n.slice(e,i.index),e)):this._token(o,a,e)}},T.prototype._token=function(e,t,n){var r=0;if(e.lineBreaks){var i=/\n/g,s=1;if("\n"===t)r=1;else for(;i.exec(t);)r++,s=i.lastIndex}var o={type:"function"===typeof e.type&&e.type(t)||e.defaultType,value:"function"===typeof e.value?e.value(t):t,text:t,toString:w,offset:n,lineBreaks:r,line:this.line,col:this.col},a=t.length;if(this.index+=a,this.line+=r,0!==r?this.col=a-s+1:this.col+=a,e.shouldThrow)throw new Error(this.formatError(o,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),o},"undefined"!==typeof Symbol&&Symbol.iterator){var A=function(e){this.lexer=e};A.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},A.prototype[Symbol.iterator]=function(){return this},T.prototype[Symbol.iterator]=function(){return new A(this)}}return T.prototype.formatError=function(e,t){if(null==e){var n=this.buffer.slice(this.index);e={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=2,i=Math.max(e.line-r,1),s=e.line+r,o=String(s).length,a=h(this.buffer,this.line-e.line+r+1).slice(0,5),l=[];l.push(t+" at line "+e.line+" col "+e.col+":"),l.push("");for(var u=0;u<a.length;u++){var p=a[u],d=i+u;l.push(c(String(d),o)+"  "+p),d===e.line&&l.push(c("",o+e.col+1)+"^")}return l.join("\n")},T.prototype.clone=function(){return new T(this.states,this.state)},T.prototype.has=function(e){return!0},{compile:y,states:_,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:E}})?n.apply(t,r):n)||(e.exports=i)},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},m={};function f(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(m,e)||!h.call(d,e)&&(p.test(e)?m[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),T=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function H(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case T:return"Portal";case A:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){$(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,xe=null,we=null;function Ae(e){if(e=vi(e)){if("function"!==typeof Te)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Te(e.stateNode,e.type,t))}}function Se(e){xe?we?we.push(e):we=[e]:xe=e}function ke(){if(xe){var e=xe,t=we;if(we=xe=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==we)&&(Ie(),ke())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Be=null,Ue={onError:function(e){Me=!0,Fe=e}};function He(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(qe(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ve(i),e;if(o===r)return Ve(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Tt,xt,wt,At,St=!1,kt=[],Ct=null,It=null,Nt=null,Ot=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void At(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Bt),Rt.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Ht(t,e)}if(0<kt.length){Ht(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ht(Ct,e),null!==It&&Ht(It,e),null!==Nt&&Ht(Nt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var zt=_.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var i=vt,s=zt.transition;zt.transition=null;try{vt=1,Wt(e,t,n,r)}finally{vt=i,zt.transition=s}}function Kt(e,t,n,r){var i=vt,s=zt.transition;zt.transition=null;try{vt=4,Wt(e,t,n,r)}finally{vt=i,zt.transition=s}}function Wt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Xt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Mt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&Et(s),null===(s=Yt(e,t,n,r))&&Vr(e,t,r,Xt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=yi(e=Ee(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),pn=sn(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),mn=sn(dn),fn=sn(F({},dn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),bn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),_n=sn(F({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function An(){return wn}var Sn=F({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Sn),Cn=sn(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Nn=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(On),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Xn(e){jr(e,0)}function Yn(e){if(W(_i(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,Ee(e)),Oe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,yr=null,vr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(br,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},wr={};function Ar(e){if(xr[e])return xr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return xr[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Sr=Ar("animationend"),kr=Ar("animationiteration"),Cr=Ar("animationstart"),Ir=Ar("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Pr=Or[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(kr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(He.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=s,i=Ee(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Sr:case kr:case Cr:l=bn;break;case Ir:l=Nn;break;case"scroll":l=pn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=0!==(4&t),h=!c&&"scroll"===e,p=c?null!==a?a+"Capture":null:a;c=[];for(var d,m=r;null!==m;){var f=(d=m).stateNode;if(5===d.tag&&null!==f&&(d=f,null!==p&&(null!=(f=Re(m,p))&&c.push(Gr(m,f,d)))),h)break;m=m.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,f="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==l?a:_i(l),d=null==u?a:_i(u),(a=new c(f,m+"leave",l,n,i)).target=h,a.relatedTarget=d,f=null,yi(i)===r&&((c=new c(p,m+"enter",u,n,i)).target=d,c.relatedTarget=h,f=c),h=f,l&&u)e:{for(p=u,m=0,d=c=l;d;d=Wr(d))m++;for(d=0,f=p;f;f=Wr(f))d++;for(;0<m-d;)c=Wr(c),m--;for(;0<d-m;)p=Wr(p),d--;for(;m--;){if(c===p||null!==p&&c===p.alternate)break e;c=Wr(c),p=Wr(p)}c=null}else c=null;null!==l&&Xr(o,a,l,c,!1),null!==u&&null!==h&&Xr(o,h,u,c,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Vn(a))if($n)g=or;else{g=ir;var b=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(b&&b(e,a,r),"focusout"===e&&(b=a._wrapperState)&&b.controlled&&"number"===a.type&&ee(a,"number",a.value)),b=r?_i(r):window,e){case"focusin":(Vn(b)||"true"===b.contentEditable)&&(gr=b,br=r,yr=null);break;case"focusout":yr=br=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,_r(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(b=Kr(r,v)).length&&(v=new _n(v,e,null,n,i),o.push({event:v,listeners:b}),y?v.data=y:null!==(y=Hn(n))&&(v.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Re(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Re(n,s))&&o.unshift(Gr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),pi="__reactFiber$"+hi,di="__reactProps$"+hi,mi="__reactContainer$"+hi,fi="__reactEvents$"+hi,gi="__reactListeners$"+hi,bi="__reactHandles$"+hi;function yi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[pi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[pi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[di]||null}var Ti=[],xi=-1;function wi(e){return{current:e}}function Ai(e){0>xi||(e.current=Ti[xi],Ti[xi]=null,xi--)}function Si(e,t){xi++,Ti[xi]=e.current,e.current=t}var ki={},Ci=wi(ki),Ii=wi(!1),Ni=ki;function Oi(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ai(Ii),Ai(Ci)}function Pi(e,t,n){if(Ci.current!==ki)throw Error(s(168));Si(Ci,t),Si(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ni=Ci.current,Si(Ci,e),Si(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ai(Ii),Ai(Ci),Si(Ci,e)):Ai(Ii),Si(Ii,n)}var ji=null,Bi=!1,Ui=!1;function Hi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=vt;try{var n=ji;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,qi),i}finally{vt=t,Ui=!1}}return null}var zi=[],Vi=0,Gi=null,Ki=0,Wi=[],Xi=0,Yi=null,Qi=1,$i="";function Ji(e,t){zi[Vi++]=Ki,zi[Vi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Wi[Xi++]=Qi,Wi[Xi++]=$i,Wi[Xi++]=Yi,Yi=e;var r=Qi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Qi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=zi[--Vi],zi[Vi]=null,Ki=zi[--Vi],zi[Vi]=null;for(;e===Yi;)Yi=Wi[--Xi],Wi[Xi]=null,$i=Wi[--Xi],Wi[Xi]=null,Qi=Wi[--Xi],Wi[Xi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ps(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=rs;e;)e=ui(e.nextSibling)}function ds(){rs=ns=null,is=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=_.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case T:return(t=ju(t,e.mode,n)).return=e,t;case R:return p(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;bs(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case T:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);bs(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);bs(t,r)}return null}function f(i,s,a,l){for(var u=null,c=null,h=s,f=s=0,g=null;null!==h&&f<a.length;f++){h.index>f?(g=h,h=null):g=h.sibling;var b=d(i,h,a[f],l);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(i,h),s=o(b,s,f),null===c?u=b:c.sibling=b,c=b,h=g}if(f===a.length)return n(i,h),is&&Ji(i,f),u;if(null===h){for(;f<a.length;f++)null!==(h=p(i,a[f],l))&&(s=o(h,s,f),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,f),u}for(h=r(i,h);f<a.length;f++)null!==(g=m(h,i,f,a[f],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),s=o(g,s,f),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,f),u}function g(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,f=a,g=a=0,b=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(b=f,f=null):b=f.sibling;var v=d(i,f,y.value,u);if(null===v){null===f&&(f=b);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v,f=b}if(y.done)return n(i,f),is&&Ji(i,g),c;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return is&&Ji(i,g),c}for(f=r(i,f);!y.done;g++,y=l.next())null!==(y=m(f,i,g,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&f.forEach((function(e){return t(i,e)})),is&&Ji(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===x){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((s=Lu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Pu(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case T:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=ju(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return f(r,s,o,l);if(L(o))return g(r,s,o,l);bs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var _s=vs(!0),Es=vs(!1),Ts=wi(null),xs=null,ws=null,As=null;function Ss(){As=ws=xs=null}function ks(e){var t=Ts.current;Ai(Ts),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){xs=e,As=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===xs)throw Error(s(308));ws=e,xs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Os=null;function Rs(e){null===Os?Os=[e]:Os.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var p=a.lane,d=a.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,f=a;switch(p=t,d=n,f.tag){case 1:if("function"===typeof(m=f.payload)){h=m.call(d,h,p);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=f.payload)?m.call(d,h,p):m)||void 0===p)break e;h=F({},h,p);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[a]:p.push(a))}else d={eventTime:d,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs={},Gs=wi(Vs),Ks=wi(Vs),Ws=wi(Vs);function Xs(e){if(e===Vs)throw Error(s(174));return e}function Ys(e,t){switch(Si(Ws,t),Si(Ks,e),Si(Gs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Gs),Si(Gs,t)}function Qs(){Ai(Gs),Ai(Ks),Ai(Ws)}function $s(e){Xs(Ws.current);var t=Xs(Gs.current),n=le(t,e.type);t!==n&&(Si(Ks,e),Si(Gs,n))}function Js(e){Ks.current===e&&(Ai(Gs),Ai(Ks))}var Zs=wi(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=_.ReactCurrentDispatcher,io=_.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,po=0;function mo(){throw Error(s(321))}function fo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function bo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function _o(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,a=r):u=u.next=p,oo.lanes|=h,Ml|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function wo(e,t){var n=oo,r=vo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,va=!0),r=r.queue,Mo(ko.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,So.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&so)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Io(e)}function ko(e,t,n){return n((function(){Co(t)&&Io(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Io(e){var t=Ps(e,1);null!==t&&nu(t,e,1,-1)}function No(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return vo().memoizedState}function Do(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Po(e,t,n,r){var i=vo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&fo(r,o.deps))return void(i.memoizedState=Oo(t,n,s,r))}oo.flags|=e,i.memoizedState=Oo(1|t,n,s,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Po(2048,8,e,t)}function Fo(e,t){return Po(4,2,e,t)}function jo(e,t){return Po(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4,4,Bo.bind(null,t,e),n)}function Ho(){}function qo(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(ar(n,t)||(n=ft(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Go(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{vt=n,io.transition=r}}function Ko(){return vo().memoizedState}function Wo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=Ds(e,t,n,r))){nu(n,e,r,eu()),$o(n,t,r)}}function Xo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ds(e,t,i,r))&&(nu(n,e,r,i=eu()),$o(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ns,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Zo={readContext:Ns,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:No,useDebugValue:Ho,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&so)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(ko.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Il.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ns,useCallback:qo,useContext:Ns,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:zo,useReducer:Eo,useRef:Ro,useState:function(){return Eo(_o)},useDebugValue:Ho,useDeferredValue:function(e){return Vo(vo(),ao.memoizedState,e)},useTransition:function(){return[Eo(_o)[0],vo().memoizedState]},useMutableSource:xo,useSyncExternalStore:wo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Ns,useCallback:qo,useContext:Ns,useEffect:Mo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:zo,useReducer:To,useRef:Ro,useState:function(){return To(_o)},useDebugValue:Ho,useDeferredValue:function(e){var t=vo();return null===ao?t.memoizedState=e:Vo(t,ao.memoizedState,e)},useTransition:function(){return[To(_o)[0],vo().memoizedState]},useMutableSource:xo,useSyncExternalStore:wo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(nu(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(nu(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=Ri(t)?Ni:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=Ri(t)?Ni:Ci.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Gl=r),ha(0,t)},n}function ma(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=_.ReactCurrentOwner,va=!1;function _a(e,t,n,r){t.child=null===e?Es(t,null,n,r):_s(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=go(e,t,n,r,s,i),n=bo(),null===e||va?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ta(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ru(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Du(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(va=!0)}}return Sa(e,t,n,r,i)}function wa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Dl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Dl,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Dl,Rl),Rl|=r;return _a(e,t,i,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=Ri(n)?Ni:Ci.current;return s=Oi(t,s),Is(t,i),n=go(e,t,n,r,s,i),r=bo(),null===e||va?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function ka(e,t,n,r,i){if(Ri(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)za(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ns(u):u=Oi(t,u=Ri(n)?Ni:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ls=!1;var p=t.memoizedState;o.state=p,qs(t,r,o,i),l=t.memoizedState,a!==r||p!==l||Ii.current||Ls?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ls||sa(t,n,a,r,p,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,p=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Oi(t,l=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||p!==l)&&aa(t,o,r,l),Ls=!1,p=t.memoizedState,o.state=p,qs(t,r,o,i);var m=t.memoizedState;a!==h||p!==m||Ii.current||Ls?("function"===typeof d&&(ra(t,n,d,r),m=t.memoizedState),(u=Ls||sa(t,n,u,r,p,m,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,s,i)}function Ca(e,t,n,r,i,s){Aa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Va(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_s(t,e.child,null,s),t.child=_s(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Ys(e,t.containerInfo)}function Na(e,t,n,r,i){return ds(),ms(i),t.flags|=256,_a(e,t,n,r),t.child}var Oa,Ra,Da,Pa,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mu(l,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&_s(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),va||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ps(e,i),nu(r,e,i,-1))}return fu(),Ba(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Xi++]=Qi,Wi[Xi++]=$i,Wi[Xi++]=Yi,Qi=e.id,$i=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Du(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ms(r),_s(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Ha(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,s);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ka(t),null;case 3:return r=t.stateNode,Qs(),Ai(Ii),Ai(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Ra(e,t),Ka(t),null;case 5:Js(t);var i=Xs(Ws.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=Xs(Gs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[pi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[di]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&v(e,o,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Pa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Xs(Ws.current),Xs(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ai(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ps(),ds(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[pi]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Pl&&(Pl=3):fu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Qs(),Ra(e,t),null===e&&qr(t.stateNode.containerInfo),Ka(t),null;case 10:return ks(t.type._context),Ka(t),null;case 19:if(Ai(Zs),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Si(Zs,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xa(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Ai(Ii),Ai(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ai(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Zs),null;case 4:return Qs(),null;case 10:return ks(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xs(Gs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Pa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){wu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pi],delete t[di],delete t[fi],delete t[gi],delete t[bi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var r=cl,i=hl;cl=null,pl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wu(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,pl(e,t,n),Qa=r):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));dl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){wu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),bl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){wu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){wu(e,e.return,g)}}break;case 1:fl(t,e),bl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(fl(t,e),bl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(g){wu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),ve(l,a);var c=ve(l,o);for(a=0;a<u.length;a+=2){var h=u[a],p=u[a+1];"style"===h?ge(i,p):"dangerouslySetInnerHTML"===h?he(i,p):"children"===h?pe(i,p):v(i,h,p,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ne(i,!!o.multiple,m,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){wu(e,e.return,g)}}break;case 6:if(fl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){wu(e,e.return,g)}}break;case 3:if(fl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){wu(e,e.return,g)}break;case 4:default:fl(t,e),bl(e);break;case 13:fl(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(c=Qa)||h,fl(t,e),Qa=c):fl(t,e),bl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(p=Ja=h;null!==Ja;){switch(m=(d=Ja).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Za(d,d.return);var f=d.stateNode;if("function"===typeof f.componentWillUnmount){r=d,n=d.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){wu(r,n,g)}}break;case 5:Za(d,d.return);break;case 22:if(null!==d.memoizedState){El(p);continue}}null!==m?(m.return=d,Ja=m):El(p)}h=h.sibling}e:for(h=null,p=e;;){if(5===p.tag){if(null===h){h=p;try{i=p.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=p.stateNode,a=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=fe("display",a))}catch(g){wu(e,e.return,g)}}}else if(6===p.tag){if(null===h)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){wu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),bl(e),4&r&&ml(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){wu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var u=Qa;if(Ya=o,(Qa=l)&&!u)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?Tl(i):null!==l?(l.return=o,Ja=l):Tl(i);for(;null!==s;)Ja=s,vl(s,t,n),s=s.sibling;Ja=i,Ya=a,Qa=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):_l(e)}}function _l(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var p=h.dehydrated;null!==p&&qt(p)}}}break;default:throw Error(s(163))}Qa||512&t.flags&&il(t)}catch(d){wu(t,t.return,d)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Tl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){wu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){wu(t,i,l)}}var s=t.return;try{il(t)}catch(l){wu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){wu(t,o,l)}}}catch(l){wu(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var xl,wl=Math.ceil,Al=_.ReactCurrentDispatcher,Sl=_.ReactCurrentOwner,kl=_.ReactCurrentBatchConfig,Cl=0,Il=null,Nl=null,Ol=0,Rl=0,Dl=wi(0),Pl=0,Ll=null,Ml=0,Fl=0,jl=0,Bl=null,Ul=null,Hl=0,ql=1/0,zl=null,Vl=!1,Gl=null,Kl=null,Wl=!1,Xl=null,Yl=0,Ql=0,$l=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Cl)?$e():-1!==Jl?Jl:Jl=$e()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(s(185));bt(e,n,r),0!==(2&Cl)&&e===Il||(e===Il&&(0===(2&Cl)&&(Fl|=n),4===Pl&&au(e,Ol)),ru(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=$e()+500,Bi&&qi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=dt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=pt(e,e===Il?Ol:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Bi=!0,Hi(e)}(lu.bind(null,e)):Hi(lu.bind(null,e)),oi((function(){0===(6&Cl)&&qi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Tu()&&e.callbackNode!==n)return null;var r=pt(e,e===Il?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Cl;Cl|=2;var o=mu();for(Il===e&&Ol===t||(zl=null,ql=$e()+500,pu(e,t));;)try{yu();break}catch(l){du(e,l)}Ss(),Al.current=o,Cl=i,null!==Nl?t=0:(Il=null,Ol=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,pu(e,0),au(e,r),ru(e,$e()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=mt(e))&&(r=o,t=su(e,o))),1===t))throw n=Ll,pu(e,0),au(e,r),ru(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Eu(e,Ul,zl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Hl+500-$e())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Ul,zl),t);break}Eu(e,Ul,zl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wl(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Ul,zl),r);break}Eu(e,Ul,zl);break;default:throw Error(s(329))}}}return ru(e,$e()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function au(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Cl))throw Error(s(327));Tu();var t=pt(e,0);if(0===(1&t))return ru(e,$e()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,pu(e,0),au(e,t),ru(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Ul,zl),ru(e,$e()),null}function uu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=$e()+500,Bi&&qi())}}function cu(e){null!==Xl&&0===Xl.tag&&0===(6&Cl)&&Tu();var t=Cl;Cl|=1;var n=kl.transition,r=vt;try{if(kl.transition=null,vt=1,e)return e()}finally{vt=r,kl.transition=n,0===(6&(Cl=t))&&qi()}}function hu(){Rl=Dl.current,Ai(Dl)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Qs(),Ai(Ii),Ai(Ci),no();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:Ai(Zs);break;case 10:ks(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Il=e,Nl=e=Du(e.current,null),Ol=Rl=t,Pl=0,Ll=null,jl=Fl=Ml=0,Ul=Bl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return e}function du(e,t){for(;;){var n=Nl;try{if(Ss(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Sl.current=null,null===n||null===n.return){Pl=1,Ll=t,Nl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,p=h.tag;if(0===(1&h.mode)&&(0===p||11===p||15===p)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=ga(a);if(null!==m){m.flags&=-257,ba(m,a,l,0,t),1&m.mode&&fa(o,c,t),u=c;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(u),t.updateQueue=g}else f.add(u);break e}if(0===(1&t)){fa(o,c,t),fu();break e}u=Error(s(426))}else if(is&&1&l.mode){var b=ga(a);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),ba(b,a,l,0,t),ms(ua(u,l));break e}}o=u=ua(u,l),4!==Pl&&(Pl=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,da(0,u,t));break e;case 1:l=u;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Kl||!Kl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_u(n)}catch(_){t=_,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mu(){var e=Al.current;return Al.current=Jo,null===e?Jo:e}function fu(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Il||0===(268435455&Ml)&&0===(268435455&Fl)||au(Il,Ol)}function gu(e,t){var n=Cl;Cl|=2;var r=mu();for(Il===e&&Ol===t||(zl=null,pu(e,t));;)try{bu();break}catch(i){du(e,i)}if(Ss(),Cl=n,Al.current=r,null!==Nl)throw Error(s(261));return Il=null,Ol=0,Pl}function bu(){for(;null!==Nl;)vu(Nl)}function yu(){for(;null!==Nl&&!Ye();)vu(Nl)}function vu(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_u(e):Nl=t,Sl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Pl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Pl&&(Pl=5)}function Eu(e,t,n){var r=vt,i=kl.transition;try{kl.transition=null,vt=1,function(e,t,n,r){do{Tu()}while(null!==Xl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Il&&(Nl=Il=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Iu(tt,(function(){return Tu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var a=vt;vt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(ei=Vt,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,p=e,d=null;t:for(;;){for(var m;p!==n||0!==i&&3!==p.nodeType||(l=a+i),p!==o||0!==r&&3!==p.nodeType||(u=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(m=p.firstChild);)d=p,p=m;for(;;){if(p===e)break t;if(d===n&&++c===i&&(l=a),d===o&&++h===r&&(u=a),null!==(m=p.nextSibling))break;d=(p=d).parentNode}p=m}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,b=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(E){wu(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}f=tl,tl=!1}(e,n),gl(n,e),mr(ti),Vt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Cl=l,vt=a,kl.transition=o}else e.current=n;if(Wl&&(Wl=!1,Xl=e,Yl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&Tu(),o=e.pendingLanes,0!==(1&o)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,qi()}(e,t,n,r)}finally{kl.transition=i,vt=r}return null}function Tu(){if(null!==Xl){var e=_t(Yl),t=kl.transition,n=vt;try{if(kl.transition=null,vt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var p=h.child;if(null!==p)p.return=h,Ja=p;else for(;null!==Ja;){var d=(h=Ja).sibling,m=h.return;if(sl(h),h===c){Ja=null;break}if(null!==d){d.return=m,Ja=d;break}Ja=m}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var v=e.current;for(Ja=v;null!==Ja;){var _=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Ja=_;else e:for(a=v;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(T){wu(l,l.return,T)}if(l===a){Ja=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Ja=E;break e}Ja=l.return}}if(Cl=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(T){}r=!0}return r}finally{vt=n,kl.transition=t}}return!1}function xu(e,t,n){e=Bs(e,t=da(0,t=ua(n,t),1),1),t=eu(),null!==e&&(bt(e,1,t),ru(e,t))}function wu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bs(t,e=ma(t,e=ua(n,e),1),1),e=eu(),null!==t&&(bt(t,1,e),ru(t,e));break}}t=t.return}}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ol&n)===n&&(4===Pl||3===Pl&&(130023424&Ol)===Ol&&500>$e()-Hl?pu(e,0):jl|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ps(e,t))&&(bt(e,t,n),ru(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Su(e,n)}function Iu(e,t){return We(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Nu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ru(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Lu(n.children,i,o,t);case w:a=8,i|=8;break;case A:return(e=Ou(12,n,t,2|i)).elementType=A,e.lanes=o,e;case I:return(e=Ou(13,n,t,i)).elementType=I,e.lanes=o,e;case N:return(e=Ou(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case k:a=9;break e;case C:a=11;break e;case O:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,s,o,a,l){return e=new Bu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Hu(e){if(!e)return ki;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qu(e,t,n,r,i,s,o,a,l){return(e=Uu(n,r,!0,e,0,s,0,a,l)).context=Hu(null),n=e.current,(s=js(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,bt(e,i,r),ru(e,r),e}function zu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,o))&&(nu(e,i,o,s),Us(e,i,o)),o}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)va=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),ds();break;case 5:$s(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Ts,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Si(Zs,1&Zs.current),null!==(e=Va(e,t,n))?e.sibling:null);Si(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,wa(e,t,n)}return Va(e,t,n)}(e,t,n);va=0!==(131072&e.flags)}else va=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;za(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Is(t,n),i=go(null,t,r,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=na(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ta(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),r===i){t=Va(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Aa(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fa(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_s(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(Ts,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ii.current){t=Va(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=js(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ns(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ta(e,t,r,i=na(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),za(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Is(t,n),oa(t,r,i),la(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return wa(e,t,n)}throw Error(s(156,t.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Vu(o);a.call(e)}}zu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Vu(o);s.call(e)}}var o=qu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[mi]=o.current,qr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vu(l);a.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[mi]=l.current,qr(8===e.nodeType?e.parentNode:e),cu((function(){zu(t,l,n,r)})),l}(n,t,e,i,r);return Vu(o)}Yu.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zu(e,t,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){zu(null,e,null,null)})),t[mi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,$e()),0===(6&Cl)&&(ql=$e()+500,qi()))}break;case 13:cu((function(){var t=Ps(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ku(e,1)}},Tt=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Ps(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},wt=function(){return vt},At=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));W(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uu,Ie=cu;var ec={usingClientEntryPoint:!1,Events:[vi,_i,Ei,Se,ke,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(s(299));var n=!1,r="",i=Wu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Wu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,o,a),e[mi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!$u(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8660:(e,t,n)=>{"use strict";n.d(t,{HotKeys:()=>Ye});var r=n(5173),i=n.n(r),s=n(5043);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function g(e,t,n){return g=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},g.apply(null,arguments)}function b(e){var t="function"===typeof Map?new Map:void 0;return b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},b(e)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?v(e):t}function E(e,t,n){return E="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},E(e,t,n||e)}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return e.reduce((function(e,n){return e[n]=t||{value:n},e}),{})}var w={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var n=t.tagName.toLowerCase();return S.option("_ignoreTagsDict")[n]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},A=p({},w);A._ignoreTagsDict=x(A.ignoreTags,!0);var S=function(){function e(){a(this,e)}return u(e,null,[{key:"init",value:function(e){var t=this,n=e.ignoreTags,r=e.customKeyCodes;n&&(e._ignoreTagsDict=x(e.ignoreTags)),r&&(e._customKeyNamesDict=x(Object.values(e.customKeyCodes))),-1!==["verbose","debug","info"].indexOf(e.logLevel)&&console.warn("React HotKeys: You have requested log level '".concat(e.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(e).forEach((function(n){t.set(n,e[n])}))}},{key:"set",value:function(e,t){A[e]=t}},{key:"reset",value:function(e){A[e]=w[e]}},{key:"option",value:function(e){return A[e]}}]),e}(),k=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"warn";a(this,e),c(this,"verbose",this.noop),c(this,"debug",this.noop),c(this,"info",this.noop),c(this,"warn",this.noop),c(this,"error",this.noop),this.logLevel=this.constructor.levels[n],this.logLevel>=this.constructor.levels.error&&(this.error=console.error,this.logLevel>=this.constructor.levels.warn&&(this.warn=console.warn,["info","debug","verbose"].some((function(e){return!(t.logLevel>=t.constructor.levels[e])||(t[e]=console.log,!1)}))))}return u(e,[{key:"noop",value:function(){}}]),e}();c(k,"logIcons",["\ud83d\udcd5","\ud83d\udcd7","\ud83d\udcd8","\ud83d\udcd9"]),c(k,"componentIcons",["\ud83d\udd3a","\u2b50\ufe0f","\ud83d\udd37","\ud83d\udd36","\u2b1b\ufe0f"]),c(k,"eventIcons",["\u2764\ufe0f","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9b","\ud83d\udc9c","\ud83e\udde1"]),c(k,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});var C={keydown:0,keypress:1,keyup:2},I={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},N={"`":["~"],1:["!"],2:["@",'"'],3:["#","\xa3"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};function O(e){return N[e]||[1===e.length?e.toUpperCase():e]}function R(e,t){return e.hasOwnProperty(t)}function D(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(n,r){var i=e[r];return i.forEach((function(e){R(n,e)||(n[e]=[]),n[e].push(r)})),t.includeOriginal&&(!R(n,r)&&(n[r]=[]),n[r]=[].concat(T(n[r]),T(i))),n}),{})}var P=D(N);function L(e){return P[e]||[1===e.length?e.toLowerCase():e]}var M=D({},{includeOriginal:!0});function F(e){return"string"==typeof e}var j={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},B={cmd:"Meta"};function U(e){var t=e.toLowerCase();return j[t]||B[t]||(e.match(/^f\d+$/)?e.toUpperCase():e)}var H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q=x(Object.values(H),!0);function z(e){return!!q[e]}function V(e){return z(e)||String.fromCharCode(e.charCodeAt(0))===e||function(e){return S.option("_customKeyNamesDict")[e]}(e)}var G=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return c(v(v(n=_(this,(e=m(t)).call.apply(e,[this].concat(i))))),"name","InvalidKeyNameError"),n}return d(t,e),t}(b(Error));function K(e){return e.sort().join("+")}var W=function(){function e(){a(this,e)}return u(e,null,[{key:"parse",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return F(e)?e.trim().replace(/\s+/g," "):e}(e),r=n.split(" ");try{var i=r.slice(0,r.length-1),s=r[r.length-1],o=i.map((function(e){var n=X(e,t);return K(Object.keys(n))})).join(" "),a=X(s,t),l={id:K(Object.keys(a)),keyDictionary:a,keyEventType:t.keyEventType,size:Object.keys(a).length};return{sequence:{prefix:o,size:i.length+1},combination:l}}catch(e){return{sequence:null,combination:null}}}}]),e}();function X(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce((function(e,n){var r=U(n);if(t.ensureValidKeys&&!V(r))throw new G;return e[r]=!0,e}),{})}var Y={"`":["`"],1:["\xa1"],2:["\u2122"],3:["\xa3"],4:["\xa2"],5:["\u221e"],6:["\xa7"],7:["\xb6"],8:["\u2022"],9:["\xaa"],0:["\xba"],"-":["\u2013"],"=":["\u2260"],a:["\xe5"],b:["\u222b"],c:["\xe7"],d:["\u2202"],e:["\xb4"],f:["\u0192"],g:["\xa9"],h:["\u02d9"],i:["\u02c6"],j:["\u2206"],k:["\u02da"],l:["\xac"],m:["\xb5"],n:["\u02dc"],o:["\xf8"],p:["\u03c0"],q:["\u0153"],r:["\xae"],s:["\xdf"],t:["\u2020"],u:["\xa8"],v:["\u221a"],w:["\u2211"],x:["\u2248"],y:["\xa5"],z:["\u03a9"],"[":["\u201c"],"]":["\u2018"],"\\":["\xab"],"'":["\xe6"],";":["\u2026"],",":["\u2264"],".":["\u2265"],"/":["\xf7"]},Q=D(Y);function $(e){return Q[e]||[e]}function J(e){return Y[e]||[e]}var Z={"`":["`"],1:["\u2044"],2:["\u20ac"],3:["\u2039"],4:["\u203a"],5:["\ufb01"],6:["\ufb02"],7:["\u2021"],8:["\xb0"],9:["\xb7"],0:["\u201a"],"-":["\u2014"],"=":["\xb1"],a:["\xc5"],b:["\u0131"],c:["\xc7"],d:["\xce"],e:["\xb4"],f:["\xcf"],g:["\u02dd"],h:["\xd3"],i:["\u02c6"],j:["\xd4"],k:["\uf8ff"],l:["\xd2"],m:["\xc2"],n:["\u02dc"],o:["\xd8"],p:["\u03c0"],q:["\u0152"],r:["\u2030"],s:["\xcd"],t:["\xce"],u:["\xa8"],v:["\u25ca"],w:["\u201e"],x:["\u02db"],y:["\xc1"],z:["\xb8"],"[":["\u201d"],"]":["\u2019"],"\\":["\xbb"],"'":["\xc6"],";":["\xda"],",":["\xaf"],".":["\u02d8"]},ee=D(Z);function te(e){return ee[e]||L(e)}function ne(e){return Z[e]||[e]}var re=function(){function e(){a(this,e)}return u(e,null,[{key:"serialize",value:function(e){var t=e.Shift,n=e.Alt,r={};return Object.keys(e).sort().forEach((function(e){var i=[];if(t)if(n){var s=te(e),o=ne(e);i=[].concat(T(i),[e],T(s),T(o))}else{var a=L(e),l=O(e);i=[].concat(T(i),[e],T(a),T(l))}else if(n){var u=$(e),h=J(e);i=[].concat(T(i),[e],T(u),T(h))}else{i.push(e);var d=M[e];d&&(i=[].concat(T(i),T(d)))}var m=Object.keys(r);0<m.length?m.forEach((function(e){i.forEach((function(t){r[e+"+".concat(t)]=p({},r[e],c({},t,!0))})),delete r[e]})):i.forEach((function(e){r[e]=c({},e,!0)}))})),Object.values(r).map((function(e){return Object.keys(e).sort().join("+")}))}},{key:"isValidKeySerialization",value:function(e){return!!(0<e.length)&&!!W.parse(e,{ensureValidKeys:!0}).combination}}]),e}(),ie=0,se=1;function oe(e){return"undefined"==typeof e}var ae=0,le=1,ue=2,ce=function(){function e(){a(this,e)}return u(e,null,[{key:"newRecord",value:function(e,t){var n=[ae,ae,ae];if(!oe(e))for(var r=0;r<=e;r++)n[r]=t;return n}},{key:"setBit",value:function(e,t,n){return e[t]=n,e}},{key:"clone",value:function(e){for(var t=this.newRecord(),n=0;n<e.length;n++)t[n]=e[n];return t}}]),e}();function he(e){return!Array.isArray(e)&&"object"===o(e)&&null!==e}function pe(e){return he(e)?0===Object.keys(e).length:!e||0===e.length}function de(e){return he(e)?Object.keys(e).length:e.length}var me=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this._keys=t,this._includesKeyUp=!1,this._update()}return u(e,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(e){if(this._keys[e])return e;var t=this._keyAliases[e];return t||e}},{key:"getNumberOfKeys",value:function(){return de(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return pe(this.keysStillPressedDict())}},{key:"addKey",value:function(e,t){this._setKeyState(e,[ce.newRecord(),ce.newRecord(C.keydown,t)])}},{key:"setKeyState",value:function(e,t,n){var r=this._getKeyState(e);if(this.isKeyIncluded(e)){var i=ce.clone(r[1]),s=ce.clone(i);ce.setBit(s,t,n),this._setKeyState(e,[i,s])}else this.addKey(e,n);t===C.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(e){return Object.keys(this._keys).forEach(e)}},{key:"some",value:function(e){return Object.keys(this._keys).some(e)}},{key:"getKeyDictionary",value:function(){return x(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var e=this;return Object.keys(this._keys).reduce((function(t,n){return e.isKeyStillPressed(n)&&(t[n]=e._getKeyState(n)),t}),{})}},{key:"isKeyIncluded",value:function(e){return!!this._getKeyState(e)}},{key:"isKeyStillPressed",value:function(e){return this.isEventTriggered(e,C.keypress)&&!this.isKeyReleased(e)}},{key:"isKeyReleased",value:function(e){return this.isEventTriggered(e,C.keyup)}},{key:"isEventTriggered",value:function(e,t){return this._getKeyStateType(e,se,t)}},{key:"wasEventPreviouslyTriggered",value:function(e,t){return this._getKeyStateType(e,ie,t)}},{key:"isKeyPressSimulated",value:function(e){return this._isKeyEventSimulated(e,C.keypress)}},{key:"isKeyUpSimulated",value:function(e){return this._isKeyEventSimulated(e,C.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(e,t,n){var r=this._getKeyState(e);return r&&r[t][n]}},{key:"_update",value:function(){this._ids=re.serialize(this._keys),this._keyAliases=function(e){return Object.keys(e).reduce((function(t,n){return function(e){return M[e]||[e]}(n).forEach((function(r){(function(e){if(e.Shift)return e.Alt?[ne,te]:[O,L];if(e.Alt)return[J,$];var t=function(e){return[e]};return[t,t]})(e).forEach((function(e){e(r).forEach((function(e){(e!==n||n!==r)&&(t[e]=n)}))}))})),t}),{})}(this._keys)}},{key:"_isKeyEventSimulated",value:function(e,t){return this.isEventTriggered(e,t)===ue}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(e){var t=this._keys[e];if(t)return t;var n=this._keyAliases[e];return n?this._keys[n]:void 0}},{key:"_setKeyState",value:function(e,t){var n=this.getNormalizedKeyName(e);this._keys[n]=t,this._update()}}]),e}();var fe=function(){function e(t){var n=t.maxLength,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;a(this,e),this._records=[],this._maxLength=n,r?this._push(r):this._push(new me)}return u(e,[{key:"getMostRecentCombinations",value:function(e){return this._records.slice(-e,-1)}},{key:"any",value:function(){return this._records.some((function(e){return e.any()}))}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(e,t,n){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(e,t,n)}},{key:"setMaxLength",value:function(e){this._maxLength=e,this._trimHistory()}},{key:"startNewKeyCombination",value:function(e,t){this._ensureInitialKeyCombination();var n=new me(this.getCurrentCombination().keysStillPressedDict());n.addKey(e,t),this._push(n)}},{key:"toJSON",value:function(){return this._records.map((function(e){return e.toJSON()}))}},{key:"_ensureInitialKeyCombination",value:function(){0===this.getLength()&&this._push(new me)}},{key:"_push",value:function(e){this._trimHistory(),this._records.push(e)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),e}();function ge(e){return Array.isArray(e)?e:e?[e]:[]}var be=function(e){function t(){return a(this,t),_(this,m(t).apply(this,arguments))}return d(t,e),u(t,[{key:"add",value:function(e,n){E(m(t.prototype),"set",this).call(this,e,{childIds:[],parentId:null,keyMap:n})}},{key:"update",value:function(e,n){var r=E(m(t.prototype),"get",this).call(this,e);E(m(t.prototype),"set",this).call(this,e,p({},r,{keyMap:n}))}},{key:"setParent",value:function(e,t){this.get(e).parentId=t,this._addChildId(t,e)}},{key:"remove",value:function(e){var n=this._getParentId(e);this._removeChildId(n,e),E(m(t.prototype),"remove",this).call(this,e)}},{key:"_getParentId",value:function(e){var t=this.get(e);return t&&t.parentId}},{key:"_addChildId",value:function(e,t){this.get(e).childIds.push(t)}},{key:"_removeChildId",value:function(e,t){var n=this.get(e);n&&(n.childIds=function(e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=x(ge(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]));return Array.isArray(e)?e.reduce((function(e,r){return n[r]&&(t.stringifyFirst||n[r].value===r)||e.push(r),e}),[]):he(e)?Object.keys(e).reduce((function(t,r){return n[r]||(t[r]=e[r]),t}),{}):e}(n.childIds,t))}}]),t}(function(){function e(){a(this,e),this._registry={}}return u(e,[{key:"get",value:function(e){return this._registry[e]}},{key:"set",value:function(e,t){this._registry[e]=t}},{key:"remove",value:function(e){delete this._registry[e]}},{key:"toJSON",value:function(){return this._registry}}]),e}());var ye=function(){function e(t){a(this,e),this._list=t,this._position=-1}return u(e,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),e}(),ve=function(){function e(){a(this,e),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=ce.newRecord()}return u(e,[{key:"getNewIterator",value:function(){return new ye(this)}},{key:"add",value:function(e,t,n,r){if(this.containsId(e))return this.update(e,t,n,r);var i=this._build(e,t,n,r);this._list.push(i);var s=this._getLastIndex();return this._idToIndex[e]=s}},{key:"containsId",value:function(e){return!!this.get(e)}},{key:"get",value:function(e){return this.getAtPosition(this.getIndexById(e))}},{key:"getIndexById",value:function(e){return this._idToIndex[e]}},{key:"update",value:function(e,t,n,r){var i=this._isUpdatingComponentWithLongestSequence(e),s=this.getLongestSequence(),o=this._build(e,t,n,r);i&&o.sequenceLength!==s&&(o.sequenceLength>s?this._longestSequence=o.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(e)]=o}},{key:"remove",value:function(e){var t=this._isUpdatingComponentWithLongestSequence(e);this.removeAtPosition(this.getIndexById(e)),t&&this._recalculateLongestSequence()}},{key:"any",value:function(){return 0!==this.getLength()}},{key:"isRoot",value:function(e){return this.getIndexById(e)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(e){return!!this._keyMapEventRecord[e]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(e){return this._list[e]}},{key:"removeAtPosition",value:function(e){this._list=function(e,t){return[].concat(T(e.slice(0,t)),T(e.slice(t+1)))}(this._list,e);for(var t=e;t<this.getLength();)this._idToIndex[this.getAtPosition(t).componentId]=t,t++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(e,t,n,r){var i=this._applyHardSequences(t,n),s=i.keyMap,o=i.handlers;return{actions:this._buildActionDictionary(p({},t,s),r,e),handlers:o,componentId:e,options:r}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(e){return e===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var e=this.getNewIterator();e.next();){var t=e.getComponent(),n=t.longestSequence,r=t.componentId;n>this.getLongestSequence()&&(this._longestSequenceComponentId=r,this._longestSequence=n)}}},{key:"_applyHardSequences",value:function(e,t){return S.option("enableHardSequences")?Object.keys(t).reduce((function(n,r){return!!!e[r]&&re.isValidKeySerialization(r)&&(n.keyMap[r]=r),n.handlers[r]=t[r],n}),{keyMap:{},handlers:{}}):{keyMap:e,handlers:t}}},{key:"_buildActionDictionary",value:function(e,t,n){var r=this;return Object.keys(e).reduce((function(i,s){var o=e[s];return(he(o)&&R(o,"sequences")?ge(o.sequences):ge(o)).forEach((function(e){var o=function(e,t){if(he(e)){var n=e.sequence,r=e.action;return{keySequence:n,keyEventType:oe(r)?C[t.defaultKeyEvent]:C[r]}}return{keySequence:e,keyEventType:C[t.defaultKeyEvent]}}(e,t),a=o.keySequence,l=o.keyEventType;r._addActionOptions(i,n,s,a,l)})),i}),{})}},{key:"_addActionOptions",value:function(e,t,n,r,i){var s=W.parse(r,{keyEventType:i}),o=s.sequence,a=s.combination;o.size>this.getLongestSequence()&&(this._longestSequence=o.size,this._longestSequenceComponentId=t),this._keyMapEventRecord[i]=le,e[n]||(e[n]=[]),e[n].push(p({prefix:o.prefix,actionName:n,sequenceLength:o.size},a))}}]),e}();function _e(e,t){return e[e.length-(t+1)]}for(var Ee={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},Te=1;13>Te;Te++)Ee["F".concat(Te)]=!0;function xe(e){return 1===e.length||R(Ee,e)}var we=function(){function e(){a(this,e),this._actionConfigs={},this._order=null}return u(e,[{key:"addMatch",value:function(e,t){if(this._includesMatcherForCombination(e.id)){var n=e.keyEventType,r=e.actionName,i=e.id;this._addHandlerToActionConfig(i,{keyEventType:n,actionName:r,handler:t})}else this._addNewActionConfig(e,t)}},{key:"findMatch",value:function(e,t,n){this._order||this._setOrder();var r=!0,i=!1,s=void 0;try{for(var o,a=this._order[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value,u=this._actionConfigs[l];if(this._matchesActionConfig(e,t,n,u))return u}}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(e,t,n,r){if(!function(e,t){var n=de(t.keyDictionary);return S.option("allowCombinationSubmatches")||function(e){return!!e.isKeyStillPressed("Meta")&&e.some((function(e){return xe(e)}))}(e)?e.getNumberOfKeys()>=n:e.getNumberOfKeys()===n}(e,r))return!1;if(!r.events[n])return!1;var i=!1;return Object.keys(r.keyDictionary).every((function(r){return!!e.isEventTriggered(r,n)&&(t&&t===e.getNormalizedKeyName(r)&&(i=!e.wasEventPreviouslyTriggered(r,n)),!0)}))&&i}},{key:"_setOrder",value:function(){var e=Object.values(this._actionConfigs).reduce((function(e,t){var n=t.id,r=t.size;return e[r]||(e[r]=[]),e[r].push(n),e}),{});this._order=Object.keys(e).sort((function(e,t){return t-e})).reduce((function(t,n){return t.concat(e[n])}),[])}},{key:"_addNewActionConfig",value:function(e,t){var n=e.prefix,r=e.sequenceLength,i=e.id,s=e.keyDictionary,o=e.size,a=e.keyEventType,l=e.actionName;this._setCombinationMatcher(i,{prefix:n,sequenceLength:r,id:i,keyDictionary:s,size:o,events:{}}),this._addHandlerToActionConfig(i,{keyEventType:a,actionName:l,handler:t})}},{key:"_addHandlerToActionConfig",value:function(e,t){var n=t.keyEventType,r=t.actionName,i=t.handler,s=this._getCombinationMatcher(e);this._setCombinationMatcher(e,p({},s,{events:p({},s.events,c({},n,{actionName:r,handler:i}))}))}},{key:"_setCombinationMatcher",value:function(e,t){this._actionConfigs[e]=t}},{key:"_getCombinationMatcher",value:function(e){return this._actionConfigs[e]}},{key:"_includesMatcherForCombination",value:function(e){return!!this._getCombinationMatcher(e)}}]),e}();var Ae=function(){function e(){a(this,e),this._combinationMatchers={},this._eventRecord=ce.newRecord()}return u(e,[{key:"addMatch",value:function(e,t){this._getOrCreateCombinationMatcher(e.prefix).addMatch(e,t),ce.setBit(this._eventRecord,e.keyEventType,le),(!this._longestSequence||this._longestSequence<e.sequenceLength)&&(this._longestSequence=e.sequenceLength)}},{key:"findMatch",value:function(e,t,n){var r=this._findCombinationMatcher(e);return r?r.findMatch(e.getCurrentCombination(),e.getCurrentCombination().getNormalizedKeyName(t),n):null}},{key:"hasMatchesForEventType",value:function(e){return!!this._eventRecord[e]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var e=this;return Object.keys(this._combinationMatchers).reduce((function(t,n){var r=e._combinationMatchers[n];return t[n]=r.toJSON(),t}),{})}},{key:"_getOrCreateCombinationMatcher",value:function(e){return this._combinationMatchers[e]||(this._combinationMatchers[e]=new we),this._combinationMatchers[e]}},{key:"_findCombinationMatcher",value:function(e){var t=e.getMostRecentCombinations(this.getLongestSequence());if(0===t.length)return this._combinationMatchers[""];for(var n=t.map((function(e){return e.getIds()})),r=n.map((function(e){return e.length})),i=Array(n.length).fill(0),s=!1;!s;){var o=i.map((function(e,t){return n[t][e]})),a=o.join(" ");if(this._combinationMatchers[a])return this._combinationMatchers[a];for(var l=0,u=!0;u&&l<i.length;){var c=(_e(i,l)+1)%(_e(r,l)||1);i[i.length-(l+1)]=c,(u=0==c)&&l++}s=l===i.length}}}]),e}(),Se=function(){function e(t){a(this,e),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var n=t.getNewIterator();n.next();){var r=n.getComponent().handlers;this._unmatchedHandlerStatus.push([Object.keys(r).length,{}]),this._keyMapMatchers.push(new Ae)}this._componentList=t,this._componentListIterator=t.getNewIterator()}return u(e,[{key:"getKeyHistoryMatcher",value:function(e){if(this._componentHasUnmatchedHandlers(e))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(e)}},{key:"componentHasActionsBoundToEventType",value:function(e,t){return this.getKeyHistoryMatcher(e).hasMatchesForEventType(t)}},{key:"findMatchingKeySequenceInComponent",value:function(e,t,n,r){return this.componentHasActionsBoundToEventType(e,r)?this.getKeyHistoryMatcher(e).findMatch(t,n,r):null}},{key:"_getKeyHistoryMatcher",value:function(e){return this._keyMapMatchers[e]}},{key:"_addActionsFromComponent",value:function(){var e=this,t=this._componentListIterator.getComponent().actions;Object.keys(t).forEach((function(n){var r=e._getHandlers(n);if(r){var i=r[0],s=e._componentList.getAtPosition(i).handlers[n],o=e._getKeyHistoryMatcher(i);t[n].forEach((function(t){var n=[t.prefix,t.id].join(" ");e._isClosestHandlerFound(n,t)||(o.addMatch(t,s),e._addKeySequence(n,[i,t.keyEventType]))})),r.forEach((function(t){var r=e._getUnmatchedHandlerStatus(t);r[1][n]||(r[1][n]=!0,r[0]--)}))}}))}},{key:"_getHandlers",value:function(e){return this._handlersDictionary[e]}},{key:"_addHandlersFromComponent",value:function(){var e=this,t=this._componentListIterator.getComponent().handlers;Object.keys(t).forEach((function(t){e._addHandler(t)}))}},{key:"_addHandler",value:function(e){this._handlersDictionary[e]||(this._handlersDictionary[e]=[]),this._handlersDictionary[e].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(e,t){this._keySequencesDictionary[e]||(this._keySequencesDictionary[e]=[]),this._keySequencesDictionary[e].push(t)}},{key:"_componentHasUnmatchedHandlers",value:function(e){return 0<this._getUnmatchedHandlerStatus(e)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(e){return this._unmatchedHandlerStatus[e]}},{key:"_isClosestHandlerFound",value:function(e,t){return this._keySequencesDictionary[e]&&this._keySequencesDictionary[e].some((function(e){return e[1]===t.keyEventType}))}}]),e}();function ke(e,t,n){return n.forEach((function(n){R(e,n)&&(t[n]=e[n])})),t}function Ce(e){switch(parseInt(e,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function Ie(e){return e.simulated?ue:le}var Ne=["sequence","action"],Oe=["name","description","group"],Re=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;a(this,e),this.logger=t.logger||new k("warn"),this.componentId=-1,this.keyEventManager=n,this._componentTree=new be,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return u(e,[{key:"_reset",value:function(){this.componentList=new ve,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new fe({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory||(this._keyHistory=this._newKeyHistory()),this._keyHistory}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!e.force?new fe({maxLength:this.componentList.getLongestSequence()},new me(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return null===this.rootComponentId?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(e,t){var n=this;return e.forEach((function(e){var r=n._componentTree.get(e),i=r.childIds,s=r.keyMap;s&&Object.keys(s).forEach((function(e){var r=s[e];t[e]={},he(r)?R(r,"sequences")?(ke(r,t[e],Oe),t[e].sequences=n._createSequenceFromConfig(r.sequences)):(ke(r,t[e],Oe),t[e].sequences=[ke(r,{},Ne)]):t[e].sequences=n._createSequenceFromConfig(r)})),n._buildApplicationKeyMap(i,t)})),t}},{key:"_createSequenceFromConfig",value:function(e){return ge(e).map((function(e){return he(e)?ke(e,{},Ne):{sequence:e}}))}},{key:"registerKeyMap",value:function(e){return this.componentId+=1,this._componentTree.add(this.componentId,e),this.componentId}},{key:"reregisterKeyMap",value:function(e,t){this._componentTree.update(e,t)}},{key:"registerComponentMount",value:function(e,t){oe(t)?this.rootComponentId=e:this._componentTree.setParent(e,t)}},{key:"deregisterKeyMap",value:function(e){this._componentTree.remove(e),e===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;this.componentList.add(e,t,n,r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(e,t){var n=function(e){return!z(e)}(t),r=this.getCurrentCombination();return e===C.keypress?!n||n&&r.isKeyStillPressed("Meta"):e===C.keyup&&xe(t)&&r.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(e,t){var n=Object.keys(I).reduce((function(t,n){return t[n]=e[n],t}),{});return p({},n,t)}},{key:"_callClosestMatchingHandler",value:function(e,t,n,r,i){for(this._actionResolver||(this._actionResolver=new Se(this.componentList));i<=r;){this._actionResolver.getKeyHistoryMatcher(i);var s=this._actionResolver.findMatchingKeySequenceInComponent(i,this.getKeyHistory(),t,n);this.getCurrentCombination();if(s){var o=s.events[n];if(S.option("allowCombinationSubmatches"))re.serialize(s.keyDictionary);return o.handler(e),this._stopEventPropagationAfterHandlingIfEnabled(e,i),!0}this._actionResolver.componentHasActionsBoundToEventType(i,n),i++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(e,t){return!!S.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(e,t),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(e,t,n){var r=this;Object.keys(I).forEach((function(i){if(t!==i||n!==C.keyup){var s=r.getCurrentCombination(),o=s.isKeyStillPressed(i);I[i].forEach((function(t){!1===e[t]&&o&&s.setKeyState(i,C.keyup,Ie(e))}))}}))}},{key:"_logPrefix",value:function(){}}]),e}(),De=function(){function e(){a(this,e)}return u(e,null,[{key:"getId",value:function(){return oe(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),e}();var Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};function Le(e){var t=function(){var t=S.option("customKeyCodes"),n=e.keyCode||e.charCode;return R(t,n)?t[n]:e.nativeEvent?e.key:function(e){if(e.key){var t=Pe[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),32<=t||13===t?t:0}(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?H[e.keyCode]||"Unidentified":""}(e)}();return"+"===t?"plus":t}function Me(e){return"Meta"===e}var Fe=0,je=1,Be=2,Ue=4,He=function(){function e(t,n){var r=n.logger,i=n.logPrefix;a(this,e),this._componentList=t,this._previousPropagation=null,this.logger=r,this._logPrefix=i,this._reset()}return u(e,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var e=this.getPreviousPosition();return-1===e||e>=this._position}},{key:"isForKey",value:function(e){return this._key===e}},{key:"isForEventType",value:function(e){return this._type===e}},{key:"startNewPropagationStep",value:function(e,t,n,r){return this._position=this._componentList.getIndexById(e),this._componentId=e,this.isFirstPropagationStep()&&(De.incrementId(),this._key=t.key,this._type=r),!(t.repeat&&S.option("ignoreRepeatedEventsWhenKeyHeldDown"))||(this.ignoreEvent(t),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(e){return this.setIgnoreEvent(!0),!(!this.isIgnoringEvent()||!S.option("stopEventPropagationAfterIgnoring"))&&(this.stop(e),this.finishPropagationStep(),!0)}},{key:"setIgnoreEvent",value:function(e){this._ignoreEvent=e}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(e){return!this.isStopped()&&(this._stopping=!0,e.simulated||e.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var e=this.getPreviousPosition();return-1!==e&&e+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).copyState,n=new e(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(void 0===t||t)&&Object.assign(n,this),n}}]),e}(),qe=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;return a(this,t),(e=_(this,m(t).call(this,n,r))).focusTreeId=0,e}return d(t,e),u(t,[{key:"_reset",value:function(){E(m(t.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new He(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(e))return this._addComponent(e,t,n,r),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length?arguments[4]:void 0;e===this.focusTreeId&&this.componentList.containsId(t)&&(this.componentList.update(t,n,r,i),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(e,t){return this.resetOnNextFocus||(this.resetOnNextFocus=!0),this.eventPropagator.isPendingPropagation()}},{key:"handleKeydown",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=Le(e);if(t!==this.focusTreeId)return this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,i,C.keydown)){if(this._howToHandleKeyEvent(e,t,n,i,r,C.keydown)===Ue){var s=Ie(e),o=this.getCurrentCombination();o.isKeyIncluded(i)||o.isEnding()?this._startAndLogNewKeyCombination(i,t,n,s):this._addToAndLogCurrentKeyCombination(i,C.keydown,t,n,s),this._callHandlerIfActionNotHandled(e,i,C.keydown,n,t)}return this._simulateKeyPressForNonPrintableKeys(e,i,t,n,r),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(e,t,n,r,i,s){if(this.eventPropagator.isFirstPropagationStep()){if(i.ignoreEventsCondition(e)&&this.eventPropagator.ignoreEvent(e))return this._eventIsToBeIgnored(e,n,r,s);this._checkForModifierFlagDiscrepancies(e,r,s)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(e,n,r,s);return Ue}},{key:"_eventIsToBeIgnored",value:function(e,t,n,r){return je}},{key:"handleKeyPress",value:function(e,t,n,r){var i=Le(e),s=this.getCurrentCombination();if(s.isKeyPressSimulated(i))return this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,i,C.keypress)){var o=t!==this.focusTreeId,a=this._howToHandleKeyEvent(e,t,n,i,r,C.keypress);return this.eventPropagator.isFirstPropagationStep(n)&&s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,C.keypress,t,n,Ie(e)),a===Ue&&this._callHandlerIfActionNotHandled(e,i,C.keypress,n,t),this.eventPropagator.finishPropagationStep(),o}}},{key:"handleKeyUp",value:function(e,t,n,r){var i=Le(e),s=this.getCurrentCombination();if(s.isKeyUpSimulated(i))return this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,i,C.keyup)){var o=t!==this.focusTreeId,a=this._howToHandleKeyEvent(e,t,n,i,r,C.keyup);return this.eventPropagator.isFirstPropagationStep(n)&&s.isKeyIncluded(i)&&this._addToAndLogCurrentKeyCombination(i,C.keyup,t,n,Ie(e)),a===Ue&&this._callHandlerIfActionNotHandled(e,i,C.keyup,n,t),this._simulateKeyUpEventsHiddenByCmd(e,i,t,n,r),this.eventPropagator.finishPropagationStep(),o}}},{key:"closeHangingKeyCombination",value:function(e,t){var n=this.getCurrentCombination();n.isKeyIncluded(e)&&!n.isEventTriggered(e,t)&&n.setKeyState(e,t,ue)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(e,t,n,r,i){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(C.keypress,t),{event:e,key:t,focusTreeId:n,componentId:r,options:i})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(e,t,n,r,i){var s=this;Me(t)&&this.getCurrentCombination().forEachKey((function(t){Me(t)||s._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",s._shouldSimulate(C.keyup,t),{event:e,key:t,focusTreeId:n,componentId:r,options:i})}))}},{key:"_stopEventPropagation",value:function(e,t){this.eventPropagator.stop(e)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(e,t,n,r){this.getKeyHistory().startNewKeyCombination(e,r)}},{key:"_addToAndLogCurrentKeyCombination",value:function(e,t,n,r,i){this.getKeyHistory().addKeyToCurrentCombination(e,t,i)}},{key:"_handleEventSimulation",value:function(e,t,n,r){var i=r.event,s=r.key,o=r.focusTreeId,a=r.componentId,l=r.options;if(n&&S.option("simulateMissingKeyPressEvents")){var u=this._cloneAndMergeEvent(i,{key:s,simulated:!0});this[e].push({event:u,focusTreeId:o,componentId:a,options:l})}(this.componentList.isRoot(a)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[t]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(e,t){var n=this;0<this[e].length&&De.incrementId(),this[e].forEach((function(e){var r=e.event,i=e.focusTreeId,s=e.componentId,o=e.options;n[t](r,i,s,o)})),this[e]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(e,t,n,r,i){this.getCurrentCombination().describe();if(this.componentList.anyActionsForEventType(n))if(this.eventPropagator.isHandled());else{var s=this.eventPropagator.getPreviousPosition(),o=this.componentList.getIndexById(r);this._callClosestMatchingHandler(e,t,n,o,-1===s?0:s)&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=k.logIcons,r=k.eventIcons,i=k.componentIcons,s="HotKeys (";if(!1!==t.focusTreeId){var o=oe(t.focusTreeId)?this.focusTreeId:t.focusTreeId;s+="F".concat(o).concat(n[o%n.length],"-")}if(!1!==t.eventId){var a=oe(t.eventId)?De.getId():t.eventId;s+="E".concat(a).concat(r[a%r.length],"-")}s+="C".concat(e).concat(i[e%i.length]);var l=this.componentList.getIndexById(e);return oe(l)||(s+="-P".concat(l).concat(i[l%i.length],":")),"".concat(s,")")}}]),t}(Re);function ze(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Array.isArray(e)||F(e)?n.stringifyFirst?!oe(e.find((function(e){return e.toString()===t.toString()}))):-1!==e.indexOf(t):he(e)?R(e,t):n.stringifyFirst?e.toString()===t.toString():e===t}function Ve(e){return e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}var Ge=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;return a(this,t),(e=_(this,m(t).call(this,n,r))).listenersBound=!1,e.eventOptions={ignoreEventsCondition:S.option("ignoreEventsCondition")},e.listeners={},e}return d(t,e),u(t,[{key:"enableHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0;this.eventOptions=i,this._addComponent(e,t,n,r),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0;this.eventOptions=i,this.componentList.update(e,t,n,r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(e){this.componentList.remove(e),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var e=this,t=this._listenersShouldBeBound();!this.listenersBound&&t?(Object.values(C).forEach((function(t){var n=Ce(t);document["on".concat(n)]=function(t){e.keyEventManager["handleGlobal".concat(function(e){return"".concat(Ve(e.slice(0,3))).concat(Ve(e.slice(3)))}(n))](t)}})),this.listenersBound=!0):this.listenersBound&&!t&&(Object.values(C).forEach((function(e){var t=Ce(e);delete document["on".concat(t)]})),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(e){var t=Le(e);if(e.repeat&&S.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(e,t,C.keydown);var n=this._howReactAppRespondedTo(e,t,C.keydown);if(n!==Fe||!this.eventOptions.ignoreEventsCondition(e)){if(n!==je){var r=Ie(e),i=this.getCurrentCombination();i.isKeyIncluded(t)||i.isEnding()?this._startAndLogNewKeyCombination(t,r):this._addToAndLogCurrentKeyCombination(t,C.keydown,r)}ze([je,Ue],n)||this._callHandlerIfExists(e,t,C.keydown),this._simulateKeyPressForNonPrintableKeys(e,t)}}},{key:"_howReactAppRespondedTo",value:function(e,t,n){var r=this.keyEventManager.reactAppHistoryWithEvent(t,n);return r===Ue||r===je||r===Be||De.incrementId(),r}},{key:"handleKeyPress",value:function(e){var t=Le(e);if(e.repeat&&S.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var n=this.getCurrentCombination();if(n.isKeyPressSimulated(t))return!0;var r=this._howReactAppRespondedTo(e,t,C.keypress);return n.isKeyIncluded(t)&&this._addToAndLogCurrentKeyCombination(t,C.keypress,Ie(e)),r===Fe&&(this.keyEventManager.closeHangingKeyCombination(t,C.keypress),this.eventOptions.ignoreEventsCondition(e))?void 0:void(!ze([je,Ue],r)&&this._callHandlerIfExists(e,t,C.keypress))}},{key:"handleKeyUp",value:function(e){var t=Le(e),n=this.getCurrentCombination();if(n.isKeyUpSimulated(t))return!0;var r=this._howReactAppRespondedTo(e,t,C.keyup);n.isKeyIncluded(t)&&this._addToAndLogCurrentKeyCombination(t,C.keyup,Ie(e)),r===Fe?(this.keyEventManager.closeHangingKeyCombination(t,C.keyup),this.eventOptions.ignoreEventsCondition(e)||!ze([je,Ue],r)&&this._callHandlerIfExists(e,t,C.keyup)):!ze([je,Ue],r)&&this._callHandlerIfExists(e,t,C.keyup),this._simulateKeyUpEventsHiddenByCmd(e,t),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:n.getKeyDictionary(),id:n.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(e,t){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(C.keypress,t),{event:e,key:t})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(e,t){var n=this;Me(t)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey((function(t){Me(t)||n._handleEventSimulation("handleKeyUp",n._shouldSimulate(C.keyup,t),{event:e,key:t})})))}},{key:"_startAndLogNewKeyCombination",value:function(e,t){this.getKeyHistory().startNewKeyCombination(e,t)}},{key:"_addToAndLogCurrentKeyCombination",value:function(e,t,n){this.getKeyHistory().addKeyToCurrentCombination(e,t,n)}},{key:"_handleEventSimulation",value:function(e,t,n){var r=n.event,i=n.key;if(t&&S.option("simulateMissingKeyPressEvents")){var s=this._cloneAndMergeEvent(r,{key:i,simulated:!0});this[e](s)}}},{key:"_callHandlerIfExists",value:function(e,t,n){this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(n)?void this._callClosestMatchingHandler(e,t,n):void 0}},{key:"_callClosestMatchingHandler",value:function(e,n,r){for(var i=this.componentList.getNewIterator();i.next();)if(E(m(t.prototype),"_callClosestMatchingHandler",this).call(this,e,n,r,i.getPosition(),0))return}},{key:"_stopEventPropagation",value:function(e,t){e.simulated||e.stopPropagation()}},{key:"addKeyCombinationListener",value:function(e){var t=this,n=function(){delete t.listeners.keyCombination};return this.listeners.keyCombination=function(t){e(t),n()},this._updateDocumentHandlers(),n}},{key:"_logPrefix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=k.eventIcons,r=k.componentIcons,i="HotKeys (GLOBAL";if(!1!==t.eventId){var s=oe(t.eventId)?De.getId():t.eventId;i="".concat(i,"-E").concat(s).concat(n[s%n.length])}return oe(e)?"".concat(i,"):"):"".concat(i,"-C").concat(e).concat(r[e%r.length],"):")}}]),t}(Re);function Ke(e){return!oe(e)}var We=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.logger=t.logger||new k(S.option("logLevel")),this._focusOnlyEventStrategy=new qe({configuration:t,logger:this.logger},this),this._globalEventStrategy=new Ge({configuration:t,logger:this.logger},this),this.mountedComponentsCount=0}return u(e,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.instance||(this.instance=new e(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),u(e,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(e)}},{key:"reregisterKeyMap",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(e,t)}},{key:"deregisterKeyMap",value:function(e){this._focusOnlyEventStrategy.deregisterKeyMap(e)}},{key:"registerComponentMount",value:function(e,t){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(e,t)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var e=this,t=this.mountedComponentsCount;this.mountedComponentsCount+=1,0===t&&1===this.mountedComponentsCount&&(window.onblur=function(){return e._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var e=this.mountedComponentsCount;this.mountedComponentsCount-=1,1===e&&0===this.mountedComponentsCount&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(e)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(e,t){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(e,t)}},{key:"reregisterGlobalKeyMap",value:function(e,t){this._globalEventStrategy.reregisterKeyMap(e,t)}},{key:"deregisterGlobalKeyMap",value:function(e){this._globalEventStrategy.deregisterKeyMap(e)}},{key:"addKeyCombinationListener",value:function(e){return this._globalEventStrategy.addKeyCombinationListener(e)}},{key:"enableHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(e,t,n,r)}},{key:"updateEnabledHotKeys",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(e,t,n,r,i)}},{key:"disableHotKeys",value:function(e,t){return this._focusOnlyEventStrategy.disableHotKeys(e,t)}},{key:"handleKeydown",value:function(e,t,n,r){if(Ke(t))return this._focusOnlyEventStrategy.handleKeydown(e,t,n,r)}},{key:"handleKeyPress",value:function(e,t,n,r){if(Ke(t))return this._focusOnlyEventStrategy.handleKeyPress(e,t,n,r)}},{key:"handleKeyUp",value:function(e,t,n,r){if(Ke(t))return this._focusOnlyEventStrategy.handleKeyUp(e,t,n,r)}},{key:"enableGlobalHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(e,t,n,r,i)}},{key:"updateEnabledGlobalHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(e,t,n,r,i)}},{key:"disableGlobalHotKeys",value:function(e){return this._globalEventStrategy.disableHotKeys(e)}},{key:"handleGlobalKeyDown",value:function(e){return this._globalEventStrategy.handleKeydown(e)}},{key:"handleGlobalKeyPress",value:function(e){return this._globalEventStrategy.handleKeyPress(e)}},{key:"handleGlobalKeyUp",value:function(e){return this._globalEventStrategy.handleKeyUp(e)}},{key:"ignoreEvent",value:function(e){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(e)}},{key:"observeIgnoredEvents",value:function(e){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(e)}},{key:"closeHangingKeyCombination",value:function(e,t){this._focusOnlyEventStrategy.closeHangingKeyCombination(e,t)}},{key:"reactAppHistoryWithEvent",value:function(e,t){var n=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return n.isForKey(e)&&n.isForEventType(t)?n.isHandled()?Ue:n.isIgnoringEvent()?je:Be:Fe}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),e}();function Xe(e,t){var n=t.deprecatedAPI,r=n.contextTypes,i=n.childContextTypes,o=t.newAPI.contextType;if("undefined"==typeof s.createContext)e.contextTypes=r,e.childContextTypes=i,e.prototype.getChildContext=function(){return this._childContext};else{var a=s.createContext(o);e.contextType=a,e.prototype._originalRender=e.prototype.render,e.prototype.render=function(){var e=this._originalRender();return e?s.createElement(a.Provider,{value:this._childContext},e):null}}return e}var Ye=function(e){function t(e,t){return p({},o[e]||{},t[e]||{})}function n(e){return t("handlers",e)}function r(e){return t("keyMap",e)}var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=function(t){function i(e){var t;return a(this,i),(t=_(this,m(i).call(this,e)))._handleFocus=t._handleFocus.bind(v(v(t))),t._handleBlur=t._handleBlur.bind(v(v(t))),t._handleKeyDown=t._handleKeyDown.bind(v(v(t))),t._handleKeyPress=t._handleKeyPress.bind(v(v(t))),t._handleKeyUp=t._handleKeyUp.bind(v(v(t))),t._componentIsFocused=t._componentIsFocused.bind(v(v(t))),t._id=We.getInstance().registerKeyMap(e.keyMap),t._childContext={hotKeysParentId:t._id},t}return d(i,t),u(i,[{key:"render",value:function(){var t=this.props,n=(t.keyMap,t.handlers,t.allowChanges,t.root,y(t,["keyMap","handlers","allowChanges","root"])),r={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:S.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(r.onKeyDown=this._handleKeyDown,r.onKeyPress=this._handleKeyPress,r.onKeyUp=this._handleKeyUp),s.createElement(e,h({hotKeys:r},n))}},{key:"_shouldBindKeyListeners",value:function(){var e=r(this.props);return!pe(e)||this.props.root||S.option("enableHardSequences")&&this._handlersIncludeHardSequences(e,n(this.props))}},{key:"_handlersIncludeHardSequences",value:function(e,t){return Object.keys(t).some((function(t){return!e[t]&&re.isValidKeySerialization(t)}))}},{key:"_wrapFunction",value:function(e,t){var n=this;return"function"==typeof this.props[e]?function(r){n.props[e](r),t(r)}:t}},{key:"_focusTreeIdsPush",value:function(e){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(e)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var e=We.getInstance();if(e.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!S.option("ignoreKeymapAndHandlerChangesByDefault"))){var t=this.props,n=t.keyMap,r=t.handlers;e.updateEnabledHotKeys(this._getFocusTreeId(),this._id,n,r,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return!0===this._focused}},{key:"componentDidMount",value:function(){var e=We.getInstance(),t=this.context.hotKeysParentId;e.registerComponentMount(this._id,t)}},{key:"_handleFocus",value:function(){var e;this.props.onFocus&&(e=this.props).onFocus.apply(e,arguments);var t=We.getInstance().enableHotKeys(this._id,r(this.props),n(this.props),this._getComponentOptions());oe(t)||this._focusTreeIdsPush(t),this._focused=!0}},{key:"componentWillUnmount",value:function(){var e=We.getInstance();e.deregisterKeyMap(this._id),e.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){var e;this.props.onBlur&&(e=this.props).onBlur.apply(e,arguments);We.getInstance().disableHotKeys(this._getFocusTreeId(),this._id)||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(e){We.getInstance().handleKeydown(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(e){We.getInstance().handleKeyPress(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(e){We.getInstance().handleKeyUp(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:S.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:S.option("ignoreEventsCondition")}}}]),i}(s.PureComponent);return c(l,"propTypes",{keyMap:i().object,handlers:i().object,onFocus:i().func,onBlur:i().func,allowChanges:i().bool,root:i().bool}),Xe(l,{deprecatedAPI:{contextTypes:{hotKeysParentId:i().number},childContextTypes:{hotKeysParentId:i().number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}(function(e){function t(){return a(this,t),_(this,m(t).apply(this,arguments))}return d(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=e.innerRef,r=e.component,i=y(e,["hotKeys","innerRef","component"]),o=r||S.option("defaultComponent");return s.createElement(o,p({},t,{ref:n},i))}}]),t}(s.Component));Ye.propTypes={innerRef:i().oneOfType([i().object,i().func])};var Qe=function(e){function t(e){var n;return a(this,t),(n=_(this,m(t).call(this,e)))._id=We.getInstance().registerGlobalKeyMap(e.keyMap),n._childContext={globalHotKeysParentId:n._id},n}return d(t,e),u(t,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var e=We.getInstance();if(e.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!S.option("ignoreKeymapAndHandlerChangesByDefault")){var t=this.props,n=t.keyMap,r=t.handlers;e.updateEnabledGlobalHotKeys(this._id,n,r,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.keyMap,n=e.handlers,r=this.context.globalHotKeysParentId,i=We.getInstance();i.registerGlobalComponentMount(this._id,r),i.enableGlobalHotKeys(this._id,t,n,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var e=We.getInstance();e.deregisterGlobalKeyMap(this._id),e.disableGlobalHotKeys(this._id),e.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:S.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:S.option("ignoreEventsCondition")}}}]),t}(s.Component);c(Qe,"propTypes",{keyMap:i().object,handlers:i().object,allowChanges:i().bool});Xe(Qe,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:i().number},childContextTypes:{globalHotKeysParentId:i().number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});function $e(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{only:[],except:[]},o=2<arguments.length?arguments[2]:void 0;return n=t=function(t){function n(e){var t;return a(this,n),(t=_(this,m(n).call(this,e)))._handleKeyEvent=t._handleKeyEvent.bind(v(v(t))),t._reloadDictionaries=t._reloadDictionaries.bind(v(v(t))),t}return d(n,t),u(n,[{key:"render",value:function(){var t=this.props,n=(t.only,t.except,y(t,["only","except"])),r={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return s.createElement(e,h({hotKeys:r},n))}},{key:"_reloadDictionaries",value:function(){var e=this.props,t=e.only,n=e.except;this._onlyDict=Je(t),this._exceptDict=Je(n)}},{key:"_shouldIgnoreEvent",value:function(e){var t=e.key;return pe(this._onlyDict)?!!pe(this._exceptDict)||!R(this._exceptDict,t):pe(this._exceptDict)?R(this._onlyDict,t):R(this._onlyDict,t)&&!R(this._exceptDict,t)}},{key:"_handleKeyEvent",value:function(e){this._shouldIgnoreEvent(e)&&We.getInstance()[o](e)}}]),n}(s.PureComponent),c(t,"propTypes",{only:i().oneOfType([i().string,i().arrayOf(i().string)]),except:i().oneOfType([i().string,i().arrayOf(i().string)])}),c(t,"defaultProps",r),n}function Je(e){return ge(e).reduce((function(e,t){var n=U(t);if(!V(n))throw new G(t);return[ne,te,O,L,J,$].forEach((function(t){e[t(n)]=!0})),e}),{})}$e(function(e){function t(){return a(this,t),_(this,m(t).apply(this,arguments))}return d(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=y(e,["hotKeys"]),r=n.component||S.option("defaultComponent");return s.createElement(r,p({},t,n))}}]),t}(s.Component),{},"ignoreEvent"),$e(function(e){function t(){return a(this,t),_(this,m(t).apply(this,arguments))}return d(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=y(e,["hotKeys"]),r=n.component||S.option("defaultComponent");return s.createElement(r,p({},t,n))}}]),t}(s.Component),{},"observeIgnoredEvents")},4931:(e,t,n)=>{"use strict";e.exports=n(8660)},6311:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}const i={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((e=>{i[e]=new r(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((e=>{let[t,n]=e;i[t]=new r(t,1,!1,n,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((e=>{i[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((e=>{i[e]=new r(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((e=>{i[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((e=>{i[e]=new r(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((e=>{i[e]=new r(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((e=>{i[e]=new r(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((e=>{i[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)}));const s=/[\-\:]([a-z])/g,o=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((e=>{const t=e.replace(s,o);i[t]=new r(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((e=>{const t=e.replace(s,o);i[t]=new r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((e=>{const t=e.replace(s,o);i[t]=new r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((e=>{i[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)}));i.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((e=>{i[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)}));const{CAMELCASE:a,SAME:l,possibleStandardNames:u}=n(8952),c=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),h=Object.keys(u).reduce(((e,t)=>{const n=u[t];return n===l?e[t]=t:n===a?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return i.hasOwnProperty(e)?i[e]:null},t.isCustomAttribute=c,t.possibleStandardNames=h},8952:(e,t)=>{t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var _=v.prototype=new y;_.constructor=v,f(_,b.prototype),_.isPureReactComponent=!0;var E=Array.isArray,T=Object.prototype.hasOwnProperty,x={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,i)&&!w.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+C(a=e[u],u);l+=I(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,c=s+C(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)T.call(t,u)&&!w.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,p=null,d=3,m=!1,f=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,_(e),!f)if(null!==r(u))f=!0,D(T);else{var t=r(c);null!==t&&P(E,t.startTime-e)}}function T(e,n){f=!1,g&&(g=!1,y(S),S=-1),m=!0;var s=d;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!I());){var o=p.callback;if("function"===typeof o){p.callback=null,d=p.priorityLevel;var a=o(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?p.callback=a:p===r(u)&&i(u),_(n)}else i(u);p=r(u)}if(null!==p)var l=!0;else{var h=r(c);null!==h&&P(E,h.startTime-n),l=!1}return l}finally{p=null,d=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,w=!1,A=null,S=-1,k=5,C=-1;function I(){return!(t.unstable_now()-C<k)}function N(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?x():(w=!1,A=null)}}else w=!1}if("function"===typeof v)x=function(){v(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){b(N,0)};function D(e){A=e,w||(w=!0,x())}function P(e,n){S=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,D(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(S),S=-1):g=!0,P(E,s-o))):(e.sortIndex=a,n(u,e),f||m||(f=!0,D(T))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},7294:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(4222)),i=n(8146);function s(e,t){var n={};return e&&"string"===typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)})),n):n}s.default=s,e.exports=s},8146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(o,l):e.replace(s,l)).replace(r,a))}},4222:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4403));t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,i.default)(e),s="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,i=e.value;s?t(r,i,e):i&&((n=n||{})[r]=i)}})),n}},8298:(e,t,n)=>{const{Buffer:r}=n(6382);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=new i.Request(...t),a=new XMLHttpRequest;a.withCredentials="include"===o.credentials,a.timeout=o[s].timeout,a.open(o.method,o.url,!1);let l=!1;try{a.responseType="arraybuffer"}catch(p){a.overrideMimeType("text/plain; charset=x-user-defined"),l=!0}for(const r of o.headers)a.setRequestHeader(...r);a.send(o.body||null);let u=a.getAllResponseHeaders();u=u&&u.split("\r\n").filter(Boolean).map((e=>e.split(": ",2)));let c=a.response;if(l){const e=r.alloc(c.length);for(let t=0;t<c.length;t++)e[t]=255&c.charCodeAt(t);c=e}const h=new i.Response(c,{headers:u,status:a.status,statusText:a.statusText});return h[s].url=a.responseURL,h[s].redirected=a.responseURL!==o.url,h}const s=Symbol("SyncFetch Internals"),o=["mode","cache","redirect","referrer","integrity"],a={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};class l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of o)if(n in t)throw new TypeError("option ".concat(n," not supported"));if("same-origin"===t.credentials)throw new TypeError("option credentials with value 'same-origin' not supported");if(this[s]={method:t.method||"GET",headers:new i.Headers(t.headers),body:t.body?r.from(t.body):null,credentials:t.credentials||"omit",timeout:t.timeout||0},"string"===typeof e)this[s].url=e;else{if(!(e instanceof l))throw new TypeError("Request input should be a URL string or a Request object");this[s].url=e.url,t.method||(this[s].method=e.method),t.headers||(this[s].headers=e.headers),t.body||(this[s].body=e[s].body),t.credentials||(this[s].credentials=e.credentials)}}get cache(){return"default"}get credentials(){return this[s].credentials}get destination(){return""}get headers(){return this[s].headers}get integrity(){return""}get method(){return this[s].method}get mode(){return"cors"}get priority(){return"auto"}get redirect(){return"follow"}get referrer(){return"about:client"}get referrerPolicy(){return""}get url(){return this[s].url}clone(){return h(this),new l(this.url,this[s])}}class u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this[s]={body:e?r.from(e):null,bodyUsed:!1,headers:new i.Headers(t.headers),status:t.status,statusText:t.statusText}}get headers(){return this[s].headers}get ok(){const e=this[s].status;return e>=200&&e<300}get redirected(){return this[s].redirected}get status(){return this[s].status}get statusText(){return this[s].statusText}get url(){return this[s].url}clone(){return this.redirect(this[s].url,this[s].status)}redirect(e,t){h(this);const n=new u(this[s].body,{headers:this[s].headers,status:t||this[s].status,statusText:a[t]||this[s].statusText});return n[s].url=e||this[s].url,n[s].redirected=this[s].redirected,n}}class c{constructor(e){this[s]={body:r.from(e),bodyUsed:!1}}get bodyUsed(){return this[s].bodyUsed}static mixin(e){for(const t of Object.getOwnPropertyNames(c.prototype)){if("constructor"===t)continue;const n=Object.getOwnPropertyDescriptor(c.prototype,t);Object.defineProperty(e,t,{...n,enumerable:!0})}}arrayBuffer(){const e=p(this);return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}blob(){const e=this.headers&&this.headers.get("content-type");return new Blob([p(this)],e&&{type:e})}text(){return p(this).toString()}json(){try{return JSON.parse(p(this).toString())}catch(e){throw new TypeError("invalid json response body at ".concat(this.url," reason: ").concat(e.message),"invalid-json")}}buffer(){return p(this).clone()}}function h(e){if(e.bodyUsed)throw new TypeError("body used already for: ".concat(e.url))}function p(e){return h(e),e[s].bodyUsed=!0,e[s].body||r.alloc(0)}c.mixin(l.prototype),c.mixin(u.prototype);class d{constructor(e){if(e instanceof i.Headers)this[s]={...e[s]};else if(this[s]={},Array.isArray(e))for(const[t,n]of e)this.append(t,n);else if("object"===typeof e)for(const t in e)this.set(t,e[t])}append(e,t){e=e.toLowerCase(),this[s][e]||(this[s][e]=[]),this[s][e].push(t)}delete(e){delete this[s][e.toLowerCase()]}set(e,t){this[s][e.toLowerCase()]=[t]}entries(){const e=[];for(const t in this[s])for(const n of this[s][t])e.push([t,n]);return e}get(e){return(e=e.toLowerCase())in this[s]?this[s][e].join(", "):null}keys(){return Object.keys(this[s])}has(e){return e.toLowerCase()in this[s]}values(){const e=[];for(const t in this[s])for(const n of this[s][t])e.push(n);return e}*[Symbol.iterator](){for(const e in this[s])for(const t of this[s][e])yield[e,t]}}i.Headers=d,i.Request=l,i.Response=u,e.exports=i},3895:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var h=o(null);if(null===h.current){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==c&&p.hasValue){var t=p.value;if(c(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,c]);var d=s(e,h[0],h[1]);return a((function(){p.hasValue=!0,p.value=d}),[d]),u(d),d}},7237:(e,t,n)=>{"use strict";e.exports=n(3895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{currentVersion:()=>Je,retrieveLastVersion:()=>tt,retrieveVersion:()=>Ze,save:()=>nt,undo:()=>et});var t={};n.r(t),n.d(t,{defaultOptions:()=>ut,options:()=>ct});var r={};n.r(r),n.d(r,{dataTypeOf:()=>pt,typeOf:()=>ht});var i={};n.r(i),n.d(i,{applyGraph:()=>dt,removeGraph:()=>mt});var s={};n.r(s),n.d(s,{DataParser:()=>Ot,FormatParser:()=>Rt,TypeParser:()=>Nt});var o={};n.r(o),n.d(o,{clean:()=>Wt});var a={};n.r(a),n.d(a,{add:()=>Nn,addDataParser:()=>An,addTypeParser:()=>xt,chain:()=>fn,chainAsync:()=>bn,chainLink:()=>gn,chainLinkAsync:()=>yn,data:()=>xn,dataAsync:()=>wn,get:()=>On,has:()=>Dn,hasDataParser:()=>Sn,hasTypeParser:()=>wt,list:()=>Pn,listDataParser:()=>Cn,listTypeParser:()=>St,remove:()=>Rn,removeDataParser:()=>kn,removeTypeParser:()=>At,treeTypeParser:()=>kt,type:()=>Tt,typeMatcher:()=>Ct,util:()=>Ln});var l={};n.r(l),n.d(l,{add:()=>Mn,addAsync:()=>Fn,reset:()=>Un,set:()=>jn,setAsync:()=>Bn});var u={};n.r(u),n.d(u,{sort:()=>Gn});var c={};n.r(c),n.d(c,{add:()=>Wn,format:()=>$n,has:()=>Yn,list:()=>Qn,register:()=>Kn,remove:()=>Xn});var h={};n.r(h),n.d(h,{format:()=>Zn,get:()=>er,getIds:()=>Jn});var p={};n.r(p),n.d(p,{async:()=>tr,validateOptions:()=>lt,validateOutputOptions:()=>at});var d={};n.r(d),n.d(d,{add:()=>sr,get:()=>ur,has:()=>ar,htmlDict:()=>cr,list:()=>lr,register:()=>ir,remove:()=>or,textDict:()=>hr});var m={};n.r(m),n.d(m,{add:()=>dr,get:()=>mr,has:()=>fr,list:()=>br,remove:()=>gr});var f={};n.r(f),n.d(f,{parse:()=>Er});var g={};n.r(g),n.d(g,{default:()=>xr,parse:()=>xr});var b={};n.r(b),n.d(b,{parse:()=>wr});var y={};n.r(y),n.d(y,{parse:()=>Ar});var v={};n.r(v),n.d(v,{argumentCommands:()=>ai,commands:()=>ti,defaultStrings:()=>ri,diacritics:()=>ei,fieldTypes:()=>Zr,formatting:()=>oi,formattingCommands:()=>si,formattingEnvs:()=>ii,ligaturePattern:()=>li,ligatures:()=>ui,mathCommands:()=>ni,mathScriptFormatting:()=>ci,mathScripts:()=>hi,required:()=>Jr,sentenceCaseLanguages:()=>pi});var _={};n.r(_),n.d(_,{hasBrowserEnv:()=>ih,hasStandardBrowserEnv:()=>sh,hasStandardBrowserWebWorkerEnv:()=>ah,origin:()=>lh});var E={};n.r(E),n.d(E,{DocumentPosition:()=>cm,append:()=>Gd,appendChild:()=>Vd,compareDocumentPosition:()=>hm,existsOne:()=>Jd,filter:()=>Xd,find:()=>Yd,findAll:()=>Zd,findOne:()=>$d,findOneChild:()=>Qd,getAttributeValue:()=>Fd,getChildren:()=>Pd,getElementById:()=>om,getElements:()=>sm,getElementsByTagName:()=>am,getElementsByTagType:()=>lm,getFeed:()=>dm,getInnerHTML:()=>Nd,getName:()=>Bd,getOuterHTML:()=>Id,getParent:()=>Ld,getSiblings:()=>Md,getText:()=>Od,hasAttrib:()=>jd,hasChildren:()=>qp,innerText:()=>Dd,isCDATA:()=>Fp,isComment:()=>Bp,isDocument:()=>Hp,isTag:()=>Mp,isText:()=>jp,nextElementSibling:()=>Ud,prepend:()=>Wd,prependChild:()=>Kd,prevElementSibling:()=>Hd,removeElement:()=>qd,removeSubsets:()=>um,replaceElement:()=>zd,testElement:()=>im,textContent:()=>Rd,uniqueSort:()=>pm});var T={};n.r(T),n.d(T,{contains:()=>km,html:()=>Tm,merge:()=>Cm,parseHTML:()=>Am,root:()=>Sm,text:()=>wm,xml:()=>xm});var x={};n.r(x),n.d(x,{addClass:()=>tf,attr:()=>zm,data:()=>Ym,hasClass:()=>ef,prop:()=>Km,removeAttr:()=>Zm,removeClass:()=>nf,toggleClass:()=>rf,val:()=>Qm});var w={};n.r(w),n.d(w,{add:()=>ib,addBack:()=>sb,children:()=>Ug,closest:()=>Rg,contents:()=>Hg,each:()=>qg,end:()=>rb,eq:()=>Jg,filter:()=>Gg,filterArray:()=>Kg,find:()=>xg,first:()=>Qg,get:()=>Zg,has:()=>Yg,index:()=>tb,is:()=>Wg,last:()=>$g,map:()=>zg,next:()=>Dg,nextAll:()=>Pg,nextUntil:()=>Lg,not:()=>Xg,parent:()=>Ig,parents:()=>Ng,parentsUntil:()=>Og,prev:()=>Mg,prevAll:()=>Fg,prevUntil:()=>jg,siblings:()=>Bg,slice:()=>nb,toArray:()=>eb});var A={};n.r(A),n.d(A,{_makeDomArray:()=>ab,after:()=>vb,append:()=>pb,appendTo:()=>cb,before:()=>Eb,clone:()=>Ib,empty:()=>Ab,html:()=>Sb,insertAfter:()=>_b,insertBefore:()=>Tb,prepend:()=>db,prependTo:()=>hb,remove:()=>xb,replaceWith:()=>wb,text:()=>Cb,toString:()=>kb,unwrap:()=>bb,wrap:()=>fb,wrapAll:()=>yb,wrapInner:()=>gb});var S={};n.r(S),n.d(S,{css:()=>Nb});var k={};n.r(k),n.d(k,{serialize:()=>Mb,serializeArray:()=>Fb});var C={};n.r(C),n.d(C,{boolean:()=>XL,booleanish:()=>YL,commaOrSpaceSeparated:()=>eM,commaSeparated:()=>ZL,number:()=>$L,overloadedBoolean:()=>QL,spaceSeparated:()=>JL});var I={};n.r(I),n.d(I,{attentionMarkers:()=>Dj,contentInitial:()=>kj,disable:()=>Pj,document:()=>Sj,flow:()=>Ij,flowInitial:()=>Cj,insideSpan:()=>Rj,string:()=>Nj,text:()=>Oj});var N,O=n(5043),R=n.t(O,2),D=n(4391);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(N||(N={}));const L="popstate";function M(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function F(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function B(e,t,n,r){return void 0===n&&(n=null),P({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?H(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function U(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function H(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=N.Pop,l=null,u=c();function c(){return(o.state||{idx:null}).idx}function h(){a=N.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:d.location,delta:t})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:U(e);return n=n.replace(/ $/,"%20"),M(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,o.replaceState(P({},o.state,{idx:u}),""));let d={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L,h),l=e,()=>{i.removeEventListener(L,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=N.Push;let r=B(d.location,e,t);n&&n(r,e),u=c()+1;let h=j(r,u),p=d.createHref(r);try{o.pushState(h,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(p)}s&&l&&l({action:a,location:d.location,delta:1})},replace:function(e,t){a=N.Replace;let r=B(d.location,e,t);n&&n(r,e),u=c();let i=j(r,u),h=d.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:d.location,delta:0})},go:e=>o.go(e)};return d}var z;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(z||(z={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n){void 0===n&&(n="/");let r=ie(("string"===typeof t?H(t):t).pathname||"/",n);if(null==r)return null;let i=G(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=re(r);s=te(i[o],e)}return s}function G(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(M(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=ue([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(M(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),G(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:ee(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of K(e.path))i(e,t,r);else i(e,t)})),t}function K(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=K(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const W=/^:[\w-]+$/,X=3,Y=2,Q=1,$=10,J=-2,Z=e=>"*"===e;function ee(e,t){let n=e.split("/"),r=n.length;return n.some(Z)&&(r+=J),t&&(r+=Y),n.filter((e=>!Z(e))).reduce(((e,t)=>e+(W.test(t)?X:""===t?Q:$)),r)}function te(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=ne({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;s.push({params:r,pathname:ue([i,u.pathname]),pathnameBase:ce(ue([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=ue([i,u.pathnameBase]))}return s}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);F("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function re(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return F(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function se(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ae(e,t){let n=oe(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function le(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=H(e):(i=P({},e),M(!i.pathname||!i.pathname.includes("?"),se("?","pathname","search",i)),M(!i.pathname||!i.pathname.includes("#"),se("#","pathname","hash",i)),M(!i.search||!i.search.includes("#"),se("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?H(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:he(r),hash:pe(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const ue=e=>e.join("/").replace(/\/\/+/g,"/"),ce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),he=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",pe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function de(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const me=["post","put","patch","delete"],fe=(new Set(me),["get",...me]);new Set(fe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}const be=O.createContext(null);const ye=O.createContext(null);const ve=O.createContext(null);const _e=O.createContext(null);const Ee=O.createContext({outlet:null,matches:[],isDataRoute:!1});const Te=O.createContext(null);function xe(){return null!=O.useContext(_e)}function we(){return xe()||M(!1),O.useContext(_e).location}function Ae(e){O.useContext(ve).static||O.useLayoutEffect(e)}function Se(){let{isDataRoute:e}=O.useContext(Ee);return e?function(){let{router:e}=Fe(Le.UseNavigateStable),t=Be(Me.UseNavigateStable),n=O.useRef(!1);Ae((()=>{n.current=!0}));let r=O.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ge({fromRouteId:t},i)))}),[e,t]);return r}():function(){xe()||M(!1);let e=O.useContext(be),{basename:t,future:n,navigator:r}=O.useContext(ve),{matches:i}=O.useContext(Ee),{pathname:s}=we(),o=JSON.stringify(ae(i,n.v7_relativeSplatPath)),a=O.useRef(!1);Ae((()=>{a.current=!0}));let l=O.useCallback((function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof n)return void r.go(n);let l=le(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ue([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,o,s,e]);return l}()}function ke(){let{matches:e}=O.useContext(Ee),t=e[e.length-1];return t?t.params:{}}function Ce(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=O.useContext(ve),{matches:i}=O.useContext(Ee),{pathname:s}=we(),o=JSON.stringify(ae(i,r.v7_relativeSplatPath));return O.useMemo((()=>le(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function Ie(e,t,n,r){xe()||M(!1);let{navigator:i}=O.useContext(ve),{matches:s}=O.useContext(Ee),o=s[s.length-1],a=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,c=we();if(t){var h;let e="string"===typeof t?H(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||M(!1),u=e}else u=c;let p=u.pathname||"/",d=p;if("/"!==l){let e=l.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=V(e,{pathname:d});let f=Pe(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:ue([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ue([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&f?O.createElement(_e.Provider,{value:{location:ge({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:N.Pop}},f):f}function Ne(){let e=function(){var e;let t=O.useContext(Te),n=je(Me.UseRouteError),r=Be(Me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=de(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,null)}const Oe=O.createElement(Ne,null);class Re extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?O.createElement(Ee.Provider,{value:this.props.routeContext},O.createElement(Te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function De(e){let{routeContext:t,match:n,children:r}=e,i=O.useContext(be);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Ee.Provider,{value:t},r)}function Pe(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id])));e>=0||M(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let e=o[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let s,c=!1,h=null,p=null;var d;n&&(s=a&&r.route.id?a[r.route.id]:void 0,h=r.route.errorElement||Oe,l&&(u<0&&0===i?(d="route-fallback",!1||Ue[d]||(Ue[d]=!0),c=!0,p=null):u===i&&(c=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),f=()=>{let t;return t=s?h:c?p:r.route.Component?O.createElement(r.route.Component,null):r.route.element?r.route.element:e,O.createElement(De,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?O.createElement(Re,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()}),null)}var Le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Le||{}),Me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Me||{});function Fe(e){let t=O.useContext(be);return t||M(!1),t}function je(e){let t=O.useContext(ye);return t||M(!1),t}function Be(e){let t=function(e){let t=O.useContext(Ee);return t||M(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||M(!1),n.route.id}const Ue={};R.startTransition;function He(e){M(!1)}function qe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=N.Pop,navigator:s,static:o=!1,future:a}=e;xe()&&M(!1);let l=t.replace(/^\/*/,"/"),u=O.useMemo((()=>({basename:l,navigator:s,static:o,future:ge({v7_relativeSplatPath:!1},a)})),[l,a,s,o]);"string"===typeof r&&(r=H(r));let{pathname:c="/",search:h="",hash:p="",state:d=null,key:m="default"}=r,f=O.useMemo((()=>{let e=ie(c,l);return null==e?null:{location:{pathname:e,search:h,hash:p,state:d,key:m},navigationType:i}}),[l,c,h,p,d,m,i]);return null==f?null:O.createElement(ve.Provider,{value:u},O.createElement(_e.Provider,{children:n,value:f}))}function ze(e){let{children:t,location:n}=e;return Ie(Ve(t),n)}new Promise((()=>{}));O.Component;function Ve(e,t){void 0===t&&(t=[]);let n=[];return O.Children.forEach(e,((e,r)=>{if(!O.isValidElement(e))return;let i=[...t,r];if(e.type===O.Fragment)return void n.push.apply(n,Ve(e.props.children,i));e.type!==He&&M(!1),e.props.index&&e.props.children&&M(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ve(e.props.children,i)),n.push(s)})),n}var Ge=n(579);function Ke(e){const{label:t,onClick:n,icon:r,buttonStyle:i,className:s,styles:o,badge:a}=e,[l,u]=(0,O.useState)({});return(0,Ge.jsxs)("button",{className:"".concat(s," styled-button"),style:{...l,...i},onClick:n,onTouchStart:()=>u((e=>({...e,...o.down}))),onTouchEnd:()=>u((e=>({...e,...o.up}))),onMouseDown:()=>u((e=>({...e,...o.down}))),onMouseUp:()=>u((e=>({...e,...o.up}))),children:[(0,Ge.jsx)("i",{className:"material-icons-round",children:r}),t,(0,Ge.jsx)("div",{className:"context-menu-badge",style:{color:null===a||void 0===a?void 0:a.color,backgroundColor:null===a||void 0===a?void 0:a.backgroundColor},children:null===a||void 0===a?void 0:a.label})]})}function We(e){return(0,Ge.jsx)(Ke,{...e,className:"mechanic-button",styles:{down:{transform:"translateY(0.4rem)",boxShadow:"0 0 0 var(--dark-blue)"},up:{transform:"translateY(0rem)",boxShadow:"0 0.4rem 0 var(--dark-blue)"}}})}function Xe(e){return(0,Ge.jsx)(Ke,{...e,className:"small-button",styles:{down:{backgroundColor:"var(--light-blue)"},up:{backgroundColor:""}}})}function Ye(e){const{onClick:t,buttonStyle:n,icon:r,label:i,badge:s}=e,[o,a]=(0,O.useState)({}),l={backgroundColor:"var(--light-blue)"},u={backgroundColor:""};return(0,Ge.jsxs)("button",{className:"styled-button context-menu-option",onClick:t,style:{...o,...n},onTouchStart:()=>a((e=>({...e,...l}))),onTouchEnd:()=>a((e=>({...e,...u}))),onMouseDown:()=>a((e=>({...e,...l}))),onMouseUp:()=>a((e=>({...e,...u}))),children:[(0,Ge.jsx)("i",{className:"material-icons-round",children:r}),i,(0,Ge.jsx)("div",{className:"context-menu-badge",style:{color:null===s||void 0===s?void 0:s.color,backgroundColor:null===s||void 0===s?void 0:s.backgroundColor},children:null===s||void 0===s?void 0:s.label})]})}let Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};function $e(e){const{label:t,icon:n,options:r,buttonType:i,menuStyle:s,buttonStyle:o}=e,[a,l]=(0,O.useState)(!1),u={label:t,icon:n,buttonStyle:o,onClick:function(){l((e=>!e))}},c={"Mechanic Button":(0,Ge.jsx)(We,{...u}),"Small Button":(0,Ge.jsx)(Xe,{...u}),"Context Menu Option":(0,Ge.jsx)(Ye,{...u})};return(0,Ge.jsxs)("div",{className:"context-menu-container",children:[c[i]||c["Mechanic Button"],a&&(0,Ge.jsx)("div",{className:"context-menu-overlay",onClick:()=>l(!1),children:(0,Ge.jsx)("div",{className:"context-menu",style:{...s},children:r&&r.map((e=>"string"===typeof e&&/devider/i.test(e)?(0,Ge.jsx)("hr",{className:"solid"},Qe()):(0,Ge.jsx)(Ye,{onClick:t=>{e.method(t),l(!1)},buttonStyle:{...null===e||void 0===e?void 0:e.style},icon:null===e||void 0===e?void 0:e.icon,label:null===e||void 0===e?void 0:e.label,badge:e.badge},Qe())))})})]})}function Je(){return this.log.length}function Ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<=0||e>this.currentVersion())return null;{const[t,n]=this.log[e-1],r=new this.constructor(JSON.parse(t),JSON.parse(n));return r.log=this.log.slice(0,e),r}}function et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.retrieveVersion(this.currentVersion()-e)}function tt(){return this.retrieveVersion(this.currentVersion())}function nt(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}const rt=["real","string"],it=["json","html","string","rtf"],st=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],ot=["string","function"];function at(e){if("object"!==typeof e)throw new TypeError("Options not an object!");const{format:t,type:n,style:r,lang:i,append:s,prepend:o}=e;if(t&&!rt.includes(t))throw new TypeError('Option format ("'.concat(t,'") should be one of: ').concat(rt));if(n&&!it.includes(n))throw new TypeError('Option type ("'.concat(n,'") should be one of: ').concat(it));if(r&&!st.includes(r)&&!/^citation/.test(r))throw new TypeError('Option style ("'.concat(r,'") should be one of: ').concat(st));if(i&&"string"!==typeof i)throw new TypeError("Option lang should be a string, but is a ".concat(typeof i));if(o&&!ot.includes(typeof o))throw new TypeError("Option prepend should be a string or a function, but is a ".concat(typeof o));if(s&&!ot.includes(typeof s))throw new TypeError("Option append should be a string or a function, but is a ".concat(typeof s));if(/^citation/.test(r)&&"json"===n)throw new Error("Combination type/style of json/citation-* is not valid: ".concat(n,"/").concat(r));return!0}function lt(e){if("object"!==typeof e)throw new TypeError("Options should be an object");if(e.output)at(e.output);else{if(e.maxChainLength&&"number"!==typeof e.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(e.forceType&&"string"!==typeof e.forceType)throw new TypeError("Option forceType should be a string");if(null!=e.generateGraph&&"boolean"!==typeof e.generateGraph)throw new TypeError("Option generateGraph should be a boolean");if(null!=e.strict&&"boolean"!==typeof e.strict)throw new TypeError("Option strict should be a boolean");if(null!=e.target&&"string"!==typeof e.target)throw new TypeError("Option target should be a boolean")}return!0}const ut={format:"real",type:"json",style:"csl",lang:"en-US"};function ct(e,t){return at(e),t&&this.save(),Object.assign(this._options,e),this}function ht(e){switch(e){case void 0:return"Undefined";case null:return"Null";default:return e.constructor.name}}function pt(e){switch(typeof e){case"string":return"String";case"object":if(Array.isArray(e))return"Array";if("Object"===ht(e))return"SimpleObject";if("Null"!==ht(e))return"ComplexObject";default:return"Primitive"}}function dt(e,t){if(e._graph){const n=t.findIndex((e=>{let{type:t}=e;return"@else/list+object"===t}));-1!==n&&t.splice(n+1,0,...e._graph.slice(0,-1))}return e._graph=t,e}function mt(e){return delete e._graph,e}const ft={_output(e,t,n){this._log.push(t,n),this._levels.indexOf(e)<this._levels.indexOf(this.level)||this._console.log(t,...n)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const n of ft._levels)ft[n]=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return ft._output(n,e,r)};"function"===typeof console.Console?ft._console=new console.Console(process.stderr):ft._console=console;const gt=ft,bt={},yt={},vt={};function _t(e,t){switch(t){case"Array":return 0===e.length||e.every((e=>"@csl/object"===Tt(e)))?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}}function Et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;for(const n of e)if(bt[n].predicate(t))return Et(bt[n].extensions,t)||n}function Tt(e){const t=pt(e);if("Array"===t&&0===e.length)return _t(e,t);return Et(yt[t],e)||_t(e,t)}function xt(e,t){let{dataType:n,predicate:r,extends:i}=t,s=[];e in vt&&(s=vt[e],delete vt[e],gt.debug("[core]",'Subclasses "'.concat(s,'" finally registered to parent type "').concat(e,'"')));const o={predicate:r,extensions:s};if(bt[e]=o,i){const t=bt[i];t?t.extensions.push(e):(vt[i]||(vt[i]=[]),vt[i].push(e),gt.debug("[core]",'Subclass "'.concat(e,'" is waiting on parent type "').concat(i,'"')))}else{(yt[n]||(yt[n]=[])).push(e)}}function wt(e){return Object.prototype.hasOwnProperty.call(bt,e)}function At(e){delete bt[e];const t=[...Object.keys(yt).map((e=>yt[e])),...Object.keys(bt).map((e=>bt[e].extensions)).filter((e=>e.length>0))];t.forEach((t=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}))}function St(){return Object.keys(bt)}function kt(){const e=t=>({name:t,children:bt[t].extensions.map(e)});return{name:"Type tree",children:Object.keys(yt).map((t=>({name:t,children:yt[t].map(e)})))}}const Ct=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;function It(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Nt{constructor(e){It(this,"validDataTypes",["String","Array","SimpleObject","ComplexObject","Primitive"]),this.data=e}validateDataType(){const e=this.data.dataType;if(e&&!this.validDataTypes.includes(e))throw new RangeError("dataType was ".concat(e,"; expected one of ").concat(this.validDataTypes))}validateParseType(){const e=this.data.predicate;if(e&&!(e instanceof RegExp||"function"===typeof e))throw new TypeError("predicate was ".concat(typeof e,"; expected RegExp or function"))}validateTokenList(){const e=this.data.tokenList;if(e&&"object"!==typeof e)throw new TypeError("tokenList was ".concat(typeof e,"; expected object or RegExp"))}validatePropertyConstraint(){const e=this.data.propertyConstraint;if(e&&"object"!==typeof e)throw new TypeError("propertyConstraint was ".concat(typeof e,"; expected array or object"))}validateElementConstraint(){const e=this.data.elementConstraint;if(e&&"string"!==typeof e)throw new TypeError("elementConstraint was ".concat(typeof e,"; expected string"))}validateExtends(){const e=this.data.extends;if(e&&"string"!==typeof e)throw new TypeError("extends was ".concat(typeof e,"; expected string"))}validate(){if(null===this.data||"object"!==typeof this.data)throw new TypeError("typeParser was ".concat(typeof this.data,"; expected object"));this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let e=this.data.tokenList;if(!e)return[];e instanceof RegExp&&(e={token:e});const{token:t,split:n=/\s+/,trim:r=!0,every:i=!0}=e,s=i?"every":"some";return[e=>(e=>r?e.trim():e)(e).split(n)[s]((e=>t.test(e)))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map((e=>{let{props:t,match:n,value:r}=e;switch(t=[].concat(t),n){case"any":case"some":return e=>t.some((t=>t in e&&(!r||r(e[t]))));case"none":return e=>!t.some((t=>t in e&&(!r||r(e[t]))));default:return e=>t.every((t=>t in e&&(!r||r(e[t]))))}}))}parseElementConstraint(){const e=this.data.elementConstraint;return e?[t=>t.every((t=>Tt(t)===e))]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const e=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return 0===e.length?()=>!0:1===e.length?e[0]:t=>e.every((e=>e(t)))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class Ot{constructor(e){let{async:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parser=e,this.async=t}validate(){const e=this.parser;if("function"!==typeof e)throw new TypeError("parser was ".concat(typeof e,"; expected function"))}}class Rt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.format=e,t.parseType&&(this.typeParser=new Nt(t.parseType)),t.parse&&(this.dataParser=new Ot(t.parse,{async:!1})),t.parseAsync&&(this.asyncDataParser=new Ot(t.parseAsync,{async:!0}))}validateFormat(){const e=this.format;if(!Ct.test(e))throw new TypeError('format name was "'.concat(e,"\"; didn't match expected pattern"))}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}var Dt=n(971);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ft=1,jt=2,Bt=3,Ut=4,Ht={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference",dissertation:"thesis"},qt={author:jt,chair:jt,"collection-editor":jt,compiler:jt,composer:jt,"container-author":jt,contributor:jt,curator:jt,director:jt,editor:jt,"editorial-director":jt,"executive-producer":jt,guest:jt,host:jt,interviewer:jt,illustrator:jt,narrator:jt,organizer:jt,"original-author":jt,performer:jt,producer:jt,"reviewed-author":jt,recipient:jt,"script-writer":jt,"series-creator":jt,translator:jt,accessed:Bt,"available-date":Bt,container:Bt,"event-date":Bt,issued:Bt,"original-date":Bt,submitted:Bt,type:Ut,categories:"object",custom:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_collection:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-key":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",division:"string",DOI:"string",edition:["string","number"],event:"string","event-title":"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string","part-number":["string","number"],"part-title":"string",PMCID:"string",PMID:"string",printing:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string","reviewed-genre":"string",scale:"string",section:"string",source:"string",status:"string",supplement:["string","number"],title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"volume-title":"string","volume-title-short":"string","year-suffix":"string"};function zt(e,t){return"object"===typeof e&&null!==e&&(e.literal||e.given||e.family)?((e.ORCID||e.orcid||e._ORCID)&&(delete(e=Lt({_orcid:e.ORCID||e.orcid||e._ORCID},e)).ORCID,delete e.orcid,delete e._ORCID),e):t&&"string"===typeof e?(0,Dt.qg)(e):void 0}function Vt(e,t){return e.every((e=>"number"===typeof e))?e:!t||e.some((e=>isNaN(parseInt(e))))?void 0:e.map((e=>parseInt(e)))}function Gt(e,t){if(e=Kt("language",e,t),!0===Ht[e])return e;if(t){if(e in Ht)return Ht[e];if(e.toLowerCase()!==e)return Gt(e.toLowerCase(),t)}}function Kt(e,t,n){const r=[].concat(qt[e]);switch(qt[e]){case Ft:return zt(t,n);case jt:return function(e,t){if(e instanceof Array){const n=e.map((e=>zt(e,t))).filter(Boolean);return n.length?n:void 0}}(t,n);case Bt:return function(e,t){const n="date-parts";if("object"===typeof e&&null!==e){if(e[n]instanceof Array&&e[n].every((e=>e instanceof Array))){const r=e[n].map((e=>Vt(e,t))).filter(Boolean);return r.length?Lt(Lt({},e),{},{"date-parts":r}):void 0}if(e instanceof Array&&e.every((e=>e[n]instanceof Array))){const r=e.map((e=>Vt(e[n],t))).filter(Boolean);return r.length?{"date-parts":r}:void 0}if(e[n]instanceof Array){const r=Vt(e[n],t);return r&&{"date-parts":[r]}}return"literal"in e||"raw"in e?e:void 0}}(t,n);case Ut:return Gt(t,n)}if(n){if("string"===typeof t&&r.includes("number")&&!r.includes("string")&&!isNaN(+t))return parseFloat(t);if("number"===typeof t&&r.includes("string")&&!r.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return Kt(e,t[0],n)}if(r.includes(typeof t))return t}function Wt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map((function(e){const n={};for(const r in e){const i=Kt(r,e[r],t);void 0!==i&&(n[r]=i)}return n}))}function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e){return Array.isArray(e)?e.map($t):("event"in(e=Yt({},e))&&(e["event-title"]=e.event,delete e.event),"book"===e.type&&"version"in e&&(e.type="software"),e)}function Jt(e){return Array.isArray(e)?e.map(Jt):("event-title"in(e=Yt({},e))&&(e.event=e["event-title"],delete e["event-title"]),"software"===e.type&&(e.type="book"),e)}function Zt(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("object"!==typeof e||null===e||e.constructor!==Object&&e.constructor!==Array)return e;if(n.has(e))throw new TypeError("Recursively copying circular structure");if(n.add(e),e.constructor===Array)t=e.map((e=>Zt(e,n)));else{const r={};for(const t in e)r[t]=Zt(e[t],n);t=r}return n.delete(e),t}const en=Zt;n(8298);var tn=n(4524),nn=n.n(tn);const rn="0.7.11",{fetch:sn,Headers:on}=nn()(),an="undefined"!==typeof location&&"undefined"!==typeof document;an||"Citation.js/".concat(rn," Node.js/").concat(process.version);const ln=function(e,t){let n;for(;void 0===n||e.includes(n);)n="".concat(t).concat(Math.random().toString().slice(2));return n};const un=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=e}set(e,t){return this.data[e]=t,this}add(){return this.set(...arguments)}delete(e){return delete this.data[e],this}remove(){return this.delete(...arguments)}get(e){return this.data[e]}has(e){return Object.prototype.hasOwnProperty.call(this.data,e)}list(){return Object.keys(this.data)}};class cn{constructor(e,t){this.rules=e,this.defaultState=t,this.mainRule=Object.keys(e)[0],this.log=[]}parse(e,t){return this.lexer=e,this.token=this.lexer.next(),this.state=Zt(this.defaultState),this.log=[],this.consumeRule(t||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(e){return this.token&&e===this.token.type}consumeToken(e,t){const n=this.token;if(!e||n&&n.type===e)return this.token=this.lexer.next(),n;if(!t){const t=n?'"'.concat(n.type,'"'):"EOF",r=new SyntaxError(this.lexer.formatError(n,'expected "'.concat(e,'", got ').concat(t)));throw r.message+=" (".concat(this.log.join("->"),")"),r}}consumeRule(e){this.log.push(e);const t=this.rules[e].call(this);return this.log.pop(),t}}function hn(e,t){let n,r,i,s;if("string"===typeof e)n=r=e;else{if(!e)return null;n=t?e.target:e.source,r=t?e.source:e.target,e.convert&&(i=t?e.convert.toSource:e.convert.toTarget),e.when&&(s=t?e.when.target:e.when.source,null!=s&&(s=function(e){return function(t){return"boolean"===typeof e?e:Object.keys(e).every((n=>{const r=e[n];return!0===r?n in t:!1===r?!(n in t):"function"===typeof r?r(t[n]):Array.isArray(r)?r.includes(t[n]):t[n]===r}))}}(s)))}return n=[].concat(n).filter(Boolean),r=[].concat(r).filter(Boolean),{inputProp:n,outputProp:r,convert:i,condition:s}}function pn(e,t){return t=t===dn.CONVERT_TO_SOURCE,e=e.map((e=>hn(e,t))).filter(Boolean),function(t){const n={};for(const{inputProp:i,outputProp:s,convert:o,condition:a}of e){if(0===s.length)continue;if(a&&!a(t))continue;if(0!==i.length&&i.every((e=>!(e in t))))continue;let e=i.map((e=>t[e]));if(o)try{const n=o.apply(t,e);e=1===s.length?[n]:n}catch(r){throw new Error("Failed to convert ".concat(i," to ").concat(s),{cause:r})}s.forEach(((t,r)=>{const i=e[r];void 0!==i&&(n[t]=i)}))}return n}}class dn{constructor(e){this.convertToSource=pn(e,dn.CONVERT_TO_SOURCE),this.convertToTarget=pn(e,dn.CONVERT_TO_TARGET)}}dn.CONVERT_TO_SOURCE=Symbol("convert to source"),dn.CONVERT_TO_TARGET=Symbol("convert to target");class mn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=Object.assign({generateGraph:!0,forceType:Tt(e),maxChainLength:10,strict:!0,target:"@csl/list+object"},t),this.type=this.options.forceType,this.data="object"===typeof e?en(e):e,this.graph=[{type:this.type,data:e}],this.iteration=0}iterate(){if(0!==this.iteration){const e=On(this.type);e&&e.outputs?this.type=e.outputs:this.type=Tt(this.data),this.graph.push({type:this.type})}return!this.error&&this.type!==this.options.target&&(this.iteration>=this.options.maxChainLength?(this.error=new RangeError("Max. number of parsing iterations reached (".concat(this.graph.reduce(((e,t)=>{const n=e[e.length-1];return n&&n.type===t.type?n.count=n.count+1||2:e.push(t),e}),[]).map((e=>(e.count>1?e.count+"x ":"")+e.type)).join(" -> "),")")),!1):(this.iteration++,!0))}end(){if(this.error){if(gt.error("[core]",this.error.message),!1!==this.options.strict)throw this.error;return[]}return"@csl/list+object"===this.options.target?$t(this.data).map(this.options.generateGraph?e=>dt(e,this.graph):mt):this.data}}const fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new mn(...t);for(;r.iterate();)try{r.data=xn(r.data,r.type)}catch(i){r.error=i}return r.end()},gn=e=>{const t=Tt(e);return xn(t.match(/array|object/)?en(e):e,t)},bn=async function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new mn(...t);for(;r.iterate();)r.data=await wn(r.data,r.type).catch((e=>{r.error=e}));return r.end()},yn=async e=>{const t=Tt(e);return wn(t.match(/array|object/)?en(e):e,t)},vn={},_n={},En={"@csl/object":e=>[e],"@csl/list+object":e=>e,"@else/list+object":e=>e.map(fn).flat(),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},Tn={"@else/list+object":async e=>(await Promise.all(e.map(bn))).flat()};function xn(e,t){if("function"===typeof vn[t])return vn[t](e);if("function"===typeof En[t])return En[t](e);throw new TypeError("No synchronous parser found for ".concat(t))}async function wn(e,t){if("function"===typeof _n[t])return _n[t](e);if("function"===typeof Tn[t])return Tn[t](e);if(Sn(t,!1))return xn(e,t);throw new TypeError("No parser found for ".concat(t))}function An(e,t){let{parser:n,async:r}=t;r?_n[e]=n:vn[e]=n}function Sn(e,t){return t?_n[e]||Tn[e]:vn[e]||En[e]}function kn(e,t){delete(t?_n:vn)[e]}function Cn(e){return Object.keys(e?_n:vn)}const In={};function Nn(e,t){const n=new Rt(e,t);n.validate();const r=In[e]||(In[e]={});n.typeParser&&(xt(e,n.typeParser),r.type=!0),n.dataParser&&(An(e,n.dataParser),r.data=!0),n.asyncDataParser&&(An(e,n.asyncDataParser),r.asyncData=!0),t.outputs&&(r.outputs=t.outputs)}function On(e){return In[e]}function Rn(e){const t=In[e];t&&(t.type&&At(e),t.data&&kn(e),t.asyncData&&kn(e,!0),delete In[e])}function Dn(e){return e in In}function Pn(){return Object.keys(In)}const Ln=Object.assign({},r,i,s,o);function Mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data.push(...fn(e,t)),this.data.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id"))).forEach((e=>{e.id=ln(this.getIds(),"temp_id_")})),this}async function Fn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data.push(...await bn(e,t)),this.data.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id"))).forEach((e=>{e.id=ln(this.getIds(),"temp_id_")})),this}function jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data=[],"boolean"!==typeof t?this.add(e,t):this.add(e)}async function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data=[],"boolean"!==typeof t?this.addAsync(e,t):this.addAsync(e)}function Un(e){return e&&this.save(),this.data=[],this._options={},this}function Hn(e){if("citation-label"in e)return e["citation-label"];let t="";return e.author&&(t+=e.author[0].family||e.author[0].literal),e.issued&&e.issued["date-parts"]&&e.issued["date-parts"][0]&&(t+=e.issued["date-parts"][0][0]),e["year-suffix"]?t+=e["year-suffix"]:e.title&&(t+=e.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t}const qn={label:e=>e.reduce(((e,t)=>(e[t.id]=Hn(t),e)),{})};function zn(e,t){let n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label"===t)?Hn(e):e[t];switch(t){case"author":case"editor":return n.map((e=>e.literal||e.family||(0,Dt.GP)(e)));case"accessed":case"issued":return n["date-parts"][0];case"page":return n.split("-").map((e=>parseInt(e)));case"edition":case"issue":case"volume":return n=parseInt(n),isNaN(n)?-1/0:n;default:return n||-1/0}}function Vn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:/^!/.test(n);const i=zn(e,n=n.replace(/^!/,"")),s=zn(t,n);return(r?-1:1)*(i>s?1:i<s?-1:0)}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)&&this.save(),this.data.sort("function"===typeof e?e:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{const r=t.slice();let i=0;for(;!i&&r.length;)i=Vn(e,n,r.shift());return i}}(...e,"label")),this}const Kn=new un;function Wn(e,t){!function(e,t){if("string"!==typeof e)throw new TypeError("Invalid output format name, expected string, got ".concat(typeof e));if("function"!==typeof t)throw new TypeError("Invalid formatter, expected function, got ".concat(typeof t))}(e,t),Kn.set(e,t)}function Xn(e){Kn.remove(e)}function Yn(e){return Kn.has(e)}function Qn(){return Kn.list()}function $n(e,t){if(!Kn.has(e))throw new Error('Output format "'.concat(e,'" unavailable'));for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Kn.get(e)(t,...r)}function Jn(){return this.data.map((e=>e.id))}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $n(e,Wt(this.data),...n)}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};at(e);const t=Object.assign({},this.defaultOptions,this._options.output,e),{type:n,style:r}=t,[i,s]=r.split("-"),o="citation"===i?"bibliography":"csl"===i?"data":i,a="string"===n?"text":"json"===n?"object":n;let l;switch(o){case"bibliography":{const{lang:e,append:n,prepend:r}=t;l={template:s,lang:e,format:a,append:n,prepend:r};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":l={type:a};break;default:throw new Error('Invalid style "'.concat(o,'"'))}const u=this.format(o,Object.assign(l,e._newOptions)),{format:c}=t;if("real"===c&&"html"===a&&"undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("div");return e.innerHTML=u,e.firstChild}return"string"===c&&"object"===typeof u?JSON.stringify(u):u}const tr=function(e,t,n){"function"!==typeof t||n||(n=t,t=void 0);const r=(new this).setAsync(e,t);return"function"===typeof n?void r.then(n):r};function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this instanceof nr?(this._options=t,this.log=[],this.data=[],this.set(e,t),this.options(t),this):new nr(e,t)}Object.assign(nr.prototype,e,t,l,u,h),nr.prototype[Symbol.iterator]=function*(){yield*this.data},Object.assign(nr,p);const rr=nr;const ir=new un({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});function sr(e,t){!function(e,t){if("string"!==typeof e)throw new TypeError("Invalid dict name, expected string, got ".concat(typeof e));if("object"!==typeof t)throw new TypeError("Invalid dict, expected object, got ".concat(typeof t));for(const n in t){const e=t[n];if(!Array.isArray(e)||e.some((e=>"string"!==typeof e)))throw new TypeError('Invalid dict entry "'.concat(n,'", expected array of strings'))}}(e,t),ir.set(e,t)}function or(e){ir.remove(e)}function ar(e){return ir.has(e)}function lr(){return ir.list()}function ur(e){if(!ir.has(e))throw new Error('Dict "'.concat(e,'" unavailable'));return ir.get(e)}const cr={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},hr={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"},pr={};function dr(e,t){pr[e]=t}function mr(e){return pr[e]}function fr(e){return Object.prototype.hasOwnProperty.call(pr,e)}function gr(e){delete pr[e]}function br(){return Object.keys(pr)}const yr={input:a,output:c,dict:d,config:m},vr={};function _r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=vr[e]={};for(const r in t){if("config"===r){n.config={[e]:t.config},yr.config.add(e,t.config);continue}const i=n[r]={},s=t[r];for(const e in s){const t=s[e];i[e]=!0,yr[r].add(e,t)}}}function Er(){return[]}const Tr=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];function xr(e){if("string"!==typeof e)return JSON.parse(e);try{return JSON.parse(e)}catch(t){return gt.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),Tr.forEach((t=>{let[n,r]=t;e=e.replace(n,r)})),JSON.parse(e)}}function wr(e){return e.val()||e.text()||e.html()}function Ar(e){return e.value||e.textContent}const Sr={"@empty/text":{parse:Er,parseType:{dataType:"String",predicate:e=>""===e}},"@empty/whitespace+text":{parse:Er,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:Er,parseType:{dataType:"Primitive",predicate:e=>null==e}},"@else/json":{parse:xr,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:wr,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!==typeof jQuery&&e instanceof jQuery}},"@else/html":{parse:Ar,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}}};function kr(e,t,n){return e+(t<n.length-1?",":"")}function Cr(e,t){const n=Array.isArray(e);let r;return r=n?e.map((e=>Ir(e,t))):Object.keys(e).filter((t=>JSON.stringify(e[t]))).map((n=>'"'.concat(n,'": ').concat(Ir(e[n],t)))),r=r.map(kr).map((e=>t.listItem.join(e))),r=t.list.join(r.join("")),n?"[".concat(r,"]"):"{".concat(r,"}")}function Ir(e,t){return"object"===typeof e&&null!==e?0===e.length?"[]":0===Object.keys(e).length?"{}":Cr(e,t):JSON.stringify(e)}function Nr(e,t){let n=e.map((e=>Cr(e,t)));return n=n.map(kr).map((e=>t.entry.join(e))),n=n.join(""),t.bibliographyContainer.join("[".concat(n,"]"))}const Or={data(e){let{type:t,format:n=t||"text",version:r="1.0.2"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r<"1.0.2"&&(e=Jt(e)),"object"===n?en(e):"text"===n?JSON.stringify(e,null,2):(gt.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),Nr(e,ur(n)))},ndjson(e){let{version:t="1.0.2"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t<"1.0.2"&&(e=Jt(e)),e.map((e=>JSON.stringify(e))).join("\n")}};_r("@else",{input:Sr,output:Object.assign({},Or,qn)});const Rr=new un(JSON.parse('{"en-US":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"en-US\\"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"true\\"/><date form=\\"text\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">personal communication</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">accessed</term><term name=\\"and\\">and</term><term name=\\"and others\\">and others</term><term name=\\"anonymous\\">anonymous</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">at</term><term name=\\"available at\\">available at</term><term name=\\"by\\">by</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">cited</term><term name=\\"edition\\"><single>edition</single><multiple>editions</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">forthcoming</term><term name=\\"from\\">from</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in press</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">letter</term><term name=\\"no date\\">no date</term><term name=\\"no date\\" form=\\"short\\">n.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">presented at the</term><term name=\\"reference\\"><single>reference</single><multiple>references</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">retrieved</term><term name=\\"scale\\">scale</term><term name=\\"version\\">version</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">personal communication</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">\u201c</term><term name=\\"close-quote\\">\u201d</term><term name=\\"open-inner-quote\\">\u2018</term><term name=\\"close-inner-quote\\">\u2019</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">th</term><term name=\\"ordinal-01\\">st</term><term name=\\"ordinal-02\\">nd</term><term name=\\"ordinal-03\\">rd</term><term name=\\"ordinal-11\\">th</term><term name=\\"ordinal-12\\">th</term><term name=\\"ordinal-13\\">th</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">first</term><term name=\\"long-ordinal-02\\">second</term><term name=\\"long-ordinal-03\\">third</term><term name=\\"long-ordinal-04\\">fourth</term><term name=\\"long-ordinal-05\\">fifth</term><term name=\\"long-ordinal-06\\">sixth</term><term name=\\"long-ordinal-07\\">seventh</term><term name=\\"long-ordinal-08\\">eighth</term><term name=\\"long-ordinal-09\\">ninth</term><term name=\\"long-ordinal-10\\">tenth</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>book</single><multiple>books</multiple></term><term name=\\"chapter\\"><single>chapter</single><multiple>chapters</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>number</single><multiple>numbers</multiple></term><term name=\\"line\\"><single>line</single><multiple>lines</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraph</single><multiple>paragraphs</multiple></term><term name=\\"part\\"><single>part</single><multiple>parts</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verse</single><multiple>verses</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\" form=\\"short\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\" form=\\"short\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\" form=\\"short\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\" form=\\"short\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\" form=\\"short\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\" form=\\"short\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\" form=\\"short\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\" form=\\"short\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\" form=\\"short\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\"><single>bk.</single><multiple>bks.</multiple></term><term name=\\"chapter\\" form=\\"short\\"><single>chap.</single><multiple>chaps.</multiple></term><term name=\\"column\\" form=\\"short\\"><single>col.</single><multiple>cols.</multiple></term><term name=\\"figure\\" form=\\"short\\"><single>fig.</single><multiple>figs.</multiple></term><term name=\\"folio\\" form=\\"short\\"><single>fol.</single><multiple>fols.</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>no.</single><multiple>nos.</multiple></term><term name=\\"line\\" form=\\"short\\"><single>l.</single><multiple>ll.</multiple></term><term name=\\"note\\" form=\\"short\\"><single>n.</single><multiple>nn.</multiple></term><term name=\\"opus\\" form=\\"short\\"><single>op.</single><multiple>opp.</multiple></term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\"><single>para.</single><multiple>paras.</multiple></term><term name=\\"part\\" form=\\"short\\"><single>pt.</single><multiple>pts.</multiple></term><term name=\\"section\\" form=\\"short\\"><single>sec.</single><multiple>secs.</multiple></term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>director</single><multiple>directors</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>translator</single><multiple>translators</multiple></term><term name=\\"editortranslator\\"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ills.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>tran.</single><multiple>trans.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">by</term><term name=\\"director\\" form=\\"verb\\">directed by</term><term name=\\"editor\\" form=\\"verb\\">edited by</term><term name=\\"editorial-director\\" form=\\"verb\\">edited by</term><term name=\\"illustrator\\" form=\\"verb\\">illustrated by</term><term name=\\"interviewer\\" form=\\"verb\\">interview by</term><term name=\\"recipient\\" form=\\"verb\\">to</term><term name=\\"reviewed-author\\" form=\\"verb\\">by</term><term name=\\"translator\\" form=\\"verb\\">translated by</term><term name=\\"editortranslator\\" form=\\"verb\\">edited &amp; translated by</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">dir. by</term><term name=\\"editor\\" form=\\"verb-short\\">ed. by</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed. by</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. by</term><term name=\\"translator\\" form=\\"verb-short\\">trans. by</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. &amp; trans. by</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">January</term><term name=\\"month-02\\">February</term><term name=\\"month-03\\">March</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">May</term><term name=\\"month-06\\">June</term><term name=\\"month-07\\">July</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">October</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">December</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">Mar.</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">May</term><term name=\\"month-06\\" form=\\"short\\">Jun.</term><term name=\\"month-07\\" form=\\"short\\">Jul.</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Oct.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dec.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">Spring</term><term name=\\"season-02\\">Summer</term><term name=\\"season-03\\">Autumn</term><term name=\\"season-04\\">Winter</term></terms>\\n</locale>\\n","nl-NL":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"nl-NL\\"><info><translator><name>Rintze M. Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2017-04-01T12:00:00+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">persoonlijke communicatie</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">geraadpleegd</term><term name=\\"and\\">en</term><term name=\\"and others\\">en anderen</term><term name=\\"anonymous\\">anoniem</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">bij</term><term name=\\"available at\\">beschikbaar op</term><term name=\\"by\\">door</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">geciteerd</term><term name=\\"edition\\"><single>druk</single><multiple>drukken</multiple></term><term name=\\"edition\\" form=\\"short\\">dr.</term><term name=\\"et-al\\">e.a.</term><term name=\\"forthcoming\\">in voorbereiding</term><term name=\\"from\\">van</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in druk</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">brief</term><term name=\\"no date\\">zonder datum</term><term name=\\"no date\\" form=\\"short\\">z.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gepresenteerd bij</term><term name=\\"reference\\"><single>referentie</single><multiple>referenties</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">geraadpleegd</term><term name=\\"scale\\">schaal</term><term name=\\"version\\">versie</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">persoonlijke communicatie</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">\u2018</term><term name=\\"close-quote\\">\u2019</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">ste</term><term name=\\"ordinal-00\\" match=\\"whole-number\\">de</term><term name=\\"ordinal-02\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-03\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-04\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-05\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-06\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-07\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-09\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-10\\">de</term><term name=\\"ordinal-11\\">de</term><term name=\\"ordinal-12\\">de</term><term name=\\"ordinal-13\\">de</term><term name=\\"ordinal-14\\">de</term><term name=\\"ordinal-15\\">de</term><term name=\\"ordinal-16\\">de</term><term name=\\"ordinal-17\\">de</term><term name=\\"ordinal-18\\">de</term><term name=\\"ordinal-19\\">de</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">eerste</term><term name=\\"long-ordinal-02\\">tweede</term><term name=\\"long-ordinal-03\\">derde</term><term name=\\"long-ordinal-04\\">vierde</term><term name=\\"long-ordinal-05\\">vijfde</term><term name=\\"long-ordinal-06\\">zesde</term><term name=\\"long-ordinal-07\\">zevende</term><term name=\\"long-ordinal-08\\">achtste</term><term name=\\"long-ordinal-09\\">negende</term><term name=\\"long-ordinal-10\\">tiende</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>boek</single><multiple>boeken</multiple></term><term name=\\"chapter\\"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figuur</single><multiple>figuren</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folio\'s</multiple></term><term name=\\"issue\\"><single>nummer</single><multiple>nummers</multiple></term><term name=\\"line\\"><single>regel</single><multiple>regels</multiple></term><term name=\\"note\\"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"number-of-pages\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"paragraph\\"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name=\\"part\\"><single>deel</single><multiple>delen</multiple></term><term name=\\"section\\"><single>sectie</single><multiple>secties</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>vers</single><multiple>versen</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">hfdst.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">nr.</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">par.</term><term name=\\"part\\" form=\\"short\\">deel</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>regisseur</single><multiple>regisseurs</multiple></term><term name=\\"editor\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"editorial-director\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>vertaler</single><multiple>vertalers</multiple></term><term name=\\"editortranslator\\"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>reg.</single><multiple>reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>vert.</single><multiple>vert.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">door</term><term name=\\"director\\" form=\\"verb\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb\\">onder redactie van</term><term name=\\"editorial-director\\" form=\\"verb\\">onder redactie van</term><term name=\\"illustrator\\" form=\\"verb\\">ge\xefllustreerd door</term><term name=\\"interviewer\\" form=\\"verb\\">ge\xefnterviewd door</term><term name=\\"recipient\\" form=\\"verb\\">ontvangen door</term><term name=\\"reviewed-author\\" form=\\"verb\\">door</term><term name=\\"translator\\" form=\\"verb\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb\\">bewerkt &amp; vertaald door</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb-short\\">onder redactie van</term><term name=\\"editorial-director\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb-short\\">ge\xefllustreerd door</term><term name=\\"translator\\" form=\\"verb-short\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb-short\\">bewerkt &amp; vertaald door</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">januari</term><term name=\\"month-02\\">februari</term><term name=\\"month-03\\">maart</term><term name=\\"month-04\\">april</term><term name=\\"month-05\\">mei</term><term name=\\"month-06\\">juni</term><term name=\\"month-07\\">juli</term><term name=\\"month-08\\">augustus</term><term name=\\"month-09\\">september</term><term name=\\"month-10\\">oktober</term><term name=\\"month-11\\">november</term><term name=\\"month-12\\">december</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">jan.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mrt.</term><term name=\\"month-04\\" form=\\"short\\">apr.</term><term name=\\"month-05\\" form=\\"short\\">mei</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">aug.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">okt.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dec.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">lente</term><term name=\\"season-02\\">zomer</term><term name=\\"season-03\\">herst</term><term name=\\"season-04\\">winter</term></terms>\\n</locale>\\n","fr-FR":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"fr-FR\\"><info><translator><name>Gr\xe9goire Colly</name></translator><translator><name>Collectif Zotero francophone</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\" limit-day-ordinals-to-day-1=\\"true\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">publication en ligne anticip\xe9e</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">enregistrement audio</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">d\xe9sormais</term><term name=\\"loc-cit\\">loc.&#160;cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">sans lieu</term><term name=\\"no-place\\" form=\\"short\\">s.&#160;l.</term><term name=\\"no-publisher\\">sans nom</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">s.&#160;n.</term><term name=\\"on\\">sur</term><term name=\\"op-cit\\">op.&#160;cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">\xe9dition originale</term><term name=\\"personal-communication\\">communication personnelle</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">\xe9pisode de podcast</term><term name=\\"preprint\\">pr\xe9publication</term><term name=\\"radio-broadcast\\">\xe9mission de radio</term><term name=\\"radio-series\\">s\xe9rie radiophonique</term><term name=\\"radio-series-episode\\">\xe9pisode de s\xe9rie radiophonique</term><term name=\\"special-issue\\">num\xe9ro sp\xe9cial</term><term name=\\"special-section\\">section sp\xe9ciale</term><term name=\\"television-broadcast\\">\xe9mission de t\xe9l\xe9vision</term><term name=\\"television-series\\">s\xe9rie t\xe9l\xe9vis\xe9e</term><term name=\\"television-series-episode\\">\xe9pisode de s\xe9rie t\xe9l\xe9vis\xe9e</term><term name=\\"video\\">vid\xe9o</term><term name=\\"working-paper\\">document de travail</term><term name=\\"accessed\\">consult\xe9 le</term><term name=\\"and\\">et</term><term name=\\"and others\\">et autres</term><term name=\\"anonymous\\">anonyme</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">sur</term><term name=\\"available at\\">disponible sur</term><term name=\\"by\\">par</term><term name=\\"circa\\">vers</term><term name=\\"circa\\" form=\\"short\\">v.</term><term name=\\"cited\\">cit\xe9</term><term name=\\"edition\\" gender=\\"feminine\\"><single>\xe9dition</single><multiple>\xe9ditions</multiple></term><term name=\\"edition\\" form=\\"short\\">\xe9d.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">\xe0 para\xeetre</term><term name=\\"from\\">\xe0 l\'adresse</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">sous presse</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">entretien</term><term name=\\"letter\\">lettre</term><term name=\\"no date\\">sans date</term><term name=\\"no date\\" form=\\"short\\">s.&#160;d.</term><term name=\\"online\\">en ligne</term><term name=\\"presented at\\">pr\xe9sent\xe9 \xe0</term><term name=\\"reference\\"><single>r\xe9f\xe9rence</single><multiple>r\xe9f\xe9rences</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>r\xe9f.</single><multiple>r\xe9f.</multiple></term><term name=\\"retrieved\\">consult\xe9</term><term name=\\"scale\\">\xe9chelle</term><term name=\\"version\\">version</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">article</term><term name=\\"article-journal\\">article de revue</term><term name=\\"article-magazine\\">article de magazine</term><term name=\\"article-newspaper\\">article de presse</term><term name=\\"bill\\">projet de loi</term><term name=\\"book\\">livre</term><term name=\\"broadcast\\">\xe9mission</term><term name=\\"chapter\\">chapitre de livre</term><term name=\\"classic\\">classique</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">jeu de donn\xe9es</term><term name=\\"document\\">document</term><term name=\\"entry\\">entr\xe9e</term><term name=\\"entry-dictionary\\">entr\xe9e de dictionnaire</term><term name=\\"entry-encyclopedia\\">entr\xe9e d\'encyclop\xe9die</term><term name=\\"event\\">\xe9v\xe9nement</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">image</term><term name=\\"hearing\\">audience</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">affaire</term><term name=\\"legislation\\">acte juridique</term><term name=\\"manuscript\\">manuscrit</term><term name=\\"map\\">carte</term><term name=\\"motion_picture\\">enregistrement vid\xe9o</term><term name=\\"musical_score\\">partition</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">article de colloque</term><term name=\\"patent\\">brevet</term><term name=\\"performance\\">interpr\xe9tation</term><term name=\\"periodical\\">p\xe9riodique</term><term name=\\"personal_communication\\">communication personnelle</term><term name=\\"post\\">billet</term><term name=\\"post-weblog\\">billet de blog</term><term name=\\"regulation\\">r\xe8glement</term><term name=\\"report\\">rapport</term><term name=\\"review\\">recension</term><term name=\\"review-book\\">recension de livre</term><term name=\\"software\\">logiciel</term><term name=\\"song\\">chanson</term><term name=\\"speech\\">pr\xe9sentation</term><term name=\\"standard\\">norme</term><term name=\\"thesis\\">th\xe8se</term><term name=\\"treaty\\">trait\xe9</term><term name=\\"webpage\\">page web</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">art. de revue</term><term name=\\"article-magazine\\" form=\\"short\\">art. de mag.</term><term name=\\"article-newspaper\\" form=\\"short\\">art. de presse</term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap. de liv.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">ms</term><term name=\\"motion_picture\\" form=\\"short\\">enr. vid\xe9o</term><term name=\\"report\\" form=\\"short\\">rap.</term><term name=\\"review\\" form=\\"short\\">recens.</term><term name=\\"review-book\\" form=\\"short\\">recens. de liv.</term><term name=\\"song\\" form=\\"short\\">enr. audio</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">apr. J.-C.</term><term name=\\"bc\\">av. J.-C.</term><term name=\\"bce\\">av. n. \xe8.</term><term name=\\"ce\\">n. \xe8.</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">\xab&#160;</term><term name=\\"close-quote\\">&#160;\xbb</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">&#8209;</term> \x3c!-- non-breaking hyphen --\x3e<term name=\\"colon\\">&#160;:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">&#160;;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">\u1d49</term><term name=\\"ordinal-01\\" gender-form=\\"feminine\\" match=\\"whole-number\\">\u02b3\u1d49</term><term name=\\"ordinal-01\\" gender-form=\\"masculine\\" match=\\"whole-number\\">\u1d49\u02b3</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">premier</term><term name=\\"long-ordinal-02\\">deuxi\xe8me</term><term name=\\"long-ordinal-03\\">troisi\xe8me</term><term name=\\"long-ordinal-04\\">quatri\xe8me</term><term name=\\"long-ordinal-05\\">cinqui\xe8me</term><term name=\\"long-ordinal-06\\">sixi\xe8me</term><term name=\\"long-ordinal-07\\">septi\xe8me</term><term name=\\"long-ordinal-08\\">huiti\xe8me</term><term name=\\"long-ordinal-09\\">neuvi\xe8me</term><term name=\\"long-ordinal-10\\">dixi\xe8me</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\"><single>acte</single><multiple>actes</multiple></term><term name=\\"appendix\\"><single>appendice</single><multiple>appendices</multiple></term><term name=\\"article-locator\\"><single>article</single><multiple>articles</multiple></term><term name=\\"canon\\"><single>canon</single><multiple>canons</multiple></term><term name=\\"elocation\\"><single>emplacement</single><multiple>emplacements</multiple></term><term name=\\"equation\\"><single>\xe9quation</single><multiple>\xe9quations</multiple></term><term name=\\"rule\\"><single>r\xe8gle</single><multiple>r\xe8gles</multiple></term><term name=\\"scene\\"><single>sc\xe8ne</single><multiple>sc\xe8nes</multiple></term><term name=\\"table\\"><single>tableau</single><multiple>tableaux</multiple></term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple></term><term name=\\"title-locator\\"><single>titre</single><multiple>titres</multiple></term><term name=\\"book\\"><single>livre</single><multiple>livres</multiple></term><term name=\\"chapter\\"><single>chapitre</single><multiple>chapitres</multiple></term><term name=\\"column\\"><single>colonne</single><multiple>colonnes</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\" gender=\\"masculine\\"><single>num\xe9ro</single><multiple>num\xe9ros</multiple></term><term name=\\"line\\"><single>ligne</single><multiple>lignes</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opus</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name=\\"part\\"><single>partie</single><multiple>parties</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verset</single><multiple>versets</multiple></term><term name=\\"volume\\" gender=\\"masculine\\"><single>volume</single><multiple>volumes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\"><single>append.</single><multiple>append.</multiple></term><term name=\\"article-locator\\"><single>art.</single><multiple>art.</multiple></term><term name=\\"elocation\\"><single>emplact</single><multiple>emplact</multiple></term><term name=\\"equation\\"><single>eq.</single><multiple>eq.</multiple></term><term name=\\"rule\\"><single>r\xe8gle</single><multiple>r\xe8gles</multiple></term><term name=\\"scene\\"><single>sc.</single><multiple>sc.</multiple></term><term name=\\"table\\"><single>tab.</single><multiple>tab.</multiple></term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple></term><term name=\\"title-locator\\"><single>tit.</single><multiple>tit.</multiple></term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\"><single>f\u1d52</single><multiple>f\u1d52\u02e2</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>n\u1d52</single><multiple>n\u1d52\u02e2</multiple></term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">paragr.</term><term name=\\"part\\" form=\\"short\\">part.</term><term name=\\"section\\" form=\\"short\\">sect.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>v.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vol.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>pr\xe9sident</single><multiple>pr\xe9sidents</multiple></term><term name=\\"compiler\\"><single>compilateur</single><multiple>compilateurs</multiple></term><term name=\\"contributor\\"><single>contributeur</single><multiple>contributeurs</multiple></term><term name=\\"curator\\"><single>commissaire</single><multiple>commissaires</multiple></term><term name=\\"executive-producer\\"><single>producteur ex\xe9cutif</single><multiple>producteurs ex\xe9cutifs</multiple></term><term name=\\"guest\\"><single>invit\xe9</single><multiple>invit\xe9s</multiple></term><term name=\\"host\\"><single>h\xf4te</single><multiple>h\xf4tes</multiple></term><term name=\\"narrator\\"><single>narrateur</single><multiple>narrateurs</multiple></term><term name=\\"organizer\\"><single>organisateur</single><multiple>organisateurs</multiple></term><term name=\\"performer\\"><single>interpr\xe8te</single><multiple>interpr\xe8tes</multiple></term><term name=\\"producer\\"><single>producteur</single><multiple>producteurs</multiple></term><term name=\\"script-writer\\"><single>sc\xe9nariste</single><multiple>sc\xe9naristes</multiple></term><term name=\\"series-creator\\"><single>cr\xe9ateur de s\xe9rie</single><multiple>cr\xe9ateurs de s\xe9rie</multiple></term><term name=\\"director\\"><single>r\xe9alisateur</single><multiple>r\xe9alisateurs</multiple></term><term name=\\"editor\\"><single>\xe9diteur</single><multiple>\xe9diteurs</multiple></term><term name=\\"editorial-director\\"><single>directeur</single><multiple>directeurs</multiple></term><term name=\\"illustrator\\"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name=\\"translator\\"><single>traducteur</single><multiple>traducteurs</multiple></term><term name=\\"editortranslator\\"><single>\xe9diteur et traducteur</single><multiple>\xe9diteurs et traducteurs</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>compil.</single><multiple>compil.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contrib.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>commiss.</single><multiple>commiss.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>prod. ex\xe9.</single><multiple>prod. ex\xe9.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narr.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>org.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>interpr.</single><multiple>interpr.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prod.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>sc\xe9nar.</single><multiple>sc\xe9nar.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cr\xe9at.</single><multiple>cr\xe9at.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>r\xe9al.</single><multiple>r\xe9al.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>\xe9d.</single><multiple>\xe9d.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>dir.</single><multiple>dir.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trad.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>\xe9d. et trad.</single><multiple>\xe9d. et trad.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">pr\xe9sid\xe9 par</term><term name=\\"compiler\\" form=\\"verb\\">compil\xe9 par</term><term name=\\"contributor\\" form=\\"verb\\">avec</term><term name=\\"curator\\" form=\\"verb\\">organis\xe9 par</term><term name=\\"executive-producer\\" form=\\"verb\\">production ex\xe9cutive par</term><term name=\\"guest\\" form=\\"verb\\">avec pour invit\xe9</term><term name=\\"host\\" form=\\"verb\\">anim\xe9 par</term><term name=\\"narrator\\" form=\\"verb\\">lu par</term><term name=\\"organizer\\" form=\\"verb\\">organis\xe9 par</term><term name=\\"performer\\" form=\\"verb\\">interpr\xe9t\xe9 par</term><term name=\\"producer\\" form=\\"verb\\">produit par</term><term name=\\"script-writer\\" form=\\"verb\\">sc\xe9nario de</term><term name=\\"series-creator\\" form=\\"verb\\">cr\xe9\xe9 par</term><term name=\\"container-author\\" form=\\"verb\\">par</term><term name=\\"director\\" form=\\"verb\\">r\xe9alis\xe9 par</term><term name=\\"editor\\" form=\\"verb\\">\xe9dit\xe9 par</term><term name=\\"editorial-director\\" form=\\"verb\\">sous la direction de</term><term name=\\"illustrator\\" form=\\"verb\\">illustr\xe9 par</term><term name=\\"interviewer\\" form=\\"verb\\">entretien r\xe9alis\xe9 par</term><term name=\\"recipient\\" form=\\"verb\\">\xe0</term><term name=\\"reviewed-author\\" form=\\"verb\\">par</term><term name=\\"translator\\" form=\\"verb\\">traduit par</term><term name=\\"editortranslator\\" form=\\"verb\\">\xe9dit\xe9 et traduit par</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">compil. par</term><term name=\\"contributor\\" form=\\"verb-short\\">ac</term><term name=\\"curator\\" form=\\"verb-short\\">org. par</term><term name=\\"executive-producer\\" form=\\"verb-short\\">prod. ex\xe9. par</term><term name=\\"guest\\" form=\\"verb-short\\">ac pr inv.</term><term name=\\"host\\" form=\\"verb-short\\">anim. par</term><term name=\\"narrator\\" form=\\"verb-short\\">lu par</term><term name=\\"organizer\\" form=\\"verb-short\\">org. par</term><term name=\\"performer\\" form=\\"verb-short\\">interpr. par</term><term name=\\"producer\\" form=\\"verb-short\\">prod. par</term><term name=\\"script-writer\\" form=\\"verb-short\\">sc\xe9nar. de</term><term name=\\"series-creator\\" form=\\"verb-short\\">cr\xe9\xe9 par</term><term name=\\"director\\" form=\\"verb-short\\">r\xe9al. par</term><term name=\\"editor\\" form=\\"verb-short\\">\xe9d. par</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ss la dir. de</term><term name=\\"illustrator\\" form=\\"verb-short\\">ill. par</term><term name=\\"translator\\" form=\\"verb-short\\">trad. par</term><term name=\\"editortranslator\\" form=\\"verb-short\\">\xe9d. et trad. par</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\" gender=\\"masculine\\">janvier</term><term name=\\"month-02\\" gender=\\"masculine\\">f\xe9vrier</term><term name=\\"month-03\\" gender=\\"masculine\\">mars</term><term name=\\"month-04\\" gender=\\"masculine\\">avril</term><term name=\\"month-05\\" gender=\\"masculine\\">mai</term><term name=\\"month-06\\" gender=\\"masculine\\">juin</term><term name=\\"month-07\\" gender=\\"masculine\\">juillet</term><term name=\\"month-08\\" gender=\\"masculine\\">ao\xfbt</term><term name=\\"month-09\\" gender=\\"masculine\\">septembre</term><term name=\\"month-10\\" gender=\\"masculine\\">octobre</term><term name=\\"month-11\\" gender=\\"masculine\\">novembre</term><term name=\\"month-12\\" gender=\\"masculine\\">d\xe9cembre</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">janv.</term><term name=\\"month-02\\" form=\\"short\\">f\xe9vr.</term><term name=\\"month-03\\" form=\\"short\\">mars</term><term name=\\"month-04\\" form=\\"short\\">avr.</term><term name=\\"month-05\\" form=\\"short\\">mai</term><term name=\\"month-06\\" form=\\"short\\">juin</term><term name=\\"month-07\\" form=\\"short\\">juill.</term><term name=\\"month-08\\" form=\\"short\\">ao\xfbt</term><term name=\\"month-09\\" form=\\"short\\">sept.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">d\xe9c.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">printemps</term><term name=\\"season-02\\">\xe9t\xe9</term><term name=\\"season-03\\">automne</term><term name=\\"season-04\\">hiver</term></terms>\\n</locale>\\n","de-DE":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"de-DE\\"><info><translator><name>Till A. Heilmann</name></translator><translator><name>Ulrich</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>jakov</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" form=\\"ordinal\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">pers\xf6nliche Kommunikation</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">zugegriffen</term><term name=\\"and\\">und</term><term name=\\"and others\\">und andere</term><term name=\\"anonymous\\">ohne Autor</term><term name=\\"anonymous\\" form=\\"short\\">o.&#160;A.</term><term name=\\"at\\">auf</term><term name=\\"available at\\">verf\xfcgbar unter</term><term name=\\"by\\">von</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"cited\\">zitiert</term><term name=\\"edition\\"><single>Auflage</single><multiple>Auflagen</multiple></term><term name=\\"edition\\" form=\\"short\\">Aufl.</term><term name=\\"et-al\\">u.&#160;a.</term><term name=\\"forthcoming\\">i.&#160;E.</term><term name=\\"from\\">von</term><term name=\\"ibid\\">ebd.</term><term name=\\"in\\">in</term><term name=\\"in press\\">im Druck</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">Interview</term><term name=\\"letter\\">Brief</term><term name=\\"no date\\">ohne Datum</term><term name=\\"no date\\" form=\\"short\\">o.&#160;J.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gehalten auf der</term><term name=\\"reference\\"><single>Referenz</single><multiple>Referenzen</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>Ref.</single><multiple>Ref.</multiple></term><term name=\\"retrieved\\">abgerufen</term><term name=\\"scale\\">Ma\xdfstab</term><term name=\\"version\\">Version</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">pers\xf6nliche Kommunikation</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">&#160;n.&#160;Chr.</term><term name=\\"bc\\">&#160;v.&#160;Chr.</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">\u201e</term><term name=\\"close-quote\\">\u201c</term><term name=\\"open-inner-quote\\">\u201a</term><term name=\\"close-inner-quote\\">\u2018</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">.</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">erster</term><term name=\\"long-ordinal-02\\">zweiter</term><term name=\\"long-ordinal-03\\">dritter</term><term name=\\"long-ordinal-04\\">vierter</term><term name=\\"long-ordinal-05\\">f\xfcnfter</term><term name=\\"long-ordinal-06\\">sechster</term><term name=\\"long-ordinal-07\\">siebter</term><term name=\\"long-ordinal-08\\">achter</term><term name=\\"long-ordinal-09\\">neunter</term><term name=\\"long-ordinal-10\\">zehnter</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>Buch</single><multiple>B\xfccher</multiple></term><term name=\\"chapter\\"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name=\\"column\\"><single>Spalte</single><multiple>Spalten</multiple></term><term name=\\"figure\\"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name=\\"folio\\"><single>Blatt</single><multiple>Bl\xe4tter</multiple></term><term name=\\"issue\\"><single>Nummer</single><multiple>Nummern</multiple></term><term name=\\"line\\"><single>Zeile</single><multiple>Zeilen</multiple></term><term name=\\"note\\"><single>Note</single><multiple>Noten</multiple></term><term name=\\"opus\\"><single>Opus</single><multiple>Opera</multiple></term><term name=\\"page\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"number-of-pages\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"paragraph\\"><single>Absatz</single><multiple>Abs\xe4tze</multiple></term><term name=\\"part\\"><single>Teil</single><multiple>Teile</multiple></term><term name=\\"section\\"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name=\\"sub-verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>Vers</single><multiple>Verse</multiple></term><term name=\\"volume\\"><single>Band</single><multiple>B\xe4nde</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">B.</term><term name=\\"chapter\\" form=\\"short\\">Kap.</term><term name=\\"column\\" form=\\"short\\">Sp.</term><term name=\\"figure\\" form=\\"short\\">Abb.</term><term name=\\"folio\\" form=\\"short\\">Fol.</term><term name=\\"issue\\" form=\\"short\\">Nr.</term><term name=\\"line\\" form=\\"short\\">Z.</term><term name=\\"note\\" form=\\"short\\">N.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">Abs.</term><term name=\\"part\\" form=\\"short\\">Teil</term><term name=\\"section\\" form=\\"short\\">Abschn.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>V.</single><multiple>V.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>Bd.</single><multiple>Bde.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name=\\"editor\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"collection-editor\\"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name=\\"editorial-director\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"illustrator\\"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name=\\"translator\\"><single>\xdcbersetzer</single><multiple>\xdcbersetzer</multiple></term><term name=\\"editortranslator\\"><single>Herausgeber&#160;&amp; \xdcbersetzer</single><multiple>Herausgeber&#160;&amp; \xdcbersetzer</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>Reg.</single><multiple>Reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>Ill.</single><multiple>Ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>\xdcbers.</single><multiple>\xdcbers.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>Hrsg.&#160;&amp; \xdcbers.</single><multiple>Hrsg.&#160;&amp; \xdcbers.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">von</term><term name=\\"director\\" form=\\"verb\\">Regie von</term><term name=\\"editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"collection-editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"editorial-director\\" form=\\"verb\\">herausgegeben von</term><term name=\\"illustrator\\" form=\\"verb\\">illustriert von</term><term name=\\"interviewer\\" form=\\"verb\\">interviewt von</term><term name=\\"recipient\\" form=\\"verb\\">an</term><term name=\\"reviewed-author\\" form=\\"verb\\">von</term><term name=\\"translator\\" form=\\"verb\\">\xfcbersetzt von</term><term name=\\"editortranslator\\" form=\\"verb\\">herausgegeben und \xfcbersetzt von</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">Reg.</term><term name=\\"editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"collection-editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"editorial-director\\" form=\\"verb-short\\">hg. von</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. von</term><term name=\\"translator\\" form=\\"verb-short\\">\xfcbers. von</term><term name=\\"editortranslator\\" form=\\"verb-short\\">hg.&#160;&amp; \xfcbers. von</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">Januar</term><term name=\\"month-02\\">Februar</term><term name=\\"month-03\\">M\xe4rz</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">Mai</term><term name=\\"month-06\\">Juni</term><term name=\\"month-07\\">Juli</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">Oktober</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">Dezember</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">M\xe4rz</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">Mai</term><term name=\\"month-06\\" form=\\"short\\">Juni</term><term name=\\"month-07\\" form=\\"short\\">Juli</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Okt.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dez.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">Fr\xfchjahr</term><term name=\\"season-02\\">Sommer</term><term name=\\"season-03\\">Herbst</term><term name=\\"season-04\\">Winter</term></terms>\\n</locale>\\n","es-ES":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"es-ES\\"><info><translator><name>javimat</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" de \\"/><date-part name=\\"month\\" suffix=\\" de \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"advance-online-publication\\">advance online publication</term><term name=\\"album\\">album</term><term name=\\"audio-recording\\">audio recording</term><term name=\\"film\\">film</term><term name=\\"henceforth\\">henceforth</term><term name=\\"loc-cit\\">loc. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"no-place\\">no place</term><term name=\\"no-place\\" form=\\"short\\">n.p.</term><term name=\\"no-publisher\\">no publisher</term> \x3c!-- sine nomine --\x3e<term name=\\"no-publisher\\" form=\\"short\\">n.p.</term><term name=\\"on\\">on</term><term name=\\"op-cit\\">op. cit.</term> \x3c!-- like ibid., the abbreviated form is the regular form  --\x3e<term name=\\"original-work-published\\">original work published</term><term name=\\"personal-communication\\">comunicaci\xf3n personal</term><term name=\\"podcast\\">podcast</term><term name=\\"podcast-episode\\">podcast episode</term><term name=\\"preprint\\">preprint</term><term name=\\"radio-broadcast\\">radio broadcast</term><term name=\\"radio-series\\">radio series</term><term name=\\"radio-series-episode\\">radio series episode</term><term name=\\"special-issue\\">special issue</term><term name=\\"special-section\\">special section</term><term name=\\"television-broadcast\\">television broadcast</term><term name=\\"television-series\\">television series</term><term name=\\"television-series-episode\\">television series episode</term><term name=\\"video\\">video</term><term name=\\"working-paper\\">working paper</term><term name=\\"accessed\\">accedido</term><term name=\\"and\\">y</term><term name=\\"and others\\">y otros</term><term name=\\"anonymous\\">an\xf3nimo</term><term name=\\"anonymous\\" form=\\"short\\">an\xf3n.</term><term name=\\"at\\">en</term><term name=\\"available at\\">disponible en</term><term name=\\"by\\">de</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">citado</term><term name=\\"edition\\"><single>edici\xf3n</single><multiple>ediciones</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et&#160;al.</term><term name=\\"forthcoming\\">previsto</term><term name=\\"from\\">a partir de</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">en</term><term name=\\"in press\\">en imprenta</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">entrevista</term><term name=\\"letter\\">carta</term><term name=\\"no date\\">sin fecha</term><term name=\\"no date\\" form=\\"short\\">s.&#160;f.</term><term name=\\"online\\">en l\xednea</term><term name=\\"presented at\\">presentado en</term><term name=\\"reference\\"><single>referencia</single><multiple>referencias</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">recuperado</term><term name=\\"scale\\">escala</term><term name=\\"version\\">versi\xf3n</term>\\n\x3c!-- LONG ITEM TYPE FORMS --\x3e<term name=\\"article\\">preprint</term><term name=\\"article-journal\\">journal article</term><term name=\\"article-magazine\\">magazine article</term><term name=\\"article-newspaper\\">newspaper article</term><term name=\\"bill\\">bill</term><term name=\\"book\\">book</term><term name=\\"broadcast\\">broadcast</term><term name=\\"chapter\\">book chapter</term><term name=\\"classic\\">classic</term><term name=\\"collection\\">collection</term><term name=\\"dataset\\">dataset</term><term name=\\"document\\">document</term><term name=\\"entry\\">entry</term><term name=\\"entry-dictionary\\">dictionary entry</term><term name=\\"entry-encyclopedia\\">encyclopedia entry</term><term name=\\"event\\">event</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\">graphic</term><term name=\\"hearing\\">hearing</term><term name=\\"interview\\">interview</term><term name=\\"legal_case\\">legal case</term><term name=\\"legislation\\">legislation</term><term name=\\"manuscript\\">manuscript</term><term name=\\"map\\">map</term><term name=\\"motion_picture\\">video recording</term><term name=\\"musical_score\\">musical score</term><term name=\\"pamphlet\\">pamphlet</term><term name=\\"paper-conference\\">conference paper</term><term name=\\"patent\\">patent</term><term name=\\"performance\\">performance</term><term name=\\"periodical\\">periodical</term><term name=\\"personal_communication\\">comunicaci\xf3n personal</term><term name=\\"post\\">post</term><term name=\\"post-weblog\\">blog post</term><term name=\\"regulation\\">regulation</term><term name=\\"report\\">report</term><term name=\\"review\\">review</term><term name=\\"review-book\\">book review</term><term name=\\"software\\">software</term><term name=\\"song\\">audio recording</term><term name=\\"speech\\">presentation</term><term name=\\"standard\\">standard</term><term name=\\"thesis\\">thesis</term><term name=\\"treaty\\">treaty</term><term name=\\"webpage\\">webpage</term>\\n\x3c!-- SHORT ITEM TYPE FORMS --\x3e<term name=\\"article-journal\\" form=\\"short\\">journal art.</term><term name=\\"article-magazine\\" form=\\"short\\">mag. art.</term><term name=\\"article-newspaper\\" form=\\"short\\">newspaper art.</term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">bk. chap.</term><term name=\\"document\\" form=\\"short\\">doc.</term>\x3c!-- figure is in the list of locator terms --\x3e<term name=\\"graphic\\" form=\\"short\\">graph.</term><term name=\\"interview\\" form=\\"short\\">interv.</term><term name=\\"manuscript\\" form=\\"short\\">MS</term><term name=\\"motion_picture\\" form=\\"short\\">video rec.</term><term name=\\"report\\" form=\\"short\\">rep.</term><term name=\\"review\\" form=\\"short\\">rev.</term><term name=\\"review-book\\" form=\\"short\\">bk. rev.</term><term name=\\"song\\" form=\\"short\\">audio rec.</term>\\n\x3c!-- HISTORICAL ERA TERMS --\x3e<term name=\\"ad\\">d.&#160;C.</term><term name=\\"bc\\">a.&#160;C.</term><term name=\\"bce\\">BCE</term><term name=\\"ce\\">CE</term>\\n\x3c!-- PUNCTUATION --\x3e<term name=\\"open-quote\\">\xab</term><term name=\\"close-quote\\">\xbb</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">-</term><term name=\\"colon\\">:</term><term name=\\"comma\\">,</term><term name=\\"semicolon\\">;</term>\\n\x3c!-- ORDINALS --\x3e<term name=\\"ordinal\\">.\xaa</term>\\n\x3c!-- LONG ORDINALS --\x3e<term name=\\"long-ordinal-01\\">primera</term><term name=\\"long-ordinal-02\\">segunda</term><term name=\\"long-ordinal-03\\">tercera</term><term name=\\"long-ordinal-04\\">cuarta</term><term name=\\"long-ordinal-05\\">quinta</term><term name=\\"long-ordinal-06\\">sexta</term><term name=\\"long-ordinal-07\\">s\xe9ptima</term><term name=\\"long-ordinal-08\\">octava</term><term name=\\"long-ordinal-09\\">novena</term><term name=\\"long-ordinal-10\\">d\xe9cima</term>\\n\x3c!-- LONG LOCATOR FORMS --\x3e<term name=\\"act\\">\\t\\t\\t <single>act</single><multiple>acts</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"appendix\\">\\t\\t\\t <single>appendix</single><multiple>appendices</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>article</single><multiple>articles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"canon\\">\\t\\t\\t <single>canon</single><multiple>canons</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"elocation\\">\\t\\t\\t <single>location</single><multiple>locations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"equation\\">\\t\\t\\t <single>equation</single><multiple>equations</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"rule\\">\\t\\t\\t <single>rule</single><multiple>rules</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>scene</single><multiple>scenes</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>table</single><multiple>tables</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>title</single><multiple>titles</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"book\\"><single>libro</single><multiple>libros</multiple></term><term name=\\"chapter\\"><single>cap\xedtulo</single><multiple>cap\xedtulos</multiple></term><term name=\\"column\\"><single>columna</single><multiple>columnas</multiple></term><term name=\\"figure\\"><single>figura</single><multiple>figuras</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>n\xfamero</single><multiple>n\xfameros</multiple></term><term name=\\"line\\"><single>l\xednea</single><multiple>l\xedneas</multiple></term><term name=\\"note\\"><single>nota</single><multiple>notas</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name=\\"number-of-pages\\"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name=\\"paragraph\\"><single>p\xe1rrafo</single><multiple>p\xe1rrafos</multiple></term><term name=\\"part\\"><single>parte</single><multiple>partes</multiple></term><term name=\\"section\\"><single>secci\xf3n</single><multiple>secciones</multiple></term><term name=\\"sub-verbo\\"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name=\\"verse\\"><single>verso</single><multiple>versos</multiple></term><term name=\\"volume\\"><single>volumen</single><multiple>vol\xfamenes</multiple></term>\\n\x3c!-- SHORT LOCATOR FORMS --\x3e<term name=\\"appendix\\">\\t\\t\\t <single>app.</single><multiple>apps.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"article-locator\\">\\t\\t\\t <single>art.</single><multiple>arts.</multiple></term><term name=\\"elocation\\">\\t\\t\\t <single>loc.</single><multiple>locs.</multiple></term><term name=\\"equation\\">\\t\\t\\t <single>eq.</single><multiple>eqs.</multiple></term><term name=\\"rule\\">\\t\\t\\t <single>r.</single><multiple>rr.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"scene\\">\\t\\t\\t <single>sc.</single><multiple>scs.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"table\\">\\t\\t\\t <single>tbl.</single><multiple>tbls.</multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"timestamp\\"> \x3c!-- generally blank --\x3e<single></single><multiple></multiple>\\t\\t\\t\\t\\t\\t </term><term name=\\"title-locator\\">\\t\\t\\t <single>tit.</single><multiple>tits.</multiple></term><term name=\\"book\\" form=\\"short\\">lib.</term><term name=\\"chapter\\" form=\\"short\\">cap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">n.\xba</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">p\xe1rr.</term><term name=\\"part\\" form=\\"short\\">pt.</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub-verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term>\\n\x3c!-- SYMBOL LOCATOR FORMS --\x3e<term name=\\"paragraph\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term>\\n\x3c!-- LONG ROLE FORMS --\x3e<term name=\\"chair\\"><single>chair</single><multiple>chairs</multiple></term><term name=\\"compiler\\"><single>compiler</single><multiple>compilers</multiple></term><term name=\\"contributor\\"><single>contributor</single><multiple>contributors</multiple></term><term name=\\"curator\\"><single>curator</single><multiple>curators</multiple></term><term name=\\"executive-producer\\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\\"guest\\"><single>guest</single><multiple>guests</multiple></term><term name=\\"host\\"><single>host</single><multiple>hosts</multiple></term><term name=\\"narrator\\"><single>narrator</single><multiple>narrators</multiple></term><term name=\\"organizer\\"><single>organizer</single><multiple>organizers</multiple></term><term name=\\"performer\\"><single>performer</single><multiple>performers</multiple></term><term name=\\"producer\\"><single>producer</single><multiple>producers</multiple></term><term name=\\"script-writer\\"><single>writer</single><multiple>writers</multiple></term><term name=\\"series-creator\\"><single>series creator</single><multiple>series creators</multiple></term><term name=\\"director\\"><single>director</single><multiple>directores</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"illustrator\\"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name=\\"translator\\"><single>traductor</single><multiple>traductores</multiple></term><term name=\\"editortranslator\\"><single>editor y traductor</single><multiple>editores y traductores</multiple></term>\\n\x3c!-- SHORT ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"short\\"><single>comp.</single><multiple>comps.</multiple></term><term name=\\"contributor\\" form=\\"short\\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\\"curator\\" form=\\"short\\"><single>cur.</single><multiple>curs.</multiple></term><term name=\\"executive-producer\\" form=\\"short\\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\\"narrator\\" form=\\"short\\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\\"organizer\\" form=\\"short\\"><single>org.</single><multiple>orgs.</multiple></term><term name=\\"performer\\" form=\\"short\\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\\"producer\\" form=\\"short\\"><single>prod.</single><multiple>prods.</multiple></term><term name=\\"script-writer\\" form=\\"short\\"><single>writ.</single><multiple>writs.</multiple></term><term name=\\"series-creator\\" form=\\"short\\"><single>cre.</single><multiple>cres.</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ilust.</single><multiple>ilusts.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trads.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term>\\n\x3c!-- VERB ROLE FORMS --\x3e<term name=\\"chair\\" form=\\"verb\\">chaired by</term><term name=\\"compiler\\" form=\\"verb\\">compiled by</term><term name=\\"contributor\\" form=\\"verb\\">with</term><term name=\\"curator\\" form=\\"verb\\">curated by</term><term name=\\"executive-producer\\" form=\\"verb\\">executive produced by</term><term name=\\"guest\\" form=\\"verb\\">with guest</term><term name=\\"host\\" form=\\"verb\\">hosted by</term><term name=\\"narrator\\" form=\\"verb\\">narrated by</term><term name=\\"organizer\\" form=\\"verb\\">organized by</term><term name=\\"performer\\" form=\\"verb\\">performed by</term><term name=\\"producer\\" form=\\"verb\\">produced by</term><term name=\\"script-writer\\" form=\\"verb\\">written by</term><term name=\\"series-creator\\" form=\\"verb\\">created by</term><term name=\\"container-author\\" form=\\"verb\\">de</term><term name=\\"director\\" form=\\"verb\\">dirigido por</term><term name=\\"editor\\" form=\\"verb\\">editado por</term><term name=\\"editorial-director\\" form=\\"verb\\">editado por</term><term name=\\"illustrator\\" form=\\"verb\\">ilustrado por</term><term name=\\"interviewer\\" form=\\"verb\\">entrevistado por</term><term name=\\"recipient\\" form=\\"verb\\">a</term><term name=\\"reviewed-author\\" form=\\"verb\\">por</term><term name=\\"translator\\" form=\\"verb\\">traducido por</term><term name=\\"editortranslator\\" form=\\"verb\\">editado y traducido por</term>\\n\x3c!-- SHORT VERB ROLE FORMS --\x3e<term name=\\"compiler\\" form=\\"verb-short\\">comp. by</term><term name=\\"contributor\\" form=\\"verb-short\\">w.</term><term name=\\"curator\\" form=\\"verb-short\\">cur. by</term><term name=\\"executive-producer\\" form=\\"verb-short\\">exec. prod. by</term><term name=\\"guest\\" form=\\"verb-short\\">w. guest</term><term name=\\"host\\" form=\\"verb-short\\">hosted by</term><term name=\\"narrator\\" form=\\"verb-short\\">narr. by</term><term name=\\"organizer\\" form=\\"verb-short\\">org. by</term><term name=\\"performer\\" form=\\"verb-short\\">perf. by</term><term name=\\"producer\\" form=\\"verb-short\\">prod. by</term><term name=\\"script-writer\\" form=\\"verb-short\\">writ. by</term><term name=\\"series-creator\\" form=\\"verb-short\\">cre. by</term><term name=\\"director\\" form=\\"verb-short\\">dir.</term><term name=\\"editor\\" form=\\"verb-short\\">ed.</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed.</term><term name=\\"illustrator\\" form=\\"verb-short\\">ilust.</term><term name=\\"translator\\" form=\\"verb-short\\">trad.</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. y trad.</term>\\n\x3c!-- LONG MONTH FORMS --\x3e<term name=\\"month-01\\">enero</term><term name=\\"month-02\\">febrero</term><term name=\\"month-03\\">marzo</term><term name=\\"month-04\\">abril</term><term name=\\"month-05\\">mayo</term><term name=\\"month-06\\">junio</term><term name=\\"month-07\\">julio</term><term name=\\"month-08\\">agosto</term><term name=\\"month-09\\">septiembre</term><term name=\\"month-10\\">octubre</term><term name=\\"month-11\\">noviembre</term><term name=\\"month-12\\">diciembre</term>\\n\x3c!-- SHORT MONTH FORMS --\x3e<term name=\\"month-01\\" form=\\"short\\">ene.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mar.</term><term name=\\"month-04\\" form=\\"short\\">abr.</term><term name=\\"month-05\\" form=\\"short\\">may</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">ago.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dic.</term>\\n\x3c!-- SEASONS --\x3e<term name=\\"season-01\\">primavera</term><term name=\\"season-02\\">verano</term><term name=\\"season-03\\">oto\xf1o</term><term name=\\"season-04\\">invierno</term></terms>\\n</locale>\\n"}')),Dr=new un(JSON.parse('{"apa":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"never\\" page-range-format=\\"expanded\\"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href=\\"http://www.zotero.org/styles/apa\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/apa-6th-edition\\" rel=\\"template\\"/><link href=\\"https://apastyle.apa.org/style-grammar-guidelines/references/examples\\" rel=\\"documentation\\"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format=\\"author-date\\"/><category field=\\"psychology\\"/><category field=\\"generic-base\\"/><updated>2022-01-31T14:43:56+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><terms><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"translator\\" form=\\"short\\">trans.</term><term name=\\"interviewer\\" form=\\"short\\"><single>interviewer</single><multiple>interviewers</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"bc\\"> B.C.E.</term><term name=\\"ad\\"> C.E.</term><term name=\\"letter\\">personal communication</term><term name=\\"letter\\" form=\\"short\\">letter</term><term name=\\"issue\\" form=\\"long\\"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang=\\"af\\"><terms><term name=\\"letter\\">persoonlike kommunikasie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"ar\\"><terms><term name=\\"letter\\">\u0627\u062a\u0635\u0627\u0644 \u0634\u062e\u0635\u064a</term><term name=\\"letter\\" form=\\"short\\">\u062e\u0637\u0627\u0628</term></terms></locale><locale xml:lang=\\"bg\\"><terms><term name=\\"letter\\">\u043b\u0438\u0447\u043d\u0430 \u043a\u043e\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f</term><term name=\\"letter\\" form=\\"short\\">\u043f\u0438\u0441\u043c\u043e</term></terms></locale><locale xml:lang=\\"ca\\"><terms><term name=\\"letter\\">comunicaci\xf3 personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"cs\\"><terms><term name=\\"letter\\">osobn\xed komunikace</term><term name=\\"letter\\" form=\\"short\\">dopis</term></terms></locale><locale xml:lang=\\"cy\\"><terms><term name=\\"letter\\">cyfathrebu personol</term><term name=\\"letter\\" form=\\"short\\">llythyr</term></terms></locale><locale xml:lang=\\"da\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"de\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">pers\xf6nliche Kommunikation</term><term name=\\"letter\\" form=\\"short\\">Brief</term></terms></locale><locale xml:lang=\\"el\\"><terms><term name=\\"letter\\">\u03c0\u03c1\u03bf\u03c3\u03c9\u03c0\u03b9\u03ba\u03ae \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1</term><term name=\\"letter\\" form=\\"short\\">\u03b5\u03c0\u03b9\u03c3\u03c4\u03bf\u03bb\u03ae</term></terms></locale><locale xml:lang=\\"es\\"><terms><term name=\\"from\\">de</term><term name=\\"letter\\">comunicaci\xf3n personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"et\\"><terms><term name=\\"letter\\">isiklik suhtlus</term><term name=\\"letter\\" form=\\"short\\">kiri</term></terms></locale><locale xml:lang=\\"eu\\"><terms><term name=\\"letter\\">komunikazio pertsonala</term><term name=\\"letter\\" form=\\"short\\">gutuna</term></terms></locale><locale xml:lang=\\"fa\\"><terms><term name=\\"letter\\">\u0627\u0631\u062a\u0628\u0627\u0637 \u0634\u062e\u0635\u06cc</term><term name=\\"letter\\" form=\\"short\\">\u0646\u0627\u0645\u0647</term></terms></locale><locale xml:lang=\\"fi\\"><terms><term name=\\"letter\\">henkil\xf6kohtainen viestint\xe4</term><term name=\\"letter\\" form=\\"short\\">kirje</term></terms></locale><locale xml:lang=\\"fr\\"><terms><term name=\\"letter\\">communication personnelle</term><term name=\\"letter\\" form=\\"short\\">lettre</term><term name=\\"editor\\" form=\\"short\\"><single>\xe9d.</single><multiple>\xe9ds.</multiple></term></terms></locale><locale xml:lang=\\"he\\"><terms><term name=\\"letter\\">\u05ea\u05e7\u05e9\u05d5\u05e8\u05ea \u05d0\u05d9\u05e9\u05d9\u05ea</term><term name=\\"letter\\" form=\\"short\\">\u05de\u05db\u05ea\u05d1</term></terms></locale><locale xml:lang=\\"hr\\"><terms><term name=\\"letter\\">osobna komunikacija</term><term name=\\"letter\\" form=\\"short\\">pismo</term></terms></locale><locale xml:lang=\\"hu\\"><terms><term name=\\"letter\\">szem\xe9lyes kommunik\xe1ci\xf3</term><term name=\\"letter\\" form=\\"short\\">lev\xe9l</term></terms></locale><locale xml:lang=\\"id\\"><terms><term name=\\"letter\\">komunikasi pribadi</term><term name=\\"letter\\" form=\\"short\\">surat</term></terms></locale><locale xml:lang=\\"is\\"><terms><term name=\\"letter\\">pers\xf3nuleg samskipti</term><term name=\\"letter\\" form=\\"short\\">br\xe9f</term></terms></locale><locale xml:lang=\\"it\\"><terms><term name=\\"letter\\">comunicazione personale</term><term name=\\"letter\\" form=\\"short\\">lettera</term></terms></locale><locale xml:lang=\\"ja\\"><terms><term name=\\"letter\\">\u500b\u4eba\u7684\u306a\u3084\u308a\u53d6\u308a</term><term name=\\"letter\\" form=\\"short\\">\u624b\u7d19</term></terms></locale><locale xml:lang=\\"ko\\"><terms><term name=\\"letter\\">\uac1c\uc778 \uc11c\uc2e0</term><term name=\\"letter\\" form=\\"short\\">\ud3b8\uc9c0</term></terms></locale><locale xml:lang=\\"la\\"><terms><term name=\\"letter\\"/><term name=\\"letter\\" form=\\"short\\">epistula</term></terms></locale><locale xml:lang=\\"lt\\"><terms><term name=\\"letter\\">communicationis personalis</term><term name=\\"letter\\" form=\\"short\\"/></terms></locale><locale xml:lang=\\"lv\\"><terms><term name=\\"letter\\">person\u012bga komunik\u0101cija</term><term name=\\"letter\\" form=\\"short\\">v\u0113stule</term></terms></locale><locale xml:lang=\\"mn\\"><terms><term name=\\"letter\\">\u0445\u0443\u0432\u0438\u0439\u043d \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0430 \u0445\u043e\u043b\u0431\u043e\u043e</term><term name=\\"letter\\" form=\\"short\\">\u0437\u0430\u0445\u0438\u0430</term></terms></locale><locale xml:lang=\\"nb\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"nl\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">persoonlijke communicatie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"nn\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"pl\\"><terms><term name=\\"letter\\">osobista komunikacja</term><term name=\\"letter\\" form=\\"short\\">list</term></terms></locale><locale xml:lang=\\"pt\\"><terms><term name=\\"letter\\">comunica\xe7\xe3o pessoal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"ro\\"><terms><term name=\\"letter\\">comunicare personal\u0103</term><term name=\\"letter\\" form=\\"short\\">scrisoare</term></terms></locale><locale xml:lang=\\"ru\\"><terms><term name=\\"letter\\">\u043b\u0438\u0447\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0430</term><term name=\\"letter\\" form=\\"short\\">\u043f\u0438\u0441\u044c\u043c\u043e</term></terms></locale><locale xml:lang=\\"sk\\"><terms><term name=\\"letter\\">osobn\xe1 komunik\xe1cia</term><term name=\\"letter\\" form=\\"short\\">list</term></terms></locale><locale xml:lang=\\"sl\\"><terms><term name=\\"letter\\">osebna komunikacija</term><term name=\\"letter\\" form=\\"short\\">pismo</term></terms></locale><locale xml:lang=\\"sr\\"><terms><term name=\\"letter\\">\u043b\u0438\u0447\u043d\u0430 \u043a\u043e\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0458\u0430</term><term name=\\"letter\\" form=\\"short\\">\u043f\u0438\u0441\u043c\u043e</term></terms></locale><locale xml:lang=\\"sv\\"><terms><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"th\\"><terms><term name=\\"letter\\">\u0e01\u0e32\u0e23\u0e2a\u0e37\u0e48\u0e2d\u0e2a\u0e32\u0e23\u0e2a\u0e48\u0e27\u0e19\u0e1a\u0e38\u0e04\u0e04\u0e25</term><term name=\\"letter\\" form=\\"short\\">\u0e08\u0e14\u0e2b\u0e21\u0e32\u0e22</term></terms></locale><locale xml:lang=\\"tr\\"><terms><term name=\\"letter\\">ki\u015fisel ileti\u015fim</term><term name=\\"letter\\" form=\\"short\\">mektup</term></terms></locale><locale xml:lang=\\"uk\\"><terms><term name=\\"letter\\">\u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0435 \u0441\u043f\u0456\u043b\u043a\u0443\u0432\u0430\u043d\u043d\u044f</term><term name=\\"letter\\" form=\\"short\\">\u043b\u0438\u0441\u0442</term></terms></locale><locale xml:lang=\\"vi\\"><terms><term name=\\"letter\\">giao ti\u1ebfp c\xe1 nh\xe2n</term><term name=\\"letter\\" form=\\"short\\">th\u01b0</term></terms></locale><locale xml:lang=\\"zh-CN\\"><terms><term name=\\"letter\\">\u7684\u79c1\u4eba\u4ea4\u6d41</term><term name=\\"letter\\" form=\\"short\\">\u4fe1\u51fd</term></terms></locale><locale xml:lang=\\"zh-TW\\"><terms><term name=\\"letter\\">\u79c1\u4eba\u901a\u8a0a</term><term name=\\"letter\\" form=\\"short\\">\u4fe1\u51fd</term></terms></locale>\x3c!-- General categories of item types:Periodical: article-journal article-magazine article-newspaper post-weblog review review-bookPeriodical or Booklike: paper-conferenceBooklike: article book broadcast chapter dataset entry entry-dictionary entry-encyclopedia figure graphic interview manuscript map motion_picture musical_score pamphlet patent personal_communication report song speech thesis post webpageLegal: bill legal_case legislation treaty--\x3e\x3c!-- APA references contain four parts: author, date, title, source --\x3e<macro name=\\"author-bib\\"><names variable=\\"composer\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></if></choose></if></choose>\x3c!-- Test for editortranslator and put that first as that becomes available --\x3e<names variable=\\"editor\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"editorial-director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"collection-editor\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></substitute></names></macro><macro name=\\"author-intext\\"><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose>\x3c!-- These variables indicate that the letter is retrievable by the reader. If not, then use the APA in-text-only personal communication format --\x3e<if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><group delimiter=\\", \\"><names variable=\\"author\\"><name and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names>\x3c!-- Replace with term=\\"personal-communication\\" if that becomes available --\x3e<text term=\\"letter\\"/></group></if><else><names variable=\\"author\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names></else></choose></else-if><else><names variable=\\"composer\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"/><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if></choose></if></choose><names variable=\\"editor\\"/><names variable=\\"editorial-director\\"/><text macro=\\"title-intext\\"/></substitute></names></else></choose></macro><macro name=\\"date-bib\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/><choose><if type=\\"article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage\\" match=\\"any\\">\x3c!-- Many video and audio examples in manual give full dates. Err on the side of too much information. --\x3e<date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if><else-if type=\\"paper-conference\\">\x3c!-- Capture \'speech\' stored as \'paper-conference\' --\x3e<choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if></choose></else-if>\x3c!-- Only year: article article-journal book chapter entry entry-dictionary entry-encyclopedia dataset figure graphic manuscript map musical_score paper-conference[published] patent report review review-book thesis --\x3e</choose></if><else-if variable=\\"status\\"><group><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></group></group></macro><macro name=\\"date-sort-group\\">\x3c!-- APA sorts 1. no-date items, 2. items with dates, 3. in-press (status) items --\x3e<choose><if variable=\\"issued\\"><text value=\\"1\\"/></if><else-if variable=\\"status\\"><text value=\\"2\\"/></else-if><else><text value=\\"0\\"/></else></choose></macro><macro name=\\"date-sort-date\\"><date variable=\\"issued\\" form=\\"numeric\\"/></macro><macro name=\\"date-intext\\"><choose><if variable=\\"issued\\"><group delimiter=\\"/\\"><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\">\x3c!-- These variables indicate that the communication is retrievable by the reader. If not, then use the in-text-only personal communication format --\x3e<date variable=\\"issued\\" form=\\"text\\"/></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose><text variable=\\"year-suffix\\"/></group></group></group></if><else-if variable=\\"status\\"><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></macro>\x3c!-- APA has two description elements following the title:title (parenthetical) [bracketed]  --\x3e<macro name=\\"title-and-descriptions\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/><text macro=\\"bracketed\\"/></group></if><else><group delimiter=\\" \\"><text macro=\\"bracketed\\"/><text macro=\\"parenthetical\\"/></group></else></choose></macro><macro name=\\"title\\"><choose><if type=\\"post webpage\\" match=\\"any\\">\x3c!-- Webpages are always italicized --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if variable=\\"container-title\\" match=\\"any\\">\x3c!-- Other types are italicized based on presence of container-title.Assume that review and review-book are published in periodicals/blogs,not just on a web page (ex. 69) --\x3e<text variable=\\"title\\"/></else-if><else><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/>\x3c!-- Replace with volume-title as that becomes available --\x3e<choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></else-if><else><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/>\x3c!-- Replace with volume-title as that becomes available --\x3e<choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></else></choose></else></choose></macro><macro name=\\"title-intext\\"><choose><if variable=\\"title\\" match=\\"none\\"><text macro=\\"bracketed-intext\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"bill\\">\x3c!-- If a bill has no number or container-title, assume it is a hearing; italic --\x3e<choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else-if variable=\\"title\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\">\x3c!-- Replace with label variable=\\"number\\" as that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group></else></choose></else-if><else-if type=\\"legal_case\\" match=\\"any\\">\x3c!-- Cases are italicized --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></else-if><else-if type=\\"legislation treaty\\" match=\\"any\\">\x3c!-- Legislation and treaties not italicized or quoted --\x3e<text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else-if type=\\"post webpage\\" match=\\"any\\">\x3c!-- Webpages are always italicized --\x3e<text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else-if><else-if variable=\\"container-title\\" match=\\"any\\">\x3c!-- Other types are italicized or quoted based on presence of container-title. As in title macro. --\x3e<text variable=\\"title\\" form=\\"short\\" quotes=\\"true\\" text-case=\\"title\\"/></else-if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"parenthetical\\">\x3c!-- (Secondary contributors; Database location; Genre no. 123; Report Series 123, Version, Edition, Volume, Page) --\x3e<group prefix=\\"(\\" suffix=\\")\\"><choose><if type=\\"patent\\">\x3c!-- authority: U.S. ; genre: patent ; number: 123,445 --\x3e<group delimiter=\\" \\"><text variable=\\"authority\\" form=\\"short\\"/><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else>\x3c!-- This should be localized --\x3e<text value=\\"patent\\" text-case=\\"capitalize-first\\"/></else></choose><group delimiter=\\" \\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></group></if><else-if type=\\"post webpage\\" match=\\"any\\">\x3c!-- For post webpage, container-title is treated as publisher --\x3e<group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else-if><else-if variable=\\"container-title\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"any\\">\x3c!-- For audiovisual media, number information comes after title, not container-title --\x3e<text macro=\\"number\\"/></if></choose></group></else-if><else><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else></choose></group></macro><macro name=\\"parenthetical-container\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\"><group delimiter=\\"; \\"><text macro=\\"database-location\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"none\\">\x3c!-- For audiovisual media, number information comes after title, not container-title --\x3e<text macro=\\"number\\"/></if></choose><text macro=\\"locators-booklike\\"/></group></group></if></choose></macro><macro name=\\"bracketed\\">\x3c!-- [Descriptive information] --\x3e\x3c!-- If there is a number, genre is already printed in macro=\\"number\\" --\x3e<group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\">\x3c!-- Reviewed item --\x3e<group delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\">\x3c!-- Assume that genre is entered as \'Review of the book\' or similar --\x3e<choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else>\x3c!-- Replace with term=\\"review\\" as that becomes available --\x3e<text value=\\"Review of\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else>\x3c!-- Replace with term=\\"review\\" as that becomes available --\x3e<text value=\\"Review of\\"/></else></choose></else></choose><text macro=\\"reviewed-title\\"/></group><names variable=\\"reviewed-author\\"><label form=\\"verb-short\\" suffix=\\" \\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else-if type=\\"thesis\\">\x3c!-- Thesis type and institution --\x3e<group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><choose><if variable=\\"archive DOI URL\\" match=\\"any\\">\x3c!-- Include the university in brackets if thesis is published --\x3e<text variable=\\"publisher\\"/></if></choose></group></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\">\x3c!-- Interview information --\x3e<choose><if variable=\\"title\\"><text macro=\\"format\\"/></if><else-if variable=\\"genre\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><group delimiter=\\" \\"><text term=\\"author\\" form=\\"verb\\"/><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group></group></group></else-if><else-if variable=\\"interviewer\\"><group delimiter=\\"; \\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else><text macro=\\"format\\"/></else></choose></else-if><else-if type=\\"personal_communication\\">\x3c!-- Letter information --\x3e<choose><if variable=\\"recipient\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else><text macro=\\"format\\"/></else></choose></else-if><else-if variable=\\"composer\\" type=\\"song\\" match=\\"all\\">\x3c!-- Performer of classical music works --\x3e<group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\" \\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if><else>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></if><else><group delimiter=\\" \\"><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else>\x3c!-- Replace prefix with performer label as that becomes available --\x3e<names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></else></choose><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></else-if><else-if variable=\\"container-title\\" match=\\"none\\">\x3c!-- Other description --\x3e<text macro=\\"format\\"/></else-if><else>\x3c!-- For conference presentations, chapters in reports, software, place bracketed after the container title --\x3e<choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"any\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\"><choose><if variable=\\"version\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></else-if><else-if type=\\"report\\" match=\\"none\\"><text macro=\\"format\\"/></else-if></choose></else></choose></group></macro><macro name=\\"bracketed-intext\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\">\x3c!-- This should be localized --\x3e<text macro=\\"reviewed-title-intext\\" prefix=\\"Review of \\"/></if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><substitute><text macro=\\"format-intext\\"/></substitute></names></else-if><else-if type=\\"personal_communication\\">\x3c!-- Letter information --\x3e<choose><if variable=\\"recipient\\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group></if><else><text macro=\\"format-intext\\"/></else></choose></else-if><else><text macro=\\"format-intext\\"/></else></choose></group></macro><macro name=\\"bracketed-container\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if type=\\"paper-conference speech\\" match=\\"any\\">\x3c!-- Conference presentations should describe the session [container] in bracketed unless published in a proceedings --\x3e<choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\">\x3c!-- For entries in mobile app reference works, place bracketed after the container-title --\x3e<text macro=\\"format\\"/></else-if><else-if type=\\"report\\">\x3c!-- For chapters in reports, place bracketed after the container title --\x3e<text macro=\\"format\\"/></else-if></choose></group></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"secondary-contributors-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text macro=\\"secondary-contributors-booklike\\"/></if><else><text macro=\\"secondary-contributors-periodical\\"/></else></choose></else-if><else><text macro=\\"secondary-contributors-booklike\\"/></else></choose></macro><macro name=\\"secondary-contributors-periodical\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><names variable=\\"translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></macro><macro name=\\"secondary-contributors-booklike\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose>\x3c!-- When editortranslator becomes available, add a test: variable=\\"editortranslator\\" match=\\"none\\"; then print translator --\x3e<choose><if type=\\"post webpage\\" match=\\"none\\">\x3c!-- Webpages treat container-title like publisher --\x3e<choose><if variable=\\"container-title\\" match=\\"none\\"><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></if></choose></if><else><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></else></choose></group></macro><macro name=\\"database-location\\"><choose><if variable=\\"archive-place\\" match=\\"none\\">\x3c!-- With `archive-place`: physical archives. Without: online archives. --\x3e\x3c!-- Add archive_collection as that becomes available --\x3e<text variable=\\"archive_location\\"/></if></choose></macro><macro name=\\"number\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"title\\"/><choose><if is-numeric=\\"number\\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></if><else><text variable=\\"number\\"/></else></choose></group><choose><if type=\\"thesis\\"><choose>\x3c!-- Include the university in brackets if thesis is published --\x3e<if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></if></choose></group></if></choose></macro><macro name=\\"locators-booklike\\"><choose><if type=\\"article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage\\" match=\\"any\\"/><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></if></choose></else-if><else><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></else></choose></macro><macro name=\\"version\\"><choose><if is-numeric=\\"version\\"><group delimiter=\\" \\">\x3c!-- replace with label variable=\\"version\\" if that becomes available --\x3e<text term=\\"version\\" text-case=\\"capitalize-first\\"/><text variable=\\"version\\"/></group></if><else><text variable=\\"version\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><label variable=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"volume-booklike\\"><group delimiter=\\", \\">\x3c!-- Report series [ex. 52] --\x3e<choose><if type=\\"report\\"><group delimiter=\\" \\"><text variable=\\"collection-title\\" text-case=\\"title\\"/><text variable=\\"collection-number\\"/></group></if></choose><choose><if variable=\\"volume\\" match=\\"any\\"><choose>\x3c!-- Non-numeric volumes are already printed as part of the book title --\x3e<if is-numeric=\\"volume\\" match=\\"none\\"/><else><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><number variable=\\"volume\\" form=\\"numeric\\"/></group></else></choose></if><else><group>\x3c!-- Replace with label variable=\\"number-of-volumes\\" if that becomes available --\x3e<text term=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><text term=\\"page-range-delimiter\\" prefix=\\"1\\"/><number variable=\\"number-of-volumes\\" form=\\"numeric\\"/></group></else></choose><group delimiter=\\" \\"><label variable=\\"issue\\" text-case=\\"capitalize-first\\"/><text variable=\\"issue\\"/></group><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></group></macro><macro name=\\"reviewed-title\\"><choose><if variable=\\"reviewed-title\\">\x3c!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --\x3e<text variable=\\"reviewed-title\\" font-style=\\"italic\\"/></if><else>\x3c!-- Assume title is title of reviewed work --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></macro><macro name=\\"reviewed-title-intext\\"><choose><if variable=\\"reviewed-title\\">\x3c!-- Not possible to distinguish TV series episode from other reviewed works [Ex. 69] --\x3e<text variable=\\"reviewed-title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else>\x3c!-- Assume title is title of reviewed work --\x3e<text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"format\\"><choose><if variable=\\"genre medium\\" match=\\"any\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></if>\x3c!-- Generic labels for specific types --\x3e\x3c!-- These should be localized when possible --\x3e<else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\">\x3c!-- Replace with type=\\"software\\" and term=\\"software\\" as that becomes available --\x3e<text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"format-intext\\"><choose><if variable=\\"genre\\" match=\\"any\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if>\x3c!-- Generic labels for specific types --\x3e\x3c!-- These should be localized when possible --\x3e<else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\">\x3c!-- Replace with type=\\"software\\" and term=\\"software\\" as that becomes available --\x3e<text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro>\x3c!-- APA \'source\' element contains four parts:container, event, publisher, access --\x3e<macro name=\\"container\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\">\x3c!-- Periodical items --\x3e<text macro=\\"container-periodical\\"/></if><else-if type=\\"paper-conference\\">\x3c!-- Determine if paper-conference is a periodical or booklike --\x3e<choose><if variable=\\"editor editorial-director collection-editor container-author\\" match=\\"any\\"><text macro=\\"container-booklike\\"/></if><else><text macro=\\"container-periodical\\"/></else></choose></else-if><else-if type=\\"post webpage\\" match=\\"none\\">\x3c!-- post and webpage treat container-title like publisher --\x3e<text macro=\\"container-booklike\\"/></else-if></choose></macro><macro name=\\"container-periodical\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"container-title\\" font-style=\\"italic\\" text-case=\\"title\\"/><choose><if variable=\\"volume\\"><group><text variable=\\"volume\\" font-style=\\"italic\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group></if><else><text variable=\\"issue\\" font-style=\\"italic\\"/></else></choose><choose><if variable=\\"page\\"><text variable=\\"page\\"/></if><else>\x3c!-- Ex. 6: Journal article with article number or eLocator --\x3e\x3c!-- This should be localized --\x3e<text variable=\\"number\\" prefix=\\"Article \\"/></else></choose></group><choose><if variable=\\"issued\\"><choose><if variable=\\"issue page volume\\" match=\\"none\\"><text variable=\\"status\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></macro><macro name=\\"container-booklike\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/><group delimiter=\\", \\"><names variable=\\"editor translator\\" delimiter=\\", &amp; \\">\x3c!-- Change to editortranslator and move editor to substitute as that becomes available --\x3e<name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" text-case=\\"title\\" prefix=\\" (\\" suffix=\\")\\"/><substitute><names variable=\\"editorial-director\\"/><names variable=\\"collection-editor\\"/><names variable=\\"container-author\\"/></substitute></names><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"container-title\\"/>\x3c!-- Replace with volume-title as that becomes available --\x3e<choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></group><text macro=\\"parenthetical-container\\"/><text macro=\\"bracketed-container\\"/></group></if></choose></macro><macro name=\\"publisher\\"><group delimiter=\\"; \\"><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"none\\"><text variable=\\"publisher\\"/></if></choose></if><else-if type=\\"post webpage\\" match=\\"any\\">\x3c!-- For websites, treat container title like publisher --\x3e<group delimiter=\\"; \\"><text variable=\\"container-title\\" text-case=\\"title\\"/><text variable=\\"publisher\\"/></group></else-if><else-if type=\\"paper-conference\\">\x3c!-- For paper-conference, don\'t print publisher if in a journal-like proceedings --\x3e<choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></else-if><else-if type=\\"article-journal article-magazine article-newspaper post-weblog\\" match=\\"none\\"><text variable=\\"publisher\\"/></else-if></choose><group delimiter=\\", \\"><choose><if variable=\\"archive-place\\">\x3c!-- With `archive-place`: physical archives. Without: online archives. --\x3e\x3c!-- For physical archives, print the location before the archive name.For electronic archives, these are printed in macro=\\"description\\". --\x3e\x3c!-- Split \\"archive_location\\" into \\"archive_collection\\" and \\"archive_location\\" as that becomes available --\x3e\x3c!-- Must test for archive_collection:With collection: archive_collection (archive_location), archive, archive-placeNo collection: archive (archive_location), archive-place--\x3e<text variable=\\"archive_location\\"/></if></choose><text variable=\\"archive\\"/><text variable=\\"archive-place\\"/></group></group></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\" match=\\"any\\"><text variable=\\"DOI\\" prefix=\\"https://doi.org/\\"/></if><else-if variable=\\"URL\\"><group delimiter=\\" \\"><choose><if variable=\\"issued status\\" match=\\"none\\"><group delimiter=\\" \\"><text term=\\"retrieved\\" text-case=\\"capitalize-first\\"/><date variable=\\"accessed\\" form=\\"text\\" suffix=\\",\\"/><text term=\\"from\\"/></group></if></choose><text variable=\\"URL\\"/></group></else-if></choose></macro><macro name=\\"event\\"><choose><if variable=\\"event\\">\x3c!-- To prevent Zotero from printing event-place due to its double-mapping of all \'place\' toboth publisher-place and event-place. Remove this \'choose\' when that is changed. --\x3e<choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\">\x3c!-- Don\'t print event info if published in a proceedings --\x3e<group delimiter=\\", \\"><text variable=\\"event\\"/><text variable=\\"event-place\\"/></group></if></choose></if></choose></macro>\x3c!-- After \'source\', APA also prints publication history (original publication, reprint info, retraction info) --\x3e<macro name=\\"publication-history\\"><choose><if type=\\"patent\\" match=\\"none\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if variable=\\"references\\">\x3c!-- This provides the option for more elaborate description of publication history, such as full \\"reprinted\\" references(examples 11, 43, 44) or retracted references --\x3e<text variable=\\"references\\"/></if><else><group delimiter=\\" \\"><text value=\\"Original work published\\"/><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group></else></choose></group></if><else><text variable=\\"references\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></macro>\x3c!-- Legal citations have their own rules --\x3e<macro name=\\"legal-cites\\"><choose><if type=\\"legal_case\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></if><else-if type=\\"bill\\">\x3c!-- Currently designed to handle bills, resolutions, hearings, rederal reports. --\x3e<group delimiter=\\". \\"><group delimiter=\\", \\"><choose><if variable=\\"number container-title\\" match=\\"none\\">\x3c!-- If no number or container-title, then assume it is a hearing --\x3e<text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><choose><if variable=\\"number container-title\\" match=\\"none\\">\x3c!-- If no number or container-title, then assume it is a hearing --\x3e<names variable=\\"author\\" prefix=\\"(testimony of \\" suffix=\\")\\"><name and=\\"symbol\\" delimiter=\\", \\"/></names></if><else><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"legislation\\">\x3c!-- Currently designed to handle statutes, codified regulations, executive orders.For uncodified regulations, assume future code section is in status. --\x3e<group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"treaty\\">\x3c!-- APA generally defers to Bluebook for legal citations, but diverges withoutexplanation for treaty items. The Bluebook format that was used in APA 6thed. is used here. --\x3e<group delimiter=\\", \\"><text variable=\\"title\\" text-case=\\"title\\"/><names variable=\\"author\\"><name initialize-with=\\".\\" form=\\"short\\" delimiter=\\"-\\"/></names><text macro=\\"date-legal\\"/><text macro=\\"container-legal\\"/><text macro=\\"access\\"/></group></else-if></choose></macro><macro name=\\"date-legal\\"><choose><if type=\\"legal_case\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><text variable=\\"authority\\"/><choose><if variable=\\"container-title\\" match=\\"any\\">\x3c!-- Print only year for cases published in reporters--\x3e<date variable=\\"issued\\" form=\\"numeric\\" date-parts=\\"year\\"/></if><else><date variable=\\"issued\\" form=\\"text\\"/></else></choose></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><group delimiter=\\" \\"><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date><text term=\\"and\\" form=\\"symbol\\"/></group><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"treaty\\"><date variable=\\"issued\\" form=\\"text\\"/></else-if></choose></macro><macro name=\\"container-legal\\">\x3c!-- Expect legal item container-titles to be stored in short form --\x3e<choose><if type=\\"legal_case\\"><group delimiter=\\" \\"><choose><if variable=\\"container-title\\"><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><group delimiter=\\" \\">\x3c!-- Change to label variable=\\"section\\" as that becomes available --\x3e<text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><text value=\\"___\\"/></else></choose></group></if><else><group delimiter=\\" \\"><choose><if is-numeric=\\"number\\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"number\\"/></group></else></choose></group></if><else-if type=\\"bill\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\">\x3c!-- Replace with label variable=\\"number\\" as that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group><text variable=\\"authority\\"/><text variable=\\"chapter-number\\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></else-if><else-if type=\\"legislation\\"><choose><if variable=\\"number\\">\x3c!--There\'s a public law number--\x3e<group delimiter=\\", \\"><text variable=\\"number\\" prefix=\\"Pub. L. No. \\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></if><else><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"section\\"><group delimiter=\\" \\">\x3c!-- Change to label variable=\\"section\\" as that becomes available --\x3e<text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group></if><else><text variable=\\"page-first\\"/></else></choose></group></else></choose></else-if><else-if type=\\"treaty\\"><group delimiter=\\" \\"><number variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><group delimiter=\\" \\">\x3c!-- Replace with label variable=\\"number\\" if that becomes available --\x3e<text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></else></choose></group></else-if></choose></macro><macro name=\\"citation-locator\\"><group delimiter=\\" \\"><choose><if locator=\\"chapter\\"><label variable=\\"locator\\" text-case=\\"capitalize-first\\"/></if><else><label variable=\\"locator\\" form=\\"short\\"/></else></choose><text variable=\\"locator\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\" givenname-disambiguation-rule=\\"primary-name-with-initials\\"><sort><key macro=\\"author-bib\\" names-min=\\"3\\" names-use-first=\\"1\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><text macro=\\"author-intext\\"/><text macro=\\"date-intext\\"/><text macro=\\"citation-locator\\"/></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"21\\" et-al-use-first=\\"19\\" et-al-use-last=\\"true\\" entry-spacing=\\"0\\" line-spacing=\\"2\\"><sort><key macro=\\"author-bib\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/><key macro=\\"title\\"/></sort><layout><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\">\x3c!-- Legal items have different orders and delimiters --\x3e<choose><if variable=\\"DOI URL\\" match=\\"any\\"><text macro=\\"legal-cites\\"/></if><else><text macro=\\"legal-cites\\" suffix=\\".\\"/></else></choose></if><else><group delimiter=\\" \\"><group delimiter=\\". \\" suffix=\\".\\"><text macro=\\"author-bib\\"/><text macro=\\"date-bib\\"/><text macro=\\"title-and-descriptions\\"/><text macro=\\"container\\"/><text macro=\\"event\\"/><text macro=\\"publisher\\"/></group><text macro=\\"access\\"/><text macro=\\"publication-history\\"/></group></else></choose></layout></bibliography>\\n</style>\\n","vancouver":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" initialize-with-hyphen=\\"false\\" page-range-format=\\"minimal\\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\\"http://www.zotero.org/styles/vancouver\\" rel=\\"self\\"/><link href=\\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\\" rel=\\"documentation\\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\\"numeric\\"/><category field=\\"medicine\\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2022-04-14T13:48:43+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><terms><term name=\\"collection-editor\\" form=\\"long\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"presented at\\">presented at</term><term name=\\"available at\\">available from</term><term name=\\"section\\" form=\\"short\\">sect.</term></terms></locale><locale xml:lang=\\"fr\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"day\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"year\\"/></date></locale><macro name=\\"author\\"><names variable=\\"author\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/><substitute><names variable=\\"editor\\"/></substitute></names></macro><macro name=\\"editor\\"><names variable=\\"editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names></macro><macro name=\\"chapter-marker\\"><choose><if type=\\"chapter paper-conference entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/></if></choose></macro><macro name=\\"publisher\\"><choose>\x3c!--discard publisher info for articles--\x3e<if type=\\"article-journal article-magazine article-newspaper\\" match=\\"none\\"><group delimiter=\\": \\" suffix=\\";\\"><choose><if type=\\"thesis\\"><text variable=\\"publisher-place\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"speech\\"/><else><text variable=\\"publisher-place\\"/></else></choose><text variable=\\"publisher\\"/></group></if></choose></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><group delimiter=\\": \\"><text term=\\"available at\\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/></group></if></choose></macro><macro name=\\"accessed-date\\"><choose><if variable=\\"URL\\"><group prefix=\\"[\\" suffix=\\"]\\" delimiter=\\" \\"><text term=\\"cited\\" text-case=\\"lowercase\\"/><date variable=\\"accessed\\" form=\\"text\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"any\\"><group suffix=\\".\\" delimiter=\\" \\"><choose><if type=\\"article-journal review review-book\\" match=\\"any\\"><text variable=\\"container-title\\" form=\\"short\\" strip-periods=\\"true\\"/></if><else><text variable=\\"container-title\\" strip-periods=\\"true\\"/></else></choose><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\"[\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose></group><text macro=\\"edition\\" prefix=\\" \\"/></if>\x3c!--add event-name and event-place once they become available--\x3e<else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><group delimiter=\\". \\"><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"section\\"/></group></group><text variable=\\"number\\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\": \\" suffix=\\";\\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><text term=\\"presented at\\"/></group><text variable=\\"event\\"/></group></else-if><else><group delimiter=\\", \\" suffix=\\".\\"><choose><if variable=\\"collection-title\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose><text variable=\\"container-title\\"/></group></else></choose></macro><macro name=\\"title\\"><text variable=\\"title\\"/><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"none\\"><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\" [\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose><text macro=\\"edition\\" prefix=\\". \\"/></if></choose><choose><if type=\\"thesis\\"><text variable=\\"genre\\" prefix=\\" [\\" suffix=\\"]\\"/></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"date\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><group suffix=\\";\\" delimiter=\\" \\"><date variable=\\"issued\\" form=\\"text\\"/><text macro=\\"accessed-date\\"/></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"report\\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></else-if><else-if type=\\"patent\\"><group suffix=\\".\\"><group delimiter=\\", \\"><text variable=\\"number\\"/><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><text macro=\\"accessed-date\\"/></group><text variable=\\"event-place\\"/></group></else-if><else><group suffix=\\".\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else></choose></macro><macro name=\\"pages\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><text variable=\\"page\\" prefix=\\":\\"/></if><else-if type=\\"book\\" match=\\"any\\"><text variable=\\"number-of-pages\\" prefix=\\" \\"/><choose><if is-numeric=\\"number-of-pages\\"><label variable=\\"number-of-pages\\" form=\\"short\\" prefix=\\" \\" plural=\\"never\\"/></if></choose></else-if><else><group prefix=\\" \\" delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" plural=\\"never\\"/><text variable=\\"page\\"/></group></else></choose></macro><macro name=\\"journal-location\\"><choose><if type=\\"article-journal article-magazine review review-book\\" match=\\"any\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"collection-details\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"none\\"><choose><if variable=\\"collection-title\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><names variable=\\"collection-editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names><group delimiter=\\"; \\"><text variable=\\"collection-title\\"/><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\"/><text variable=\\"volume\\"/></group></group></group></if></choose></if></choose></macro><macro name=\\"report-details\\"><choose><if type=\\"report\\"><text variable=\\"number\\" prefix=\\"Report No.: \\"/></if></choose></macro><citation collapse=\\"citation-number\\"><sort><key variable=\\"citation-number\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\",\\"><text variable=\\"citation-number\\"/></layout></citation><bibliography et-al-min=\\"7\\" et-al-use-first=\\"6\\" second-field-align=\\"flush\\"><layout><text variable=\\"citation-number\\" suffix=\\". \\"/><group delimiter=\\". \\" suffix=\\". \\"><text macro=\\"author\\"/><text macro=\\"title\\"/></group><group delimiter=\\" \\" suffix=\\". \\"><group delimiter=\\": \\"><text macro=\\"chapter-marker\\"/><group delimiter=\\" \\"><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group><text macro=\\"publisher\\"/><group><text macro=\\"date\\"/><text macro=\\"journal-location\\"/><text macro=\\"pages\\"/></group></group><text macro=\\"collection-details\\" suffix=\\". \\"/><text macro=\\"report-details\\" suffix=\\". \\"/><text macro=\\"access\\"/></layout></bibliography>\\n</style>\\n","harvard1":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?>\\n<style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" default-locale=\\"en-GB\\"><info><title>Cite Them Right 11th edition - Harvard</title><id>http://www.zotero.org/styles/harvard-cite-them-right</id><link href=\\"http://www.zotero.org/styles/harvard-cite-them-right\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/harvard-cite-them-right-10th-edition\\" rel=\\"template\\"/><link href=\\"http://www.citethemrightonline.com/\\" rel=\\"documentation\\"/><author><name>Patrick O\'Brien</name></author><category citation-format=\\"author-date\\"/><category field=\\"generic-base\\"/><summary>Harvard according to Cite Them Right, 11th edition.</summary><updated>2021-09-01T10:12:20+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en-GB\\"><terms><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds</multiple></term><term name=\\"editortranslator\\" form=\\"verb\\">edited and translated by</term><term name=\\"edition\\" form=\\"short\\">edn.</term></terms></locale><macro name=\\"editor\\"><choose><if type=\\"chapter paper-conference\\" match=\\"any\\"><names variable=\\"container-author\\" delimiter=\\", \\" suffix=\\", \\"><name and=\\"text\\" initialize-with=\\". \\" delimiter=\\", \\" sort-separator=\\", \\" name-as-sort-order=\\"all\\"/></names><choose><if variable=\\"container-author\\" match=\\"none\\"><names variable=\\"editor translator\\" delimiter=\\", \\"><name and=\\"text\\" initialize-with=\\".\\" name-as-sort-order=\\"all\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\"/></names></if></choose></if></choose></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"chapter paper-conference\\" match=\\"none\\"><names variable=\\"editor translator\\" delimiter=\\". \\"><label form=\\"verb\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><name and=\\"text\\" initialize-with=\\".\\"/></names></if><else-if variable=\\"container-author\\" match=\\"any\\"><names variable=\\"editor translator\\" delimiter=\\". \\"><label form=\\"verb\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><name and=\\"text\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if></choose></macro><macro name=\\"author\\"><names variable=\\"author\\"><name and=\\"text\\" delimiter-precedes-last=\\"never\\" initialize-with=\\".\\" name-as-sort-order=\\"all\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\"/><et-al font-style=\\"italic\\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><choose><if type=\\"article-newspaper article-magazine\\" match=\\"any\\"><text variable=\\"container-title\\" text-case=\\"title\\" font-style=\\"italic\\"/></if><else><text macro=\\"title\\"/></else></choose></substitute></names></macro><macro name=\\"author-short\\"><names variable=\\"author\\"><name form=\\"short\\" and=\\"text\\" delimiter=\\", \\" delimiter-precedes-last=\\"never\\" initialize-with=\\". \\"/><et-al font-style=\\"italic\\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><choose><if type=\\"article-newspaper article-magazine\\" match=\\"any\\"><text variable=\\"container-title\\" text-case=\\"title\\" font-style=\\"italic\\"/></if><else><text macro=\\"title\\"/></else></choose></substitute></names></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\"><text variable=\\"DOI\\" prefix=\\"doi:\\"/></if><else-if variable=\\"URL\\"><text term=\\"available at\\" suffix=\\": \\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/><group prefix=\\" (\\" delimiter=\\": \\" suffix=\\")\\"><text term=\\"accessed\\" text-case=\\"capitalize-first\\"/><date form=\\"text\\" variable=\\"accessed\\"><date-part name=\\"day\\"/><date-part name=\\"month\\"/><date-part name=\\"year\\"/></date></group></else-if></choose></macro><macro name=\\"number-volumes\\"><choose><if variable=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><text variable=\\"number-of-volumes\\"/><label variable=\\"volume\\" form=\\"short\\" strip-periods=\\"true\\"/></group></if></choose></macro><macro name=\\"title\\"><choose><if type=\\"bill book legal_case legislation motion_picture report song thesis webpage graphic\\" match=\\"any\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><group delimiter=\\" \\"><text variable=\\"title\\" font-style=\\"italic\\"/><text variable=\\"medium\\" prefix=\\"[\\" suffix=\\"]\\"/></group><text macro=\\"number-volumes\\"/></group><text macro=\\"edition\\"/></group></if><else><text variable=\\"title\\" form=\\"long\\" quotes=\\"true\\"/></else></choose></macro><macro name=\\"publisher\\"><choose><if type=\\"thesis\\"><group delimiter=\\". \\"><text variable=\\"genre\\"/><text variable=\\"publisher\\"/></group></if><else-if type=\\"report\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><text variable=\\"number\\"/></group><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></group></else-if><else-if type=\\"article-journal article-newspaper article-magazine\\" match=\\"none\\"><group delimiter=\\" \\"><group delimiter=\\", \\"><choose><if type=\\"speech\\" variable=\\"event\\" match=\\"any\\"><text variable=\\"event\\" font-style=\\"italic\\"/></if></choose><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></group><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\", \\"><text variable=\\"collection-title\\"/><text variable=\\"collection-number\\"/></group></group></else-if></choose></macro><macro name=\\"year-date\\"><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/></if><else><text term=\\"no date\\"/><text variable=\\"year-suffix\\" prefix=\\" \\"/></else></choose></macro><macro name=\\"locator\\"><choose><if type=\\"article-journal\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"published-date\\"><choose><if type=\\"article-newspaper article-magazine post-weblog speech\\" match=\\"any\\"><date variable=\\"issued\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" form=\\"long\\"/></date></if></choose></macro><macro name=\\"pages\\"><choose><if type=\\"chapter paper-conference article-journal article article-magazine article-newspaper book review review-book report\\" match=\\"any\\"><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\"/><text variable=\\"page\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if variable=\\"container-title\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text variable=\\"container-title\\" font-style=\\"italic\\"/><choose><if type=\\"article article-journal\\" match=\\"any\\"><choose><if match=\\"none\\" variable=\\"page volume\\"><text value=\\"Preprint\\" prefix=\\"[\\" suffix=\\"]\\"/></if></choose></if></choose></group><text macro=\\"edition\\"/></group></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\" strip-periods=\\"true\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"container-prefix\\"><choose><if type=\\"chapter paper-conference\\" match=\\"any\\"><text term=\\"in\\"/></if></choose></macro><citation et-al-min=\\"4\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\"><sort><key macro=\\"year-date\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\", \\"><text macro=\\"author-short\\"/><text macro=\\"year-date\\"/></group><group><label variable=\\"locator\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"locator\\"/></group></group></layout></citation><bibliography and=\\"text\\" et-al-min=\\"4\\" et-al-use-first=\\"1\\"><sort><key macro=\\"author\\"/><key macro=\\"year-date\\"/><key variable=\\"title\\"/></sort><layout suffix=\\".\\"><group delimiter=\\". \\"><group delimiter=\\" \\"><text macro=\\"author\\"/><text macro=\\"year-date\\" prefix=\\"(\\" suffix=\\")\\"/><group delimiter=\\", \\"><text macro=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-prefix\\"/><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group></group><text macro=\\"secondary-contributors\\"/><text macro=\\"publisher\\"/></group><group delimiter=\\", \\" prefix=\\", \\"><text macro=\\"locator\\"/><text macro=\\"published-date\\"/><text macro=\\"pages\\"/></group><text macro=\\"access\\" prefix=\\". \\"/></layout></bibliography>\\n</style>\\n"}'));var Pr=n(8585),Lr=n.n(Pr);const Mr=Symbol.for("proxied"),Fr=function(e){const t=function(t,n){if(t.sys.wrapBibliographyEntry){const[e,r]=t.sys.wrapBibliographyEntry(this.system_id);n=[e,n,r].join("")}return e.call(this,t,n)};return t[Mr]=!0,t};for(const n in Lr().Output.Formats){const e=Lr().Output.Formats[n]["@bibliography/entry"];e&&!e[Mr]&&(Lr().Output.Formats[n]["@bibliography/entry"]=Fr(e))}function jr(e){if(Rr.has(e))return Rr.get(e);const t=e.replace("-","_");return Rr.has(t)?Rr.get(t):{}}const Br={},Ur=function(e,t,n,r){if(!Lr().Output.Formats[r]||!Lr().Output.Formats[r]["@bibliography/entry"])throw new TypeError("Cannot find format '".concat(r,"'"));const i=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),s=Dr.get(Dr.has(t)?t:"apa"),o=function(e,t,n,r,i){const s="".concat(e,"|").concat(t);let o;return Br[s]instanceof Lr().Engine?(o=Br[s],o.sys.retrieveItem=r,o.sys.wrapBibliographyEntry=void 0,o.updateItems([])):o=Br[s]=new(Lr().Engine)({retrieveLocale:i,retrieveItem:r},n,t,!0),o}(t,n=Rr.has(n)?n:void 0,s,(function(e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e];throw new Error("Cannot find entry with id '".concat(e,"'"))}),jr);return o.setOutputFormat(r),o.opt.development_extensions.wrap_url_and_doi=!1,o},Hr=(e,t)=>"function"===typeof t?t(e):t||"";function qr(e){return"object"===typeof e?e:{id:e}}function zr(e){return e.citationItems?e:{citationItems:[].concat(e).map(qr),properties:{noteIndex:0}}}function Vr(e){return e?e.map(zr):[]}_r("@csl",{output:{bibliography:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{template:n="apa",lang:r,format:i="text",nosort:s=!1}=t,o=t.entry?[].concat(t.entry):e.map((e=>{let{id:t}=e;return t}));e=Jt(e);const a=Ur(e,n,r,i),l=a.updateItems(o,s);if(t.append||t.prepend){const n=e.reduce(((e,t)=>(e[t.id]=t,e)),{});a.sys.wrapBibliographyEntry=function(e){const r=n[e];return[Hr(r,t.prepend),Hr(r,t.append)]}}t.hyperlinks&&(a.opt.development_extensions.wrap_url_and_doi=!0);const u=a.makeBibliography(),[{bibstart:c,bibend:h},p]=u,d=p.map(((e,t)=>{return n=e,r=l[t],((e,t,n)=>e.replace(/^\s*<[a-z]+/i,"$& data-".concat(t,'="').concat(n,'"')))(n,"csl-entry-id",r);var n,r}));return t.asEntryArray?d.map(((e,t)=>[l[t],e])):c+d.join("")+h},citation:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{template:n="apa",lang:r,format:i="text"}=t,s=e.map((e=>{let{id:t}=e;return t})),o=t.entry?t.entry:s;e=Jt(e);const a=Ur(e,n,r,i),l=Vr(t.citationsPre),u=zr(o),c=Vr(t.citationsPost);return a.rebuildProcessorState([...l,u,...c],i,[])[l.length][2]}},config:{engine:Ur,locales:Rr,templates:Dr}});var Gr=n(6012),Kr=n.n(Gr);const Wr=JSON.parse('{"source":{"article":"article-journal","book":"book","mvbook":"book","inbook":"chapter","bookinbook":"book","booklet":"book","collection":"book","mvcollection":"book","incollection":"chapter","dataset":"dataset","manual":"report","misc":"document","online":"webpage","patent":"patent","periodical":"periodical","proceedings":"book","mvproceedings":"book","inproceedings":"paper-conference","reference":"book","mvreference":"book","inreference":"entry","report":"report","software":"software","thesis":"thesis","unpublished":"manuscript","artwork":"graphic","audio":"song","image":"figure","jurisdiction":"legal_case","legislation":"legislation","legal":"treaty","letter":"personal_communication","movie":"motion_picture","music":"musical_score","performance":"performance","review":"review","standard":"standard","video":"motion_picture","conference":"paper-conference","electronic":"webpage","mastersthesis":"thesis","phdthesis":"thesis","techreport":"report","www":"webpage"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","bill":"legislation","book":"book","broadcast":"audio","chapter":"inbook","classic":"unpublished","collection":"misc","dataset":"dataset","document":"misc","entry":"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference","event":"misc","figure":"artwork","graphic":"artwork","hearing":"legal","interview":"audio","legal_case":"jurisdiction","legislation":"legislation","manuscript":"unpublished","motion_picture":"movie","musical_score":"music","paper-conference":"inproceedings","patent":"patent","performance":"performance","periodical":"periodical","personal_communication":"letter","post":"online","post-weblog":"online","regulation":"legal","report":"report","review":"review","review-book":"review","software":"software","song":"music","speech":"audio","standard":"standard","thesis":"thesis","treaty":"legal","webpage":"online"}}'),Xr=JSON.parse('{"source":{"article":"article-journal","book":"book","booklet":"book","conference":"paper-conference","inbook":"chapter","incollection":"chapter","inproceedings":"paper-conference","manual":"report","mastersthesis":"thesis","misc":"document","phdthesis":"thesis","proceedings":"book","techreport":"report","unpublished":"manuscript"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","book":"book","chapter":"inbook","manuscript":"unpublished","paper-conference":"inproceedings","report":"techreport","review":"article","review-book":"article"}}'),Yr=JSON.parse('{"biblatex":{"article":["author","title","journaltitle",["year","date"]],"book":["author","title",["year","date"]],"mvbook":["author","title",["year","date"]],"inbook":["author","title","booktitle",["year","date"]],"booklet":[["author","editor"],"title",["year","date"]],"collection":["editor","title",["year","date"]],"mvcollection":["editor","title",["year","date"]],"incollection":["author","title","booktitle",["year","date"]],"dataset":[["author","editor"],"title",["year","date"]],"online":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"patent":["author","title","number",["year","date"]],"periodical":["editor","title",["year","date"]],"proceedings":["title",["year","date"]],"mvproceedings":["title",["year","date"]],"inproceedings":["author","title","booktitle",["year","date"]],"report":["author","title","type","institution",["year","date"]],"thesis":["author","title","type","institution",["year","date"]],"unpublished":["author","title",["year","date"]],"conference":["author","title","booktitle",["year","date"]],"electronic":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"mastersthesis":["author","title","institution",["year","date"]],"phdthesis":["author","title","institution",["year","date"]],"techreport":["author","title","institution",["year","date"]],"www":[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},"bibtex":{"article":["author","title","journal","year"],"book":[["author","editor"],"title","publisher","year"],"booklet":["title"],"inbook":[["author","editor"],"title",["chapter","pages"],"publisher","year"],"incollection":["author","title","booktitle","publisher","year"],"inproceedings":["author","title","booktitle","year"],"mastersthesis":["author","title","school","year"],"phdthesis":["author","title","school","year"],"proceedings":["title","year"],"techreport":["author","title","institution","year"],"unpublished":["author","title","note"]}}'),Qr=JSON.parse('{"abstract":["field","literal"],"addendum":["field","literal"],"afterword":["list","name"],"annotation":["field","literal"],"annotator":["list","name"],"author":["list","name"],"authortype":["field","key"],"bookauthor":["list","name"],"bookpagination":["field","key"],"booksubtitle":["field","literal"],"booktitle":["field","title"],"booktitleaddon":["field","literal"],"chapter":["field","literal"],"commentator":["list","name"],"date":["field","date"],"doi":["field","verbatim"],"edition":["field","literal"],"editor":["list","name"],"editora":["list","name"],"editorb":["list","name"],"editorc":["list","name"],"editortype":["field","key"],"editoratype":["field","key"],"editorbtype":["field","key"],"editorctype":["field","key"],"eid":["field","literal"],"entrysubtype":["field","literal"],"eprint":["field","verbatim"],"eprintclass":["field","literal"],"eprinttype":["field","literal"],"eventdate":["field","date"],"eventtitle":["field","title"],"eventtitleaddon":["field","literal"],"file":["field","verbatim"],"foreword":["list","name"],"holder":["list","name"],"howpublished":["field","literal"],"indextitle":["field","literal"],"institution":["list","literal"],"introduction":["list","name"],"isan":["field","literal"],"isbn":["field","literal"],"ismn":["field","literal"],"isrn":["field","literal"],"issn":["field","literal"],"issue":["field","literal"],"issuesubtitle":["field","literal"],"issuetitle":["field","literal"],"iswc":["field","literal"],"journalsubtitle":["field","literal"],"journaltitle":["field","literal"],"label":["field","literal"],"language":["list","key"],"library":["field","literal"],"location":["list","literal"],"mainsubtitle":["field","literal"],"maintitle":["field","title"],"maintitleaddon":["field","literal"],"month":["field","literal"],"nameaddon":["field","literal"],"note":["field","literal"],"number":["field","literal"],"organization":["list","literal"],"origdate":["field","date"],"origlanguage":["list","key"],"origlocation":["list","literal"],"origpublisher":["list","literal"],"origtitle":["field","title"],"pages":["field","range"],"pagetotal":["field","literal"],"pagination":["field","key"],"part":["field","literal"],"publisher":["list","literal"],"pubstate":["field","key"],"reprinttitle":["field","literal"],"series":["field","title"],"shortauthor":["list","name"],"shorteditor":["list","name"],"shorthand":["field","literal"],"shorthandintro":["field","literal"],"shortjournal":["field","literal"],"shortseries":["field","literal"],"shorttitle":["field","title"],"subtitle":["field","literal"],"title":["field","title"],"titleaddon":["field","literal"],"translator":["list","name"],"type":["field","title"],"url":["field","uri"],"urldate":["field","date"],"venue":["field","literal"],"version":["field","literal"],"volume":["field","integer"],"volumes":["field","integer"],"year":["field","literal"],"crossref":["field","entry key"],"entryset":["separated","literal"],"execute":["field","code"],"gender":["field","gender"],"langid":["field","identifier"],"langidopts":["field","literal"],"ids":["separated","entry key"],"indexsorttitle":["field","literal"],"keywords":["separated","literal"],"options":["separated","options"],"presort":["field","string"],"related":["separated","literal"],"relatedoptions":["separated","literal"],"relatedtype":["field","identifier"],"relatedstring":["field","literal"],"sortkey":["field","literal"],"sortname":["list","name"],"sortshorthand":["field","literal"],"sorttitle":["field","literal"],"sortyear":["field","integer"],"xdata":["separated","entry key"],"xref":["field","entry key"],"namea":["list","name"],"nameb":["list","name"],"namec":["list","name"],"nameatype":["field","key"],"namebtype":["field","key"],"namectype":["field","key"],"lista":["list","literal"],"listb":["list","literal"],"listc":["list","literal"],"listd":["list","literal"],"liste":["list","literal"],"listf":["list","literal"],"usera":["field","literal"],"userb":["field","literal"],"userc":["field","literal"],"userd":["field","literal"],"usere":["field","literal"],"userf":["field","literal"],"verba":["field","literal"],"verbb":["field","literal"],"verbc":["field","literal"],"address":["list","literal"],"annote":["field","literal"],"archiveprefix":["field","literal"],"journal":["field","literal"],"key":["field","literal"],"pdf":["field","verbatim"],"primaryclass":["field","literal"],"school":["list","literal"],"numpages":["field","integer"],"pmid":["field","literal"],"pmcid":["field","literal"]}'),$r=JSON.parse('{"SN":{"`":"\u0300","\'":"\u0301","^":"\u0302","~":"\u0303","=":"\u0304","u":"\u0306",".":"\u0307","\\"":"\u0308","r":"\u030a","H":"\u030b","v":"\u030c","b":"\u0332","d":"\u0323","c":"\u0327","k":"\u0328","t":"\u0361","textcommabelow":"\u0326"},"Pi":{"textquotesingle":"\'","textasciigrave":"`","textquotedbl":"\\"","textdollar":"$","textless":"<","textgreater":">","textbackslash":"\\\\","textasciicircum":"^","textunderscore":"_","textbraceleft":"{","textbar":"|","textbraceright":"}","textasciitilde":"~","textexclamdown":"\xa1","textcent":"\xa2","textsterling":"\xa3","textcurrency":"\xa4","textyen":"\xa5","textbrokenbar":"\xa6","textsection":"\xa7","textasciidieresis":"\xa8","textcopyright":"\xa9","textordfeminine":"\xaa","guillemetleft":"\xab","guillemotleft":"\xab","textlnot":"\xac","textregistered":"\xae","textasciimacron":"\xaf","textdegree":"\xb0","textpm":"\xb1","texttwosuperior":"\xb2","textthreesuperior":"\xb3","textasciiacute":"\xb4","textmu":"\xb5","textparagraph":"\xb6","textperiodcentered":"\xb7","textonesuperior":"\xb9","textordmasculine":"\xba","guillemetright":"\xbb","guillemotright":"\xbb","textonequarter":"\xbc","textonehalf":"\xbd","textthreequarters":"\xbe","textquestiondown":"\xbf","AE":"\xc6","DH":"\xd0","texttimes":"\xd7","O":"\xd8","TH":"\xde","ss":"\xdf","ae":"\xe6","dh":"\xf0","textdiv":"\xf7","o":"\xf8","th":"\xfe","DJ":"\u0110","dj":"\u0111","i":"\u0131","IJ":"\u0132","ij":"\u0133","L":"\u0141","l":"\u0142","NG":"\u014a","ng":"\u014b","OE":"\u0152","oe":"\u0153","textflorin":"\u0192","j":"\u0237","textasciicaron":"\u02c7","textasciibreve":"\u02d8","textacutedbl":"\u02dd","textgravedbl":"\u02f5","texttildelow":"\u02f7","textbaht":"\u0e3f","SS":"\u1e9e","textcompwordmark":"\u200c","textendash":"\u2013","textemdash":"\u2014","textbardbl":"\u2016","textquoteleft":"\u2018","textquoteright":"\u2019","quotesinglbase":"\u201a","textquotedblleft":"\u201c","textquotedblright":"\u201d","quotedblbase":"\u201e","textdagger":"\u2020","textdaggerdbl":"\u2021","textbullet":"\u2022","textellipsis":"\u2026","textperthousand":"\u2030","textpertenthousand":"\u2031","guilsinglleft":"\u2039","guilsinglright":"\u203a","textreferencemark":"\u203b","textinterrobang":"\u203d","textfractionsolidus":"\u2044","textlquill":"\u2045","textrquill":"\u2046","textdiscount":"\u2052","textcolonmonetary":"\u20a1","textlira":"\u20a4","textnaira":"\u20a6","textwon":"\u20a9","textdong":"\u20ab","texteuro":"\u20ac","textpeso":"\u20b1","textcelsius":"\u2103","textnumero":"\u2116","textcircledP":"\u2117","textrecipe":"\u211e","textservicemark":"\u2120","texttrademark":"\u2122","textohm":"\u2126","textmho":"\u2127","textestimated":"\u212e","textleftarrow":"\u2190","textuparrow":"\u2191","textrightarrow":"\u2192","textdownarrow":"\u2193","textminus":"\u2212","Hwithstroke":"\u0126","hwithstroke":"\u0127","textasteriskcentered":"\u2217","textsurd":"\u221a","textlangle":"\u2329","textrangle":"\u232a","textblank":"\u2422","textvisiblespace":"\u2423","textopenbullet":"\u25e6","textbigcircle":"\u25ef","textmusicalnote":"\u266a","textmarried":"\u26ad","textdivorced":"\u26ae","textinterrobangdown":"\u2e18","textcommabelow":null,"copyright":"\xa9"},"vl":{"Gamma":"\u0393","Delta":"\u0394","Theta":"\u0398","Lambda":"\u039b","Xi":"\u039e","Pi":"\u03a0","Sigma":"\u03a3","Phi":"\u03a6","Psi":"\u03a8","Omega":"\u03a9","alpha":"\u03b1","beta":"\u03b2","gamma":"\u03b3","delta":"\u03b4","varepsilon":"\u03b5","zeta":"\u03b6","eta":"\u03b7","theta":"\u03b8","iota":"\u03b9","kappa":"\u03ba","lambda":"\u03bb","mu":"\u03bc","nu":"\u03bd","xi":"\u03be","pi":"\u03c0","rho":"\u03c1","varsigma":"\u03c2","sigma":"\u03c3","tau":"\u03c4","upsilon":"\u03c5","varphi":"\u03c6","chi":"\u03c7","psi":"\u03c8","omega":"\u03c9","vartheta":"\u03d1","Upsilon":"\u03d2","phi":"\u03d5","varpi":"\u03d6","varrho":"\u03f1","epsilon":"\u03f5"}}'),Jr=Yr,Zr=Qr,ei=$r.SN,ti=$r.Pi,ni=$r.vl,ri={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},ii={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},si={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},oi={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["\u201c","\u201d"]},ai={ElsevierGlyph:e=>String.fromCharCode(parseInt(e,16)),href:(e,t)=>e,url:e=>e},li=/---?|''|``|~/g,ui={"--":"\u2013","---":"\u2014","``":"\u201c","''":"\u201d","~":"\xa0"},ci={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},hi={"^":{0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207a","-":"\u207b","=":"\u207c","(":"\u207d",")":"\u207e",i:"\u2071",n:"\u207f"},_:{0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089","+":"\u208a","-":"\u208b","=":"\u208c","(":"\u208d",")":"\u208e",a:"\u2090",e:"\u2091",o:"\u2092",x:"\u2093","\u0259":"\u2094",h:"\u2095",k:"\u2096",l:"\u2097",m:"\u2098",n:"\u2099",s:"\u209a",p:"\u209b",t:"\u209c"}},pi=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"],di={constants:v,types:{biblatex:Wr,bibtex:Xr},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1,checkLabel:!0,asciiOnly:!0},biber:{annotationMarker:"+an",namedAnnotationMarker:":"}};function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bi=/[a-zA-Z_][a-zA-Z0-9_:+-]*/,yi={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},vi=Kr().states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:fi(fi({},yi),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:bi,next:"dataEntryContents"}}),otherEntryContents:fi(fi({},yi),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:fi(fi({},yi),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:fi(fi({},yi),{},{identifier:bi,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),_i={"(":")","{":"}"},Ei=new cn({Main(){const e=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;e.push(this.consumeRule("Entry"))}return e.filter(Boolean)},_(){let e;for(;e!==this.token;)e=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const e=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;let n;if(this.consumeRule("_"),"string"===e){const[e,t]=this.consumeRule("Field");this.state.strings[e]=t}else if("preamble"===e)this.consumeRule("Expression");else{const t=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");n=fi({type:e,label:t},this.consumeRule("EntryBody"))}this.consumeRule("_");const r=this.consumeToken("rbrace").value;return r!==_i[t]&&gt.warn("[plugin-bibtex]",'entry started with "'.concat(t,'", but ends with "').concat(r,'"')),n},EntryBody(){const e={properties:{}};for(;this.matchToken("identifier");){const[t,n]=this.consumeRule("Field");let r,i="default";if(t.endsWith(di.biber.annotationMarker)?r=t.slice(0,-di.biber.annotationMarker.length):t.includes(di.biber.annotationMarker+di.biber.namedAnnotationMarker)&&([r,i]=t.split(di.biber.annotationMarker+di.biber.namedAnnotationMarker)),r?(e.annotations||(e.annotations={}),e.annotations[r]||(e.annotations[r]={}),e.annotations[r][i]=n):e.properties[t]=n,this.consumeRule("_"),!this.consumeToken("comma",!0))break;this.consumeRule("_")}return e},Field(){const e=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");return[e,this.consumeRule("Expression")]},Expression(){let e=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),e+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return e},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let e="";for(this.consumeToken("quote");!this.matchToken("quote");)e+=this.consumeRule("Text");return this.consumeToken("quote"),e},BracketString(){let e="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)e+=this.consumeRule("Text");return this.consumeToken("rbrace"),e},Text(){return this.matchToken("lbrace")?"{".concat(this.consumeRule("BracketString"),"}"):this.consumeToken("text").value}},{strings:ri});function Ti(e){return Ei.parse(vi.reset(e))}const xi=/\n\s*(?=\[)/g,wi=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,Ai=/((?=.)\s)*\n\s*/g,Si=/:(.*)/,ki=e=>{const[,t,n]=e.match(wi)||[];if(t&&n){const e={type:"book",label:t,properties:{}};return n.trim().split(Ai).filter((e=>e)).forEach((t=>{let[n,r]=t.split(Si);r&&(n=n.trim(),r=r.trim(),"type"===n?e.type=r:e.properties[n]=r)})),e}return{}},Ci=new Set(["the","a","an"]),Ii=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,Ni=/[^\u0020-\u007F]+/g;function Oi(e){return null===e?"null":void 0===e?"undefined":di.format.checkLabel?e.toString().replace(Ii,""):e.toString()}function Ri(e){return e?e.normalize("NFKD").replace(Ni,"").split(Ii).find((e=>e.length&&!Ci.has(e.toLowerCase()))):""}const Di=new dn([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),Pi=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Li="BibTeX type",Mi="BibTeX label",Fi={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},ji={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},Bi=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function Ui(e){if(null==e)return[];if(+e)return[parseInt(e,10)];if((e=e.trim().toLowerCase())in Fi)return[Fi[e]];const t=e.split(/\s+/);let n,r;return t[0]in Fi?(n=Fi[t[0]],r=parseInt(t[1])):t[1]in Fi&&(n=Fi[t[1]],r=parseInt(t[0])),r?[n,r]:n?[n]:[]}const Hi={PICK:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource:e=>[e]},DATE:{toTarget(e){const t=e.split("/").map((e=>e&&".."!==e?function(e){const t=e.split("T")[0].replace(/[?~%]$/,"").split("-"),n=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),r=+t[1],i=+t[2];return!r||r>20?[n]:i?[n,r,i]:[n,r]}(e):void 0));return isNaN(t[0][0])?{literal:e}:{"date-parts":t}},toSource(e){if("date-parts"in e)return e["date-parts"].map((e=>e.map((e=>e.toString().padStart(2,"0"))).join("-"))).join("/")}},YEAR_MONTH:{toTarget:(e,t,n)=>isNaN(+e)?{literal:e}:isNaN(+n)||isNaN(+t)?{"date-parts":[[+e,...Ui(t)]]}:{"date-parts":[[+e,+t,+n]]},toSource(e){if("date-parts"in e){const[t,n,r]=e["date-parts"][0];return[t.toString(),n?r?"".concat(Pi[n-1]," ").concat(r):n:void 0]}return[]}},EPRINT:{toTarget(e,t){if("pubmed"===t)return e},toSource:e=>[e,"pubmed"]},EVENT_TITLE:{toTarget:(e,t)=>(t&&(e+=" ("+t+")"),e),toSource:e=>e.match(/^(.+)(?: \((.+)\))?$/).slice(1,3)},HOW_PUBLISHED:{toTarget(e){if(e.startsWith("http"))return e}},KEYWORDS:{toTarget:e=>e.join(","),toSource:e=>e.split(",")},LABEL:{toTarget:e=>[e,e],toSource(e,t,n,r,i,s){return!t||(o=t,di.format.checkLabel&&o.match(Ii))?di.format.useIdAsLabel?Oi(e):function(e,t,n,r){let i="";return e&&e[0]&&(i+=Ri(e[0].family||e[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(i+=t["date-parts"][0][0]),n?i+=n:r&&(i+=Ri(r)),i}(n,r,i,s)||Oi(e):t;var o}},NAMES:{toTarget:e=>e.map(Di.convertToTarget),toSource:e=>e.map(Di.convertToSource)},NAMES_ORCID:{toTarget:(e,t)=>e.map(((e,n)=>{var r;const i=Di.convertToTarget(e);return"string"===typeof(null===t||void 0===t||null===(r=t.item)||void 0===r?void 0:r[n])&&(i._orcid=t.item[n]),i})),toSource(e){const t=[],n=[];for(let r=0;r<e.length;r++)t.push(Di.convertToSource(e[r])),e[r]._orcid&&(n[r]=e[r]._orcid);return[t,n.length?{item:n}:void 0]}},PAGES:{toTarget:e=>e.replace(/[\u2013\u2014]/,"-"),toSource:e=>e.replace("-","--")},STANDARD_NUMBERS:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource(e){const t=e.toString().match(Bi);return t?t.slice(1,5):[]}},STATUS:{toSource(e){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(e))return e}},TITLE:{toTarget:(e,t,n)=>(t&&(e+=": "+t),e),toSource:e=>[e]}};var qi=n(3404);const zi=new dn([...[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:Hi.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:Hi.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:Hi.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}],...[{source:"note",target:"accessed",when:{source:!1,target:{note:!1,addendum:!1}},convert:{toSource:e=>"[Online; accessed ".concat((0,qi.GP)(e),"]")}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype:e=>"pmid"!==e,archiveprefix:e=>"pmid"!==e},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}},{source:"s2id",target:"custom",convert:{toTarget:e=>({S2ID:e}),toSource(e){let{S2ID:t}=e;return t}}}],{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:Hi.DATE},{source:"annotation",target:"annote"},{source:["author","author+an:orcid"],target:"author",convert:Hi.NAMES_ORCID},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:Hi.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:Hi.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type:e=>!e||!e.startsWith("article")}},convert:Hi.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[Li]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:Hi.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[Li]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[Li]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:Hi.NAMES},{source:[Li,"entrysubtype","type"],target:["type","genre"],convert:{toTarget:(e,t,n)=>(n||("mastersthesis"===e&&(n="mathesis"),"phdthesis"===e&&(n="phdthesis"),"techreport"===e&&(n="techreport")),[Wr.source[e]||"document",n||t]),toSource(e,t){const n=Wr.target[e]||"misc";return t in ji?[n,void 0,t]:[n,t]}}},{source:Li,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"eventdate",target:"event-date",convert:Hi.DATE},{source:"venue",target:"event-place"},{source:["eventtitle","eventtitleaddon"],target:"event-title",convert:Hi.EVENT_TITLE},{source:["eventtitle","eventtitleaddon"],target:"event",convert:Hi.EVENT_TITLE,when:{source:!1,target:{"event-title":!1}}},{source:Mi,target:["id","citation-key","author","issued","year-suffix","title"],convert:Hi.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[Li]:["article","periodical"]},target:{issue:e=>"string"===typeof e&&!e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","periodical"]}}},{source:"number",target:"issue",when:{source:{[Li]:["article","periodical","inproceedings"]},target:{issue:e=>e&&("number"===typeof e||e.match(/\d+/)),type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:"date",target:"issued",convert:Hi.DATE},{source:["year","month","day"],target:"issued",convert:Hi.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:Hi.KEYWORDS},{source:"language",target:"language",convert:Hi.PICK},{source:"langid",target:"language",when:{source:{language:!1},target:!1}},{source:"note",target:"note"},{source:"addendum",target:"note",when:{source:{note:!1},target:!1}},{source:"eid",target:"number",when:{target:{type:["article-journal"]}}},{source:["isan","ismn","isrn","iswc"],target:"number",convert:Hi.STANDARD_NUMBERS,when:{source:{[Li]:e=>"patent"!==e},target:{type:e=>"patent"!==e}}},{source:"number",target:"number",when:{source:{[Li]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:Hi.DATE},{source:"origlocation",target:"original-publisher-place",convert:Hi.PICK},{source:"origpublisher",target:"original-publisher",convert:Hi.PICK},{source:"origtitle",target:"original-title"},{source:"pages",target:"page",when:{source:{bookpagination:[void 0,"page"]}},convert:Hi.PAGES},{source:"pagetotal",target:"number-of-pages"},{source:"part",target:"part-number"},{source:["eprint","eprinttype"],target:"PMID",convert:Hi.EPRINT},{source:"location",target:"publisher-place",convert:Hi.PICK},{source:"publisher",target:"publisher",convert:Hi.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty"]}}},{source:"organization",target:"publisher",convert:Hi.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:Hi.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:Hi.PICK,when:{source:{howpublished:e=>e&&!e.startsWith("http"),publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget:e=>e,toSource:e=>[e,"section"]}},{source:"pubstate",target:"status",convert:Hi.STATUS},{source:"shorttitle",target:"title-short"},{source:"shorttitle",target:"shortTitle",when:{source:!1,target:{"title-short":!1}}},{source:["title","subtitle","titleaddon"],target:"title",convert:Hi.TITLE},{source:"translator",target:"translator",convert:Hi.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:Hi.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"},{source:["issuetitle","issuesubtitle","issuetitleaddon"],target:"volume-title",convert:Hi.TITLE}]),Vi=new dn([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>"[Online; accessed ".concat((0,qi.GP)(e),"]")}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:Hi.PICK},{source:"author",target:"author",convert:Hi.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[Li]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[Li]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:Hi.NAMES},{source:Mi,target:["id","citation-key","author","issued","year-suffix","title"],convert:Hi.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"number",target:"issue",when:{source:{[Li]:["article","periodical","inproceedings"]},target:{issue:e=>"number"===typeof e||"string"===typeof e&&e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","paper-conference","periodical"]}}},{source:["year","month","day"],target:"issued",convert:Hi.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[Li]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"eid",target:"number",when:{source:{number:!1},target:{type:["article-journal"]}}},{source:"pages",target:"page",convert:Hi.PAGES},{source:"publisher",target:"publisher",convert:Hi.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","classic","collection","dataset","document","entry","entry-dictionary","entry-encyclopedia","event","figure","graphic","hearing","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","post-weblog","regulation","review","review-book","software","song","speech","standard","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:Hi.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:Hi.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:Hi.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:Hi.PICK,when:{source:{howpublished:e=>e&&!e.startsWith("http"),publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[Li,"type"],target:["type","genre"],convert:{toTarget(e,t){const n=Xr.source[e]||"document";return t?[n,t]:"mastersthesis"===e?[n,"Master's thesis"]:"phdthesis"===e?[n,"PhD thesis"]:[n]},toSource(e,t){const n=Xr.target[e]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[n,t]}}},{source:Li,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:Hi.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wi=new Set(["book","inbook","bookinbook","suppbook"]),Xi=new Set(["inbook","bookinbook","suppbook"]),Yi=new Set(["collection","reference","incollection","inreference","suppcollection"]),Qi=new Set(["incollection","inreference","suppcollection"]),$i=new Set(["proceedings","inproceedings"]),Ji=new Set(["inproceedings"]),Zi=new Set(["article","suppperiodical"]),es={mvbook:["main",Wi],mvcollection:["main",Yi],mvreference:["main",Yi],mvproceedings:["main",$i],book:["book",Xi],collection:["book",Qi],reference:["book",Qi],proceedings:["book",Ji],periodical:["journal",Zi]};function ts(e,t,n){if(t.crossref in n){const r=n[t.crossref];if(r.properties===t)return t;const i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ts(r.type,r.properties,n));if(delete i.ids,delete i.crossref,delete i.xref,delete i.entryset,delete i.entrysubtype,delete i.execute,delete i.label,delete i.options,delete i.presort,delete i.related,delete i.relatedoptions,delete i.relatedstring,delete i.relatedtype,delete i.shortand,delete i.shortandintro,delete i.sortkey,"mvbook"!==r.type&&"book"!==r.type||!Xi.has(e)||(i.bookauthor=i.author),r.type in es){const[t,n]=es[r.type];n.has(e)&&(i[t+"title"]=i.title,i[t+"subtitle"]=i.subtitle,"journal"!==t&&(i[t+"titleaddon"]=i.titleaddon),delete i.title,delete i.subtitle,delete i.titleaddon,delete i.shorttitle,delete i.sorttitle,delete i.indextitle,delete i.indexsorttitle)}return Object.assign(i,t)}return t}function ns(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function is(e,t,n){return(t=ss(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function os(e,t){const n={};for(const r of e)n[r.label]=r;return e.map((e=>{let{type:r,label:i,properties:s}=e;return t.convertToTarget(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({[Li]:r,[Mi]:i},ts(r,s,n)))}))}function as(e,t){return e.map((e=>{const n=t.convertToSource(e),{[Li]:r,[Mi]:i}=n;return{type:r,label:i,properties:ns(n,[Li,Mi].map(ss))}}))}function ls(e){const t=e.toUpperCase(),n=e.toLowerCase();for(let r=0;r<e.length;r++)if(t[r]!==n[r])return t[r]===e[r];return null}function us(e){if(0===e.length)return;let t="";for(;e.length>1;){const{value:n,hyphenated:r}=e.shift();t+=n+(r?"-":" ")}const n=t+e[0].value;return n[0]&&n}function cs(e){if(e[0][0].label){const t={};for(const[{value:n,label:r}]of e)t[r]=n;return t}const t={},[n,r,i]=function(e){const t=[],n=[];if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])for(;e.length>1&&!1!==e[0].upperCase;){for(t.push(...n),n.length=0;e.length>1&&!1!==e[0].upperCase&&!e[0].hyphenated;)t.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase&&e[0].hyphenated;)n.push(e.shift())}const r=[],i=[];for(;e.length>1;){for(r.push(...i),i.length=0;e.length>1&&!1===e[0].upperCase;)r.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase;)i.push(e.shift())}return n.length&&i.unshift(...n),e.length&&i.push(e[0]),[us(t),us(r),us(i)]}(e[0],1===e.length);return i&&(t.family=i),r&&(t.prefix=r),3===e.length?(t.given=us(e[2]),t.suffix=us(e[1])):2===e.length?t.given=us(e[1]):n&&(t.given=n),t}function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ds(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ms={commandBegin:{match:"\\begin",push:"environment"},command:{match:/\\(?:[a-zA-Z]+|.) */,value:e=>e.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value:e=>"~"===e?"\xa0":" "}},fs=Kr().states({stringLiteral:ps(ps({},ms),{},{text:/[^{$}\s~\\]+/}),namesLiteral:ps(ps({and:/\s+[aA][nN][dD]\s+/,comma:",",hyphen:"-",equals:"="},ms),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:ps(ps({and:/\s+and\s+/},ms),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:ps(ps({comma:","},ms),{},{text:/[^{$}\s~\\,]+/}),annotation:ps(ps({},ms),{},{colon:":",equals:"=",comma:",",semicolon:";",quote:'"',itemCount:/\d+/,text:/[^{$}\s~\\":;,=]+/}),bracedLiteral:ps(ps({},ms),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:ps(ps({},ms),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/}),environment:ps(ps({commandEnd:{match:"\\end",pop:!0}},ms),{},{text:/[^{$}\s~\\]+/})});function gs(e){return e[0],e}function bs(e,t){return t in oi?e&&oi[t].join(e):e}const ys=new cn({String(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return gs(e)},StringNames(){const e=[];for(;;){if(this.consumeToken("whitespace",!0),e.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return e;this.consumeToken("and")}},Name(){const e=[];for(;;){if(e.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return cs(e);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const e=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=us([...e,{value:t.label}]),[t];if(e.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return e;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let e=null,t="";for(;;)if(null===e&&this.matchToken("text")){const n=this.consumeToken().value;t+=n,e=ls(n)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:e};if(this.matchToken("hyphen"))return{value:t,upperCase:e,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:us(e),label:t}}t+=this.consumeRule("Text")}},StringList(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");e.push(gs(t)),this.consumeToken("and",!0)}return 1===e.length?e[0]:e},StringSeparated(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");e.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return e},StringVerbatim(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeToken().text;return gs(e)},StringUri(){const e=this.consumeRule("StringVerbatim");try{return decodeURI(e)===e?encodeURI(e):e}catch(t){return encodeURI(e)}},StringTitleCase(){this.state.sentenceCase=!0;let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return gs(e)},Annotations(){const e={};for(;;){const{scope:t,item:n,part:r,value:i}=this.consumeRule("Annotation");if("part"===t?(e.part||(e.part=[]),e.part[n]||(e.part[n]={}),e.part[n][r]=i):"item"===t?(e.item||(e.item=[]),e.item[n]=i):e.field=i,this.matchEndOfFile())break;this.consumeToken("semicolon"),this.consumeRule("_")}return e},Annotation(){const e={};if(this.matchToken("itemCount")?(e.item=parseInt(this.consumeToken("itemCount"))-1,this.matchToken("colon")?(this.consumeToken("colon"),e.part=this.consumeToken("text"),e.scope="part"):e.scope="item"):e.scope="field",this.consumeToken("equals"),this.consumeRule("_"),this.matchToken("quote")){this.consumeToken("quote");let t="";for(;!this.matchToken("quote");)this.matchToken("itemCount")||this.matchToken("colon")||this.matchToken("comma")||this.matchToken("semicolon")||this.matchToken("equals")?(t+=this.token.value,this.token=this.lexer.next()):t+=this.consumeRule("Text");this.consumeToken("quote"),e.value=gs(t),this.consumeRule("_")}else{e.value=[];let t="";for(;;)if(t+=this.consumeRule("Text"),this.matchToken("comma"))this.consumeToken("comma"),this.consumeRule("_"),e.value.push(gs(t)),t="";else if(this.matchEndOfFile()||this.matchToken("semicolon")){e.value.push(gs(t));break}}return e},BracketString(){var e;let t="";this.consumeToken("lbrace");const n=this.state.sentenceCase;for(this.state.sentenceCase=n&&this.matchToken("command"),(e=this.state).partlyLowercase&&(e.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const r=n&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=n,this.consumeToken("rbrace"),r?bs(t,"nocase"):t},MathString(){let e="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");)if(this.matchToken("script")){const t=this.consumeToken("script").value,n=this.consumeRule("Text").split("");if(n.every((e=>e in hi[t])))e+=n.map((e=>hi[t][e])).join("");else{const r=ci[t];e+=oi[r].join(n.join(""))}}else{if(this.matchToken("command")){const t=this.token.value;if(t in ci){this.consumeToken("command");e+=bs(this.consumeRule("BracketString"),ci[t]);continue}}e+=this.consumeRule("Text")}return this.consumeToken("mathShift"),e},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const e=this.consumeToken("text").value.replace(li,(e=>ui[e])),t=this.state.afterPunctuation;var n;if(this.state.afterPunctuation=/[?!.:]$/.test(e),!this.state.sentenceCase)return(n=this.state).partlyLowercase||(n.partlyLowercase=e===e.toLowerCase()&&e!==e.toUpperCase()),e;const[r,...i]=e,s=i.join(""),o=s.toLowerCase();return s!==o?e:t?r+o:e.toLowerCase()},Command(){const e=this.consumeToken("command"),t=e.value;if(t in ii){return bs(this.consumeRule("Env"),ii[t])}if(t in si){return bs(this.consumeRule("BracketString"),si[t])}if(t in ti)return ti[t];if(t in ni)return ni[t];if(t in ei&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+ei[t]).normalize("NFC")+e.slice(1)}if(t in ai){const e=ai[t],n=[];let r=e.length;for(;r-- >0;)this.consumeToken("whitespace",!0),n.push(this.consumeRule("BracketString"));return e(...n)}return/^[&%$#_{}]$/.test(t)?e.text.slice(1):e.text},Env(){let e="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)e+=this.consumeRule("Text");return e},EnclosedEnv(){this.consumeToken("commandBegin");const e=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const n=this.consumeToken("commandEnd"),r=this.consumeRule("BracketString");if(e!==r)throw new SyntaxError(this.lexer.formatError(n,'environment started with "'.concat(e,'", ended with "').concat(r,'"')));return bs(t,ii[e])},_(){for(;this.matchToken("whitespace");)this.consumeToken("whitespace")}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function vs(e){return pi.includes(e.toLowerCase())}function _s(e,t){if("name"===e[1])return"list"===e[0]?"StringNames":"Name";if("title"===e[1]){const e=di.parse.sentenceCase;return"always"===e||"english"===e&&function(e){return Array.isArray(e)?e.every(vs):vs(e)}(t)?"StringTitleCase":"String"}switch("field"===e[0]?e[1]:e[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";default:return"String"}}function Es(e){if("name"===e[1])return"namesLiteral";switch(e[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";default:return"stringLiteral"}}function Ts(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=Zr[t]||[];return ys.parse(fs.reset(e,{state:Es(r),line:0,col:0}),_s(r,n))}function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){As(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function As(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ss(e,t){const n=[];for(const{type:r,label:i,properties:s}of e)if(r in t){const e=[];for(const n of t[r])Array.isArray(n)&&!n.some((e=>e in s))?e.push(n.join("/")):"string"!==typeof n||n in s||e.push(n);e.length&&n.push([i,"missing fields: ".concat(e.join(", "))])}else n.push([i,'invalid type: "'.concat(r,'"')]);if(n.length)throw new RangeError(["Invalid entries:"].concat(n.map((e=>{let[t,n]=e;return"  - ".concat(t," has ").concat(n)}))).join("\n"))}function ks(e){const t={};"language"in e.properties&&(t.language=Ts(e.properties.language,"language"));for(const r in e.properties){const n=e.properties[r];""!==n&&(t[r]=Ts(n+"",r,t.language))}for(const r in e.annotations)for(const i in e.annotations[r])t[r+"+an:"+i]=(n=e.annotations[r][i],ys.parse(fs.reset(n,{state:"annotation",line:0,col:0}),"Annotations"));var n;return ws(ws({},e),{},{properties:t})}function Cs(e){return di.parse.strict&&Ss(e,Jr.biblatex),os(e.map(ks),zi)}function Is(e){return di.parse.strict&&Ss(e,Jr.bibtex),os(e.map(ks),Vi)}const Ns={"@biblatex/text":{parse:Ti,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse:e=>Cs([e]),parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:Cs,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:Ti,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse:e=>Is([e])},"@bibtex/entries+list":{parse:Is},"@bibtxt/text":{parse:e=>e.trim().split(xi).map(ki),parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},Os={};for(const n in ti)Os[ti[n]]=n;for(const n in ei)Os[ei[n]]=n;for(const n in ui)Os[ui[n]]=n;const Rs={};for(const n in ni)Rs[ni[n]]=n;const Ds=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,Ps=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,Ls=/[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,Ms={separated:",",list:" and "},Fs={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function js(e){return di.format.asciiOnly?e.normalize("NFKD").replace(Ds,(e=>function(e){return e in Os?Os[e]in ui?Os[e]:"\\".concat(Os[e],"{}"):e in Rs?"$\\".concat(Rs[e],"$"):""}(e))).replace(Ps,(e=>Array.from(e).reduce(((e,t)=>"{\\".concat(Os[t]," ").concat(e,"}"))))).replace(Ls,""):e}function Bs(e){const t=[];let n=e.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return n=n.map(((e,n)=>n%2===0?js(e):e in Fs?(t.push("/"+e.split(" ")[0]),Fs[e]):e===t[t.length-1]?(t.pop(),"}"):"")),n.join("")}function Us(e,t){switch(t){case"title":return Bs(e).split(/(:\s*)/).map(((e,t)=>t%2?e:e.replace(/([^\\])\b([a-z]*[A-Z].*?)\b/g,"$1{$2}"))).join("");case"literal":return Bs(e.toString());case"name":return function(e){if(e.family&&!e.prefix&&!e.given&!e.suffix)return e.family.includes(Ms.list)?e.family:"{".concat(e.family,"}");const t=[""];return e.prefix&&e.family&&(t[0]+=e.prefix+" "),e.family&&(t[0]+=e.family),e.suffix?(t.push(e.suffix),t.push(e.given||"")):t.push(e.given),js(t.join(", ").trim())}(e);case"verbatim":case"uri":return e.toString();default:return js(e.toString())}}function Hs(e){return Array.isArray(e)?e.map((e=>js(e).replace(/([;,"])/g,"{$1}"))).join(", "):'"'+js(e).replace(/(["])/g,"{$1}")+'"'}function qs(e,t){if(!(e in Zr))return Us(t,"verbatim");const[n,r]=Zr[e];return n in Ms?function(e,t,n){const r=Ms[n];return e.map((e=>{const n=Us(e,t);return n.includes(r)?"{".concat(n,"}"):n})).join(r)}(t,r,n):Us(t,r)}function zs(e){const t=[];if(e.field&&t.push("="+Hs(e.field)),e.item)for(const[n,r]of Object.entries(e.item)){if(!r)continue;const e=parseInt(n)+1;t.push(e+"="+Hs(r))}if(e.part)for(const[n,r]of Object.entries(e.part)){if(!r)continue;const e=parseInt(n)+1;for(const n in r)r[n]&&t.push(e+":"+n+"="+Hs(r[n]))}return t.join("; ")}function Vs(e){let{type:t,label:n,properties:r}=e;const i={type:t,label:n,properties:{}};for(const s in r){const e=r[s],[t,n]=s.split("+an:");n?(i.annotations||(i.annotations={}),i.annotations[t]||(i.annotations[t]={}),i.annotations[t][n]=zs(e)):i.properties[s]=qs(s,e)}return i}function Gs(e){return(t=e,as(t,Vi)).map(Vs);var t}function Ks(e,t,n){return n.listItem.join("".concat(e," = {").concat(t,"},"))}function Ws(e,t){const n=e.map((e=>function(e,t){const n=[];for(const r in e.properties)if(n.push(Ks(r,e.properties[r],t)),e.annotations&&e.annotations[r])for(const i in e.annotations[r]){let s=r+di.biber.annotationMarker;"default"!==i&&(s+=di.biber.namedAnnotationMarker+i),n.push(Ks(s,e.annotations[r][i],t))}return t.entry.join("@".concat(e.type,"{").concat(e.label,",").concat(t.list.join(n.join("")),"}"))}(e,t))).join("");return t.bibliographyContainer.join(n)}const Xs=function(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:i,format:s=i||"text"}=r;if(n=e(n),"object"===s)return n;if(ar(s))return t(n,ur(s),r);throw new RangeError('Output dictionary "'.concat(s,'" not available'))}},Ys={bibtex:Xs(Gs,Ws),biblatex:Xs((function(e){return(t=e,as(t,zi)).map(Vs);var t}),Ws),bibtxt:Xs(Gs,(function(e,t){const n=e.map((e=>function(e,t){let{type:n,label:r,properties:i}=e;const s=Object.entries(i).concat([["type",n]]).map((e=>{let[n,r]=e;return t.listItem.join("".concat(n,": ").concat(r))}));return t.entry.join("[".concat(r,"]").concat(t.list.join(s.join(""))))}(e,t))).join("\n");return t.bibliographyContainer.join(n)}))};_r("@bibtex",{input:Ns,output:Ys,config:di});var Qs=n(6213),$s=n.n(Qs),Js=n(3809);const Zs=Symbol.for("Dexie"),eo=globalThis[Zs]||(globalThis[Zs]=Js);if(Js.semVer!==eo.semVer)throw new Error("Two different versions of Dexie loaded in the same app: ".concat(Js.semVer," and ").concat(eo.semVer));const{liveQuery:to,mergeRanges:no,rangesOverlap:ro,RangeSet:io,cmp:so,Entity:oo,PropModSymbol:ao,PropModification:lo,replacePrefix:uo,add:co,remove:ho}=eo,po=new eo("CiteEaseDB");po.version(2).stores({items:"++id, name, value"});const mo=po;function fo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"html";return new Promise((async(r,i)=>{try{const i=await bo(t),s=_o(e);if(mr("@csl").templates.add(null===t||void 0===t?void 0:t.code,i),!i)return void r(null);let o=(await rr.async(s)).format("bibliography",{format:n,template:null===t||void 0===t?void 0:t.code,lang:"en-US"});r("html"===n?function(e){const t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelectorAll(".csl-entry");return Array.from(n).map((e=>$s().sanitize(e.outerHTML)))}(o):o)}catch(s){i(s)}}))}function go(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bibtex",n=mr("@bibtex");return n.parse.strict=!1,n.parse.sentenceCase=!1,n.format.useIdAsLabel=!1,new Promise((async(n,r)=>{try{const r=_o(e);n((await rr.async(r)).format(t))}catch(i){r(i)}}))}function bo(e){if(e)return new Promise((async(t,n)=>{try{const n=await yo();if(n&&(null===e||void 0===e?void 0:e.code)in n)t(null===n||void 0===n?void 0:n[null===e||void 0===e?void 0:e.code]);else if(navigator.onLine&&null!==e&&void 0!==e&&e.code){const r=await fetch("https://raw.githubusercontent.com/citation-style-language/styles/master/".concat(null===e||void 0===e?void 0:e.code,".csl")),i=await r.text();vo({...n,[null===e||void 0===e?void 0:e.code]:i}),t(i)}else console.error("It seems like ".concat(null===e||void 0===e?void 0:e.name.long,"'s rules haven't been saved on your device. Please connect to the internet and refresh the page to download ").concat(null===e||void 0===e?void 0:e.name.long,"'s rules for offline use. Alternatively, you can switch to a citation style you've used before."))}catch(r){n(r)}}))}function yo(){return new Promise((async(e,t)=>{try{const t=await mo.items.get("savedCSLFiles");if(t){e(await JSON.parse(t.value))}e(null)}catch(n){t(n)}}))}function vo(e){const t=JSON.stringify(e);mo.items.put({id:"savedCSLFiles",value:t})}function _o(e){return null===e||void 0===e?void 0:e.map((e=>({...null===e||void 0===e?void 0:e.content})))}function Eo(e){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(e)}function To(e){var t=function(e,t){if("object"!=Eo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eo(t)?t:t+""}function xo(e,t,n){return(t=To(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo=Symbol.for("immer-nothing"),Ao=Symbol.for("immer-draftable"),So=Symbol.for("immer-state");function ko(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Co=Object.getPrototypeOf;function Io(e){return!!e&&!!e[So]}function No(e){var t;return!!e&&(Ro(e)||Array.isArray(e)||!!e[Ao]||!(null===(t=e.constructor)||void 0===t||!t[Ao])||Fo(e)||jo(e))}var Oo=Object.prototype.constructor.toString();function Ro(e){if(!e||"object"!==typeof e)return!1;const t=Co(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Oo}function Do(e,t){0===Po(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Po(e){const t=e[So];return t?t.type_:Array.isArray(e)?1:Fo(e)?2:jo(e)?3:0}function Lo(e,t){return 2===Po(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mo(e,t,n){const r=Po(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Fo(e){return e instanceof Map}function jo(e){return e instanceof Set}function Bo(e){return e.copy_||e.base_}function Uo(e,t){if(Fo(e))return new Map(e);if(jo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ro(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[So];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Co(e),t)}{const t=Co(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Ho(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zo(e)||Io(e)||!No(e)||(Po(e)>1&&(e.set=e.add=e.clear=e.delete=qo),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Ho(n,!0)}))),e}function qo(){ko(2)}function zo(e){return Object.isFrozen(e)}var Vo,Go={};function Ko(e){const t=Go[e];return t||ko(0),t}function Wo(){return Vo}function Xo(e,t){t&&(Ko("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yo(e){Qo(e),e.drafts_.forEach(Jo),e.drafts_=null}function Qo(e){e===Vo&&(Vo=e.parent_)}function $o(e){return Vo={drafts_:[],parent_:Vo,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jo(e){const t=e[So];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Zo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[So].modified_&&(Yo(t),ko(4)),No(e)&&(e=ea(t,e),t.parent_||na(t,e)),t.patches_&&Ko("Patches").generateReplacementPatches_(n[So].base_,e,t.patches_,t.inversePatches_)):e=ea(t,n,[]),Yo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wo?e:void 0}function ea(e,t,n){if(zo(t))return t;const r=t[So];if(!r)return Do(t,((i,s)=>ta(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return na(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),Do(i,((i,o)=>ta(e,r,t,i,o,n,s))),na(e,t,!1),n&&e.patches_&&Ko("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ta(e,t,n,r,i,s,o){if(Io(i)){const o=ea(e,i,s&&t&&3!==t.type_&&!Lo(t.assigned_,r)?s.concat(r):void 0);if(Mo(n,r,o),!Io(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(No(i)&&!zo(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ea(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||na(e,i)}}function na(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ho(t,n)}var ra={get(e,t){if(t===So)return e;const n=Bo(e);if(!Lo(n,t))return function(e,t,n){var r;const i=oa(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!No(r)?r:r===sa(e.base_,t)?(la(e),e.copy_[t]=ua(r,e)):r},has:(e,t)=>t in Bo(e),ownKeys:e=>Reflect.ownKeys(Bo(e)),set(e,t,n){const r=oa(Bo(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=sa(Bo(e),t),i=null===r||void 0===r?void 0:r[So];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Lo(e.base_,t)))return!0;la(e),aa(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==sa(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,la(e),aa(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Bo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){ko(11)},getPrototypeOf:e=>Co(e.base_),setPrototypeOf(){ko(12)}},ia={};function sa(e,t){const n=e[So];return(n?Bo(n):e)[t]}function oa(e,t){if(!(t in e))return;let n=Co(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Co(n)}}function aa(e){e.modified_||(e.modified_=!0,e.parent_&&aa(e.parent_))}function la(e){e.copy_||(e.copy_=Uo(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Do(ra,((e,t)=>{ia[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ia.deleteProperty=function(e,t){return ia.set.call(this,e,t,void 0)},ia.set=function(e,t,n){return ra.set.call(this,e[0],t,n,e[0])};function ua(e,t){const n=Fo(e)?Ko("MapSet").proxyMap_(e,t):jo(e)?Ko("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Wo(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ra;n&&(i=[r],s=ia);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:Wo()).drafts_.push(n),n}function ca(e){return Io(e)||ko(10),ha(e)}function ha(e){if(!No(e)||zo(e))return e;const t=e[So];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Uo(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Uo(e,!0);return Do(n,((e,t)=>{Mo(n,e,ha(t))})),t&&(t.finalized_=!1),n}var pa=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&ko(6),void 0!==n&&"function"!==typeof n&&ko(7),No(e)){const i=$o(this),s=ua(e,void 0);let o=!0;try{r=t(s),o=!1}finally{o?Yo(i):Qo(i)}return Xo(i,n),Zo(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===wo&&(r=void 0),this.autoFreeze_&&Ho(r,!0),n){const t=[],i=[];Ko("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}ko(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){No(e)||ko(8),Io(e)&&(e=ca(e));const t=$o(this),n=ua(e,void 0);return n[So].isManual_=!0,Qo(t),n}finishDraft(e,t){const n=e&&e[So];n&&n.isManual_||ko(9);const{scope_:r}=n;return Xo(r,t),Zo(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ko("Patches").applyPatches_;return Io(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},da=pa.produce;pa.produceWithPatches.bind(pa),pa.setAutoFreeze.bind(pa),pa.setUseStrictShallowCopy.bind(pa),pa.applyPatches.bind(pa),pa.createDraft.bind(pa),pa.finishDraft.bind(pa);function ma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var fa=e=>Array.isArray(e)?e:[e];function ga(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var ba="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},ya=0,va=1;function _a(){return{s:ya,v:void 0,o:null,p:null}}function Ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_a();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=_a(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=_a(),e.set(n,t)):t=r}}const a=t;let l;if(t.s===va)l=t.v;else if(l=e.apply(null,arguments),s++,r){var u,c,h;const e=null!==(u=null===(c=i)||void 0===c||null===(h=c.deref)||void 0===h?void 0:h.call(c))&&void 0!==u?u:i;null!=e&&r(e,l)&&(l=e,0!==s&&s--);i="object"===typeof l&&null!==l||"function"===typeof l?new ba(l):l}return a.s=va,a.v=l,l}return o.clearCache=()=>{n=_a(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,s=0,o=0,a={},l=t.pop();"object"===typeof l&&(a=l,l=t.pop()),ma(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const u={...i,...a},{memoize:c,memoizeOptions:h=[],argsMemoize:p=Ea,argsMemoizeOptions:d=[],devModeChecks:m={}}=u,f=fa(h),g=fa(d),b=ga(t),y=c((function(){return s++,l.apply(null,arguments)}),...f);const v=p((function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(b,arguments);return r=y.apply(null,e),r}),...g);return Object.assign(v,{resultFunc:l,memoizedResultFunc:y,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:p})};return Object.assign(s,{withTypes:()=>s}),s}var xa=Ta(Ea),wa=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>wa});function Aa(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Sa=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),ka=()=>Math.random().toString(36).substring(7).split("").join("."),Ca={INIT:"@@redux/INIT".concat(ka()),REPLACE:"@@redux/REPLACE".concat(ka()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(ka())};function Ia(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Na(e,t,n){if("function"!==typeof e)throw new Error(Aa(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Aa(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Aa(1));return n(Na)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function c(){if(l)throw new Error(Aa(3));return i}function h(e){if("function"!==typeof e)throw new Error(Aa(4));if(l)throw new Error(Aa(5));let t=!0;u();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(Aa(6));t=!1,u(),o.delete(n),s=null}}}function p(e){if(!Ia(e))throw new Error(Aa(7));if("undefined"===typeof e.type)throw new Error(Aa(8));if("string"!==typeof e.type)throw new Error(Aa(17));if(l)throw new Error(Aa(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}p({type:Ca.INIT});return{dispatch:p,subscribe:h,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Aa(10));r=e,p({type:Ca.REPLACE})},[Sa]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Aa(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[Sa](){return this}}}}}function Oa(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Ca.INIT}))throw new Error(Aa(12));if("undefined"===typeof n(void 0,{type:Ca.PROBE_UNKNOWN_ACTION()}))throw new Error(Aa(13))}))}(n)}catch(s){i=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],u=e[a],c=l(u,t);if("undefined"===typeof c){t&&t.type;throw new Error(Aa(14))}o[a]=c,s=s||c!==u}return s=s||r.length!==Object.keys(e).length,s?o:e}}function Ra(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Da(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Pa=Da(),La=Da,Ma=(function(){const e=Ta(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(Io(e)?ca(e):e,...r)};return Object.assign(n,t),n}),{withTypes:()=>t})}(Ea),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ra:Ra.apply(null,arguments)}),Fa=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function ja(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(yl(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return Ia(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Ba=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Ua(e){return No(e)?da(e,(()=>{})):e}function Ha(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(yl(10));const r=n.insert(t,e);return e.set(t,r),r}var qa="RTK_autoBatch",za=e=>t=>{setTimeout(t,e)},Va="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:za(10),Ga=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Ba(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const o=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?Va:"callback"===e.type?e.queueNotification:za(e.timeout),l=()=>{s=!1,i&&(i=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[qa]),i=!r,i&&(s||(s=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Ka(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(yl(28));if(r in t)throw new Error(yl(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Wa=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Xa=(e,t)=>Fa(e)?e.match(t):e(t);function Ya(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>Xa(t,e)))}var Qa=["name","message","stack","code"],$a=class{constructor(e,t){xo(this,"_type",void 0),this.payload=e,this.meta=t}},Ja=class{constructor(e,t){xo(this,"_type",void 0),this.payload=e,this.meta=t}},Za=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of Qa)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},el=(()=>{function e(e,t,n){const r=ja(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),i=ja(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),s=ja(e+"/rejected",((e,t,r,i,s)=>({payload:i,error:(n&&n.serializeError||Za)(e||"Rejected"),meta:{...s||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)}})));return Object.assign((function(e){return(o,a,l)=>{const u=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):Wa(),c=new AbortController;let h,p;function d(e){p=e,c.abort()}const m=async function(){let m;try{var f,g;let s=null===n||void 0===n||null===(f=n.condition)||void 0===f?void 0:f.call(n,e,{getState:a,extra:l});if(null!==(b=s)&&"object"===typeof b&&"function"===typeof b.then&&(s=await s),!1===s||c.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise(((e,t)=>{h=()=>{t({name:"AbortError",message:p||"Aborted"})},c.signal.addEventListener("abort",h)}));o(i(u,e,null===n||void 0===n||null===(g=n.getPendingMeta)||void 0===g?void 0:g.call(n,{requestId:u,arg:e},{getState:a,extra:l}))),m=await Promise.race([y,Promise.resolve(t(e,{dispatch:o,getState:a,extra:l,requestId:u,signal:c.signal,abort:d,rejectWithValue:(e,t)=>new $a(e,t),fulfillWithValue:(e,t)=>new Ja(e,t)})).then((t=>{if(t instanceof $a)throw t;return t instanceof Ja?r(t.payload,u,e,t.meta):r(t,u,e)}))])}catch(y){m=y instanceof $a?s(null,u,e,y.payload,y.meta):s(y,u,e)}finally{h&&c.signal.removeEventListener("abort",h)}var b;return n&&!n.dispatchConditionRejection&&s.match(m)&&m.meta.condition||o(m),m}();return Object.assign(m,{abort:d,requestId:u,arg:e,unwrap:()=>m.then(tl)})}}),{pending:i,rejected:s,fulfilled:r,settled:Ya(s,r),typePrefix:e})}return e.withTypes=()=>e,e})();function tl(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var nl=Symbol.for("rtk-slice-createasyncthunk");function rl(e,t){return"".concat(e,"/").concat(t)}function il(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[nl];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(yl(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(yl(12));if(n in o.sliceCaseReducersByType)throw new Error(yl(13));return o.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(o.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Ka(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Ka(t);if(function(e){return"function"===typeof e}(e))n=()=>Ua(e());else{const t=Ua(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[s]),o.reduce(((e,n)=>{if(n){if(Io(e)){const r=n(e,t);return void 0===r?e:r}if(No(e))return da(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(yl(9))}return r}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],o={reducerName:r,type:rl(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:o,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(yl(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(o,r).exposeAction(o,i?ja(s,i):ja(s))}(o,s,a):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(yl(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:u,settled:c,options:h}=t,p=r(i,o,h);n.exposeAction(s,p),a&&n.addCase(p.fulfilled,a);l&&n.addCase(p.pending,l);u&&n.addCase(p.rejected,u);c&&n.addMatcher(p.settled,c);n.exposeCaseReducer(s,{fulfilled:a||al,pending:l||al,rejected:u||al,settled:c||al})}(o,s,a,n)}));const u=e=>e,c=new Map;let h;function p(e,t){return h||(h=l()),h(e,t)}function d(){return h||(h=l()),h.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=d()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=Ha(c,n,{insert:()=>new WeakMap});return Ha(r,t,{insert:()=>{const r={};for(const[s,o]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[s]=sl(o,t,d,n)}return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const f={name:t,reducer:p,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:d,...m(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=null!==t&&void 0!==t?t:r;return e.inject({reducerPath:i,reducer:p},n),{...f,...m(i,!0)}}};return f}}function sl(e,t,n,r){function i(i){let s=t(i);"undefined"===typeof s&&r&&(s=n());for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e(s,...a)}return i.unwrapped=e,i}var ol=il();function al(){}var ll="listener",ul="completed",cl="cancelled",hl=("task-".concat(cl),"task-".concat(ul),"".concat(ll,"-").concat(cl),"".concat(ll,"-").concat(ul),(e,t)=>{if("function"!==typeof e)throw new Error(yl(32))});var{assign:pl}=Object,dl="listenerMiddleware",ml=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=ja(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(yl(21));return hl(s),{predicate:i,type:t,effect:s}},fl=Object.assign((e=>{const{type:t,predicate:n,effect:r}=ml(e);return{id:Wa(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(yl(22))}}}),{withTypes:()=>fl}),gl=Object.assign(ja("".concat(dl,"/add")),{withTypes:()=>gl}),bl=(ja("".concat(dl,"/removeAll")),Object.assign(ja("".concat(dl,"/remove")),{withTypes:()=>bl}));Symbol.for("rtk-state-proxy-original");function yl(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const vl=[];function _l(e){const t=JSON.stringify(e);mo.items.put({id:"bibliographies",value:t})}const El=ol({name:"bibliographies",initialState:vl,reducers:{mergeWithCurrent:(e,t)=>{if(!t.payload.bibliographies)return e;const n=t.payload.bibliographies,r=n.map((e=>e.id)),i=[...e.filter((e=>!r.includes(e.id))),...n];return _l(i),i},enableCollabInBib:(e,t)=>{const n=e.map((e=>e.id===t.payload.bibId?{...e,collab:{open:!0,id:t.payload.coId,adminId:t.payload.adminId,collaborators:[{name:t.payload.adminName,id:t.payload.adminId}],preferences:{},changelog:[],password:t.payload.password}}:e));return _l(n),n},reEnableCollabInBib:(e,t)=>{const n=e.map((e=>e.id===t.payload.bibId?{...e,collab:{...e.collab,open:!0}}:e));return _l(n),n},disableCollabInBib:(e,t)=>{const n=e.map((e=>e.id===t.payload.bibId?{...e,collab:{...e.collab,open:!1,collaborators:[e.collab.collaborators.find((t=>t.id===e.collab.adminId))],changelog:[]}}:e));return _l(n),n},addNewBib:(e,t)=>{const n=[...e,{title:"Untitled Bibliography",style:t.payload.bibliographyStyle,dateCreated:(new Date).toString(),dateModified:(new Date).toString(),id:"bib="+Qe(10),citations:[],tags:[]}];return _l(n),n},deleteBib:(e,t)=>{const n=null===e||void 0===e?void 0:e.filter((e=>e.id!==t.payload.bibliographyId));return _l(n),n},updateBibField:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>e.id===t.payload.bibliographyId?{...e,[t.payload.key]:t.payload.value,dateModified:(new Date).toString()}:e));return _l(n),n},addNewCitation:(e,t)=>{const n=e.map((e=>{if(e.id===t.payload.bibliographyId){var n;const i=Qe();var r;if(null!==(n=t.payload)&&void 0!==n&&n.content)return{...e,citations:[...e.citations,{id:i,content:{...null===(r=t.payload)||void 0===r?void 0:r.content,id:i},isChecked:!1}],dateModified:(new Date).toString()};if(t.payload.sourceType)return{...e,editedCitation:{id:i,content:{id:i,type:t.payload.sourceType,author:[{given:"",family:"",id:Qe()}]},isChecked:!1},dateModified:(new Date).toString()}}return e}));return _l(n),n},editCitation:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>{if(e.id===t.payload.bibliographyId){const n=e.citations.find((e=>e.id===t.payload.citationId));return{...e,editedCitation:{...n}}}return e}));return _l(n),n},updateContentInEditedCitation:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>e.id===t.payload.bibliographyId?{...e,editedCitation:{...e.editedCitation,content:t.payload.content},dateModified:(new Date).toString()}:e));return _l(n),n},updateCitation:(e,t)=>{const n=e.map((e=>{if(e.id===t.payload.bibliographyId){const n=e.citations.findIndex((e=>e.id===t.payload.editedCitation.id));let r;return r=-1!==n?e.citations.map(((e,r)=>r===n?{...e,...t.payload.editedCitation,isChecked:!1}:e)):[...e.citations,t.payload.editedCitation],{...e,citations:r,dateModified:(new Date).toString()}}return e}));return _l(n),n},toggleEntryCheckbox:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>{if(e.id===t.payload.bibliographyId){const n=e.citations.findIndex((e=>e.id===t.payload.citationId));let r;return r=e.citations.map(((e,t)=>t===n?{...e,isChecked:!e.isChecked}:e)),{...e,citations:r}}return e}));return n},handleMasterEntriesCheckbox:(e,t)=>null===e||void 0===e?void 0:e.map((e=>{if(e.id===t.payload.bibliographyId){const t=e.citations.every((e=>e.isChecked));e.citations.every((e=>!e.isChecked));return t?{...e,citations:e.citations.map((e=>({...e,isChecked:!1})))}:{...e,citations:e.citations.map((e=>({...e,isChecked:!0})))}}return e})),moveSelectedCitations:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>{if(e.id===t.payload.toId)return{...e,citations:[...e.citations,...t.payload.checkedCitations],dateModified:(new Date).toString()};if(e.id===t.payload.fromId){const n=t.payload.checkedCitations.map((e=>e.id));return{...e,citations:e.citations.filter((e=>!n.includes(e.id))),dateModified:(new Date).toString()}}return e}));return _l(n),n},copySelectedCitations:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>{const n=e.citations.filter((e=>!t.payload.checkedCitations.some((t=>t.id===e.id)))).map((e=>({...e,isChecked:!1}))),r=t.payload.checkedCitations.map((e=>{const t=Qe();return{...e,id:t,content:{...e.content,id:t},isChecked:!1}}));return{...e,citations:[...n,...r],dateModified:(new Date).toString()}}));return _l(n),n},duplicateSelectedCitations:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>{if(e.id===t.payload.bibliographyId){const n=t.payload.checkedCitations.map((()=>Qe())),r=t.payload.checkedCitations.map(((e,t)=>({...e,id:n[t],content:{...e.content,id:n[t]},isChecked:!1})));return{...e,citations:[...e.citations.map((e=>({...e,isChecked:!1}))),...r],dateModified:(new Date).toString()}}return e}));return _l(n),n},deleteSelectedCitations:(e,t)=>{const n=null===e||void 0===e?void 0:e.map((e=>{if(e.id===t.payload.bibliographyId){const n=t.payload.checkedCitations.map((e=>e.id));return{...e,citations:e.citations.filter((e=>!n.includes(e.id))),dateModified:(new Date).toString()}}return e}));return _l(n),n},addNewBibAndMoveSelectedCitations:(e,t)=>{const n=[...e,{title:"Untitled Bibliography",style:t.payload.bibliographyStyle,dateCreated:(new Date).toString(),dateModified:(new Date).toString(),id:"bib="+Qe(10),citations:[...t.payload.checkedCitations]}];return _l(n),n},deleteAllBibs:()=>(_l(vl),vl)},extraReducers:e=>{e.addCase(Tl.fulfilled,((e,t)=>(null===t||void 0===t?void 0:t.payload)||e))}}),Tl=el("bibliographies/loadFromIndexedDB",(async()=>{const e=await mo.items.get("bibliographies"),t=await JSON.parse(e.value);return null===t||void 0===t?void 0:t.map((e=>({...e,citations:e.citations.map((e=>({...e,isChecked:!1})))})))})),{mergeWithCurrent:xl,enableCollabInBib:wl,reEnableCollabInBib:Al,disableCollabInBib:Sl,addNewBib:kl,deleteBib:Cl,updateBibField:Il,addNewCitation:Nl,editCitation:Ol,updateContentInEditedCitation:Rl,updateCitation:Dl,toggleEntryCheckbox:Pl,handleMasterEntriesCheckbox:Ll,moveSelectedCitations:Ml,copySelectedCitations:Fl,duplicateSelectedCitations:jl,deleteSelectedCitations:Bl,addNewBibAndMoveSelectedCitations:Ul,deleteAllBibs:Hl}=El.actions,ql=El.reducer;function zl(e){const t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/1e3);let i;return i=r<60?"just now":r<3600?"".concat(Math.floor(r/60)," ").concat(1===Math.floor(r/60)?"minute":"minutes"," ago"):r<86400?"".concat(Math.floor(r/3600)," ").concat(1===Math.floor(r/3600)?"hour":"hours"," ago"):r<604800?"".concat(Math.floor(r/86400)," ").concat(1===Math.floor(r/86400)?"day":"days"," ago"):r<1209600?"".concat(Math.floor(r/604800)," ").concat(1===Math.floor(r/604800)?"week":"weeks"," ago"):"".concat(r<31536e3?n.toLocaleDateString(void 0,{month:"short",day:"numeric"}):n.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})),i}var Vl=n(7237),Gl=O,Kl=Symbol.for("react-redux-context"),Wl="undefined"!==typeof globalThis?globalThis:{};function Xl(){var e;if(!Gl.createContext)return{};const t=null!==(e=Wl[Kl])&&void 0!==e?e:Wl[Kl]=new Map;let n=t.get(Gl.createContext);return n||(n=Gl.createContext(null),t.set(Gl.createContext,n)),n}var Yl=Xl(),Ql=()=>{throw new Error("uSES not initialized!")};function $l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl;return function(){return Gl.useContext(e)}}var Jl=$l(),Zl=Ql,eu=(e,t)=>e===t;function tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl;const t=e===Yl?Jl:$l(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=eu,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:o,getServerState:a,stabilityCheck:l,identityFunctionCheck:u}=t(),c=(Gl.useRef(!0),Gl.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),h=Zl(o.addNestedSub,s.getState,a||s.getState,c,r);return Gl.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var nu=tu();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function ru(e){e()}var iu={notify(){},get:()=>[]};function su(e,t){let n,r=iu,i=0,s=!1;function o(){u.onStateChange&&u.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ru((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=iu)}const u={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return u}var ou=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),au="undefined"!==typeof navigator&&"ReactNative"===navigator.product,lu=ou||au?Gl.useLayoutEffect:Gl.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var uu=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:o="once"}=e;const a=Gl.useMemo((()=>{const e=su(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:o}}),[t,i,s,o]),l=Gl.useMemo((()=>t.getState()),[t]);lu((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const u=n||Yl;return Gl.createElement(u.Provider,{value:a},r)};function cu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl;const t=e===Yl?Jl:$l(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var hu=cu();function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl;const t=e===Yl?hu:cu(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var du,mu=pu();du=Vl.useSyncExternalStoreWithSelector,Zl=du,(e=>{e})(O.useSyncExternalStore);const fu={YELLOW:"yellow",ORANGE:"orange",RED:"red",PINK:"pink",PURPLE:"purple",BLUE:"blue",CYAN:"cyan",GREEN:"green",TEAL:"teal",GRAY:"gray",BROWN:"brown"},gu={[fu.YELLOW]:"rgb(251,176,5)",[fu.ORANGE]:"rgb(243,105,68)",[fu.RED]:"rgb(223,49,48)",[fu.PINK]:"rgb(156,54,181)",[fu.PURPLE]:"rgb(104,65,218)",[fu.BLUE]:"rgb(19,110,189)",[fu.CYAN]:"rgb(19,163,189)",[fu.GREEN]:"rgb(13,166,120)",[fu.TEAL]:"rgb(13,166,151)",[fu.GRAY]:"rgb(127,140,159)",[fu.BROWN]:"rgb(173,105,68)"},bu=[{label:"Completed",color:fu.GREEN,id:"builtin-completed"},{label:"In progress",color:fu.YELLOW,id:"builtin-inProgress"},{label:"Pending Review",color:fu.ORANGE,id:"builtin-pendingReview"},{label:"High priority",color:fu.RED,id:"builtin-highPriority"},{label:"Low priority",color:fu.BLUE,id:"builtin-lowPriority"},{label:"Research topic",color:fu.PURPLE,id:"builtin-researchTopic"},{label:"Course project",color:fu.CYAN,id:"builtin-courseProject"},{label:"Personal project",color:fu.PINK,id:"builtin-personalProject"},{label:"Collaborative",color:fu.TEAL,id:"builtin-collaborative"},{label:"Archived",color:fu.BROWN,id:"builtin-archived"},{label:"Discontinued",color:fu.GRAY,id:"builtin-discontinued"}],yu={tags:bu};async function vu(e){const t=JSON.stringify(e);await mo.items.put({id:"settings",value:t})}const _u=ol({name:"settings",initialState:yu,reducers:{mergeWithCurrent:(e,t)=>{if(!t.payload.settings)return e;const n=t.payload.settings;return vu(n),n},restoreDefaultTags:e=>{const t=e.tags.map((e=>e.id)),n={...e,tags:[...e.tags?e.tags:[],...bu.filter((e=>!t.includes(e.id)))]};return vu(n),n},addTag:(e,t)=>{const n={...e,tags:[...e.tags?e.tags:[],t.payload.tag]};return vu(n),n},deleteTag:(e,t)=>{var n;const r={...e,tags:null===(n=e.tags)||void 0===n?void 0:n.filter((e=>e.id!==t.payload.tagId))};return vu(r),r},resetAllSettings:()=>(vu(yu),yu)},extraReducers:e=>{e.addCase(Eu.fulfilled,((e,t)=>(null===t||void 0===t?void 0:t.payload)||e))}}),Eu=el("settings/loadFromIndexedDB",(async()=>{const e=await mo.items.get("settings");return await JSON.parse(e.value)})),{mergeWithCurrent:Tu,restoreDefaultTags:xu,addTag:wu,deleteTag:Au,resetAllSettings:Su}=_u.actions,ku=_u.reducer;function Cu(){const{bibId:e}=ke(),t=nu((e=>e.bibliographies));return null===t||void 0===t?void 0:t.find((t=>{var n;return t.id===e||(null===t||void 0===t||null===(n=t.collab)||void 0===n?void 0:n.id)===e}))}function Iu(){const e=Cu();return null===e||void 0===e?void 0:e.citations.filter((e=>e.isChecked))}function Nu(e){var t,n,r;return["rgba(".concat(null===(t=gu[e])||void 0===t?void 0:t.slice(4,-1),", ").concat(.2,")"),"rgba(".concat(null===(n=gu[e])||void 0===n?void 0:n.slice(4,-1),", ").concat(.3,")"),"rgba(".concat(null===(r=gu[e])||void 0===r?void 0:r.slice(4,-1),", ").concat(.4,")")]}function Ou(e){const{tagProps:t,onClick:n,showX:r}=e,[i,s,o]=Nu(null===t||void 0===t?void 0:t.color);return(0,Ge.jsx)("div",{className:"bg-white rounded-md",children:(0,Ge.jsxs)("button",{className:"flex gap-1 font-bold p-1 rounded-md transition duration-150 ease-in-out",style:{border:"".concat(gu[null===t||void 0===t?void 0:t.color]," solid 2px"),color:gu[null===t||void 0===t?void 0:t.color],backgroundColor:i},onMouseEnter:e=>e.currentTarget.style.backgroundColor=s,onMouseLeave:e=>e.currentTarget.style.backgroundColor=i,onTouchStart:e=>e.currentTarget.style.backgroundColor=o,onTouchEnd:e=>e.currentTarget.style.backgroundColor=i,onMouseDown:e=>e.currentTarget.style.backgroundColor=o,onMouseUp:e=>e.currentTarget.style.backgroundColor=i,onClick:()=>n?n(t):"",children:[t.label,r&&(0,Ge.jsx)("div",{children:"X"})]})})}function Ru(e){let{name:t,className:n}=e;return(0,Ge.jsx)("i",{className:"material-icons-round align-middle h-full ".concat(n),children:t})}function Du(e){var t,n,r,i,s,o,a,l,u,c;const{bibliography:h}=e;return(0,Ge.jsxs)("div",{className:"grid shadow-hardTransparent border-2 border-solid border-neutral-lightGray rounded-lg items-center p-4 bg-white transition duration-150 ease-in-out hover:bg-neutral-transparentGray",children:[(0,Ge.jsxs)("div",{className:"w-full text-neutral-black sm:flex sm:justify-between gap-2",children:[(0,Ge.jsx)("div",{className:"flex gap-1",children:(0,Ge.jsxs)("h3",{className:"mb-0",children:[(null===h||void 0===h||null===(t=h.collab)||void 0===t?void 0:t.open)&&(0,Ge.jsx)(Ru,{className:"text-neutral-lightGray",name:"group"})," ",null===h||void 0===h?void 0:h.title]})}),(0,Ge.jsx)("p",{className:"mb-0",children:"".concat((null===h||void 0===h||null===(n=h.style)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.short)||(null===h||void 0===h||null===(i=h.style)||void 0===i||null===(s=i.name)||void 0===s?void 0:s.long.replace(/\((.*?)\)/g,""))," \u2022 ").concat(0===(null===h||void 0===h||null===(o=h.citations)||void 0===o?void 0:o.length)?"No sources added":1===(null===h||void 0===h||null===(a=h.citations)||void 0===a?void 0:a.length)?"1 source":"".concat(null===h||void 0===h||null===(l=h.citations)||void 0===l?void 0:l.length," sources")," \u2022 ").concat(zl(null===h||void 0===h?void 0:h.dateModified))})]}),(0,Ge.jsx)("div",{className:"flex gap-1 flex-wrap",style:{marginTop:0===(null===h||void 0===h||null===(u=h.tags)||void 0===u?void 0:u.length)?"0":"0.5rem"},children:null===h||void 0===h||null===(c=h.tags)||void 0===c?void 0:c.map(((e,t)=>(0,Ge.jsx)(Ou,{className:"m-2",tagProps:e},t)))})]})}var Pu=n(1001);const Lu=Pu.default||Pu;function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mu.apply(null,arguments)}function Fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ju(e,t){return ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ju(e,t)}function Bu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ju(e,t)}var Uu=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Hu(e,t){return e===t||!(!Uu(e)||!Uu(t))}function qu(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Hu(e[n],t[n]))return!1;return!0}const zu=function(e,t){var n;void 0===t&&(t=qu);var r,i=[],s=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return s&&n===this&&t(o,i)||(r=e.apply(this,o),s=!0,n=this,i=o),r}};var Vu="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function Gu(e){cancelAnimationFrame(e.id)}function Ku(e,t){var n=Vu();var r={id:requestAnimationFrame((function i(){Vu()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var Wu=-1;function Xu(e){if(void 0===e&&(e=!1),-1===Wu||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Wu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Wu}var Yu=null;function Qu(e){if(void 0===e&&(e=!1),null===Yu||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Yu="positive-descending":(t.scrollLeft=1,Yu=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Yu}return Yu}var $u=function(e,t){return e};function Ju(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,s=e.getOffsetForIndexAndAlignment,o=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,l=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,c=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=l(r.props,Fu(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:Fu(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=zu((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=zu((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,s=r.props,o=s.direction,a=s.itemSize,l=s.layout,c=r._getItemStyleCache(u&&a,u&&l,u&&o);if(c.hasOwnProperty(e))t=c[e];else{var h=n(r.props,e,r._instanceProps),p=i(r.props,e,r._instanceProps),d="horizontal"===o||"horizontal"===l,m="rtl"===o,f=d?h:0;c[e]=t={position:"absolute",left:m?void 0:f,right:m?f:void 0,top:d?0:h,height:d?"100%":p,width:d?p:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=zu((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,s=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,o=i;if("rtl"===t)switch(Qu()){case"negative":o=-i;break;case"positive-descending":o=s-n-i}return o=Math.max(0,Math.min(o,s-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,s=t.scrollTop;r.setState((function(e){if(e.scrollOffset===s)return null;var t=Math.max(0,Math.min(s,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&Gu(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Ku(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}Bu(t,e),t.getDerivedStateFromProps=function(e,t){return Zu(e,t),c(e),null};var h=t.prototype;return h.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},h.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var a=0;if(this._outerRef){var l=this._outerRef;a="vertical"===i?l.scrollWidth>l.clientWidth?Xu():0:l.scrollHeight>l.clientHeight?Xu():0}this.scrollTo(s(this.props,e,t,o,this._instanceProps,a))},h.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},h.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var s=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(Qu()){case"negative":s.scrollLeft=-i;break;case"positive-ascending":s.scrollLeft=i;break;default:var o=s.clientWidth,a=s.scrollWidth;s.scrollLeft=a-o-i}else s.scrollLeft=i;else s.scrollTop=i}this._callPropsCallbacks()},h.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Gu(this._resetIsScrollingTimeoutId)},h.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,s=e.height,o=e.innerRef,a=e.innerElementType,l=e.innerTagName,u=e.itemCount,c=e.itemData,h=e.itemKey,p=void 0===h?$u:h,d=e.layout,m=e.outerElementType,f=e.outerTagName,g=e.style,b=e.useIsScrolling,y=e.width,v=this.state.isScrolling,_="horizontal"===i||"horizontal"===d,E=_?this._onScrollHorizontal:this._onScrollVertical,T=this._getRangeToRender(),x=T[0],w=T[1],A=[];if(u>0)for(var S=x;S<=w;S++)A.push((0,O.createElement)(t,{data:c,key:p(S,c),index:S,isScrolling:b?v:void 0,style:this._getItemStyle(S)}));var k=r(this.props,this._instanceProps);return(0,O.createElement)(m||f||"div",{className:n,onScroll:E,ref:this._outerRefSetter,style:Mu({position:"relative",height:s,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},g)},(0,O.createElement)(a||l||"div",{children:A,ref:o,style:{height:_?"100%":k,pointerEvents:v?"none":void 0,width:_?k:"100%"}}))},h._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var s=this.state,o=s.scrollDirection,a=s.scrollOffset,l=s.scrollUpdateWasRequested;this._callOnScroll(o,a,l)}},h._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,s=r.scrollDirection,l=r.scrollOffset;if(0===t)return[0,0,0,0];var u=o(this.props,l,this._instanceProps),c=a(this.props,u,l,this._instanceProps),h=i&&"backward"!==s?1:Math.max(1,n),p=i&&"forward"!==s?1:Math.max(1,n);return[Math.max(0,u-h),Math.max(0,Math.min(t-1,c+p)),u,c]},t}(O.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Zu=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},ec=Ju({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r,i,s){var o=e.direction,a=e.height,l=e.itemCount,u=e.itemSize,c=e.layout,h=e.width,p="horizontal"===o||"horizontal"===c?h:a,d=Math.max(0,l*u-p),m=Math.min(d,t*u),f=Math.max(0,t*u-p+u+s);switch("smart"===n&&(n=r>=f-p&&r<=m+p?"auto":"center"),n){case"start":return m;case"end":return f;case"center":var g=Math.round(f+(m-f)/2);return g<Math.ceil(p/2)?0:g>d+Math.floor(p/2)?d:g;default:return r>=f&&r<=m?r:r<f?f:m}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,s=e.itemCount,o=e.itemSize,a=e.layout,l=e.width,u=t*o,c="horizontal"===r||"horizontal"===a?l:i,h=Math.ceil((c+n-u)/o);return Math.max(0,Math.min(s-1,t+h-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function tc(e,t){return function(){return e.apply(t,arguments)}}const{toString:nc}=Object.prototype,{getPrototypeOf:rc}=Object,ic=(sc=Object.create(null),e=>{const t=nc.call(e);return sc[t]||(sc[t]=t.slice(8,-1).toLowerCase())});var sc;const oc=e=>(e=e.toLowerCase(),t=>ic(t)===e),ac=e=>t=>typeof t===e,{isArray:lc}=Array,uc=ac("undefined");const cc=oc("ArrayBuffer");const hc=ac("string"),pc=ac("function"),dc=ac("number"),mc=e=>null!==e&&"object"===typeof e,fc=e=>{if("object"!==ic(e))return!1;const t=rc(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gc=oc("Date"),bc=oc("File"),yc=oc("Blob"),vc=oc("FileList"),_c=oc("URLSearchParams"),[Ec,Tc,xc,wc]=["ReadableStream","Request","Response","Headers"].map(oc);function Ac(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),lc(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Sc(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Cc=e=>!uc(e)&&e!==kc;const Ic=(Nc="undefined"!==typeof Uint8Array&&rc(Uint8Array),e=>Nc&&e instanceof Nc);var Nc;const Oc=oc("HTMLFormElement"),Rc=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Dc=oc("RegExp"),Pc=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ac(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},Lc="abcdefghijklmnopqrstuvwxyz",Mc="0123456789",Fc={DIGIT:Mc,ALPHA:Lc,ALPHA_DIGIT:Lc+Lc.toUpperCase()+Mc};const jc=oc("AsyncFunction"),Bc={isArray:lc,isArrayBuffer:cc,isBuffer:function(e){return null!==e&&!uc(e)&&null!==e.constructor&&!uc(e.constructor)&&pc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||pc(e.append)&&("formdata"===(t=ic(e))||"object"===t&&pc(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&cc(e.buffer),t},isString:hc,isNumber:dc,isBoolean:e=>!0===e||!1===e,isObject:mc,isPlainObject:fc,isReadableStream:Ec,isRequest:Tc,isResponse:xc,isHeaders:wc,isUndefined:uc,isDate:gc,isFile:bc,isBlob:yc,isRegExp:Dc,isFunction:pc,isStream:e=>mc(e)&&pc(e.pipe),isURLSearchParams:_c,isTypedArray:Ic,isFileList:vc,forEach:Ac,merge:function e(){const{caseless:t}=Cc(this)&&this||{},n={},r=(r,i)=>{const s=t&&Sc(n,i)||i;fc(n[s])&&fc(r)?n[s]=e(n[s],r):fc(r)?n[s]=e({},r):lc(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ac(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ac(t,((t,r)=>{n&&pc(t)?e[r]=tc(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&rc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ic,kindOfTest:oc,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(lc(e))return e;let t=e.length;if(!dc(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Oc,hasOwnProperty:Rc,hasOwnProp:Rc,reduceDescriptors:Pc,freezeMethods:e=>{Pc(e,((t,n)=>{if(pc(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];pc(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return lc(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Sc,global:kc,isContextDefined:Cc,ALPHABET:Fc,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fc.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&pc(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(mc(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=lc(e)?[]:{};return Ac(e,((e,t)=>{const s=n(e,r+1);!uc(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:jc,isThenable:e=>e&&(mc(e)||pc(e))&&pc(e.then)&&pc(e.catch)};function Uc(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Bc.inherits(Uc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bc.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hc=Uc.prototype,qc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{qc[e]={value:e}})),Object.defineProperties(Uc,qc),Object.defineProperty(Hc,"isAxiosError",{value:!0}),Uc.from=(e,t,n,r,i,s)=>{const o=Object.create(Hc);return Bc.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Uc.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const zc=Uc;function Vc(e){return Bc.isPlainObject(e)||Bc.isArray(e)}function Gc(e){return Bc.endsWith(e,"[]")?e.slice(0,-2):e}function Kc(e,t,n){return e?e.concat(t).map((function(e,t){return e=Gc(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Wc=Bc.toFlatObject(Bc,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Xc=function(e,t,n){if(!Bc.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Bc.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Bc.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Bc.isSpecCompliantForm(t);if(!Bc.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Bc.isDate(e))return e.toISOString();if(!a&&Bc.isBlob(e))throw new zc("Blob is not supported. Use a Buffer instead.");return Bc.isArrayBuffer(e)||Bc.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Bc.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Bc.isArray(e)&&function(e){return Bc.isArray(e)&&!e.some(Vc)}(e)||(Bc.isFileList(e)||Bc.endsWith(n,"[]"))&&(a=Bc.toArray(e)))return n=Gc(n),a.forEach((function(e,r){!Bc.isUndefined(e)&&null!==e&&t.append(!0===o?Kc([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!Vc(e)||(t.append(Kc(i,n,s),l(e)),!1)}const c=[],h=Object.assign(Wc,{defaultVisitor:u,convertValue:l,isVisitable:Vc});if(!Bc.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Bc.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Bc.forEach(n,(function(n,s){!0===(!(Bc.isUndefined(n)||null===n)&&i.call(t,n,Bc.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),c.pop()}}(e),t};function Yc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Qc(e,t){this._pairs=[],e&&Xc(e,this,t)}const $c=Qc.prototype;$c.append=function(e,t){this._pairs.push([e,t])},$c.toString=function(e){const t=e?function(t){return e.call(this,t,Yc)}:Yc;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Jc=Qc;function Zc(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eh(e,t,n){if(!t)return e;const r=n&&n.encode||Zc,i=n&&n.serialize;let s;if(s=i?i(t,n):Bc.isURLSearchParams(t)?t.toString():new Jc(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const th=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Bc.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},nh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rh={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Jc,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ih="undefined"!==typeof window&&"undefined"!==typeof document,sh=(oh="undefined"!==typeof navigator&&navigator.product,ih&&["ReactNative","NativeScript","NS"].indexOf(oh)<0);var oh;const ah="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,lh=ih&&window.location.href||"http://localhost",uh={..._,...rh};const ch=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&Bc.isArray(r)?r.length:s,a)return Bc.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&Bc.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&Bc.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(Bc.isFormData(e)&&Bc.isFunction(e.entries)){const n={};return Bc.forEachEntry(e,((e,r)=>{t(function(e){return Bc.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const hh={transitional:nh,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Bc.isObject(e);i&&Bc.isHTMLForm(e)&&(e=new FormData(e));if(Bc.isFormData(e))return r?JSON.stringify(ch(e)):e;if(Bc.isArrayBuffer(e)||Bc.isBuffer(e)||Bc.isStream(e)||Bc.isFile(e)||Bc.isBlob(e)||Bc.isReadableStream(e))return e;if(Bc.isArrayBufferView(e))return e.buffer;if(Bc.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Xc(e,new uh.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return uh.isNode&&Bc.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Bc.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Xc(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Bc.isString(e))try{return(t||JSON.parse)(e),Bc.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hh.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Bc.isResponse(e)||Bc.isReadableStream(e))return e;if(e&&Bc.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw zc.from(i,zc.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:uh.classes.FormData,Blob:uh.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bc.forEach(["delete","get","head","post","put","patch"],(e=>{hh.headers[e]={}}));const ph=hh,dh=Bc.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mh=Symbol("internals");function fh(e){return e&&String(e).trim().toLowerCase()}function gh(e){return!1===e||null==e?e:Bc.isArray(e)?e.map(gh):String(e)}function bh(e,t,n,r,i){return Bc.isFunction(r)?r.call(this,t,n):(i&&(t=n),Bc.isString(t)?Bc.isString(r)?-1!==t.indexOf(r):Bc.isRegExp(r)?r.test(t):void 0:void 0)}class yh{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=fh(t);if(!i)throw new Error("header name must be a non-empty string");const s=Bc.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=gh(e))}const s=(e,t)=>Bc.forEach(e,((e,n)=>i(e,n,t)));if(Bc.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Bc.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&dh[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Bc.isHeaders(e))for(const[o,a]of e.entries())i(a,o,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=fh(e)){const n=Bc.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Bc.isFunction(t))return t.call(this,e,n);if(Bc.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=fh(e)){const n=Bc.findKey(this,e);return!(!n||void 0===this[n]||t&&!bh(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=fh(e)){const i=Bc.findKey(n,e);!i||t&&!bh(0,n[i],i,t)||(delete n[i],r=!0)}}return Bc.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!bh(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Bc.forEach(this,((r,i)=>{const s=Bc.findKey(n,i);if(s)return t[s]=gh(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=gh(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Bc.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Bc.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[mh]=this[mh]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=fh(e);t[r]||(!function(e,t){const n=Bc.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Bc.isArray(e)?e.forEach(r):r(e),this}}yh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Bc.reduceDescriptors(yh.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Bc.freezeMethods(yh);const vh=yh;function _h(e,t){const n=this||ph,r=t||n,i=vh.from(r.headers);let s=r.data;return Bc.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Eh(e){return!(!e||!e.__CANCEL__)}function Th(e,t,n){zc.call(this,null==e?"canceled":e,zc.ERR_CANCELED,t,n),this.name="CanceledError"}Bc.inherits(Th,zc,{__CANCEL__:!0});const xh=Th;function wh(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new zc("Request failed with status code "+n.status,[zc.ERR_BAD_REQUEST,zc.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ah=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=r[o];i||(i=l),n[s]=a,r[s]=l;let c=o,h=0;for(;c!==s;)h+=n[c++],c%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const p=u&&l-u;return p?Math.round(1e3*h/p):void 0}};const Sh=function(e,t){let n=0;const r=1e3/t;let i=null;return function(){const t=!0===this,s=Date.now();if(t||s-n>r)return i&&(clearTimeout(i),i=null),n=s,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,n=Date.now(),e.apply(null,arguments))),r-(s-n)))}},kh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Ah(50,250);return Sh((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,l=i(a);r=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o};u[t?"download":"upload"]=!0,e(u)}),n)},Ch=uh.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Bc.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},Ih=uh.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];Bc.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Bc.isString(r)&&o.push("path="+r),Bc.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Nh(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Oh=e=>e instanceof vh?{...e}:e;function Rh(e,t){t=t||{};const n={};function r(e,t,n){return Bc.isPlainObject(e)&&Bc.isPlainObject(t)?Bc.merge.call({caseless:n},e,t):Bc.isPlainObject(t)?Bc.merge({},t):Bc.isArray(t)?t.slice():t}function i(e,t,n){return Bc.isUndefined(t)?Bc.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!Bc.isUndefined(t))return r(void 0,t)}function o(e,t){return Bc.isUndefined(t)?Bc.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(Oh(e),Oh(t),!0)};return Bc.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);Bc.isUndefined(o)&&s!==a||(n[r]=o)})),n}const Dh=e=>{const t=Rh({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=vh.from(a),t.url=eh(Nh(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Bc.isFormData(r))if(uh.hasStandardBrowserEnv||uh.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(uh.hasStandardBrowserEnv&&(i&&Bc.isFunction(i)&&(i=i(t)),i||!1!==i&&Ch(t.url))){const e=s&&o&&Ih.read(o);e&&a.set(s,e)}return t},Ph="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Dh(e);let i=r.data;const s=vh.from(r.headers).normalize();let o,{responseType:a}=r;function l(){r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let u=new XMLHttpRequest;function c(){if(!u)return;const r=vh.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());wh((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}u.open(r.method.toUpperCase(),r.url,!0),u.timeout=r.timeout,"onloadend"in u?u.onloadend=c:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(c)},u.onabort=function(){u&&(n(new zc("Request aborted",zc.ECONNABORTED,r,u)),u=null)},u.onerror=function(){n(new zc("Network Error",zc.ERR_NETWORK,r,u)),u=null},u.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||nh;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new zc(e,t.clarifyTimeoutError?zc.ETIMEDOUT:zc.ECONNABORTED,r,u)),u=null},void 0===i&&s.setContentType(null),"setRequestHeader"in u&&Bc.forEach(s.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Bc.isUndefined(r.withCredentials)||(u.withCredentials=!!r.withCredentials),a&&"json"!==a&&(u.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&u.addEventListener("progress",kh(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",kh(r.onUploadProgress)),(r.cancelToken||r.signal)&&(o=t=>{u&&(n(!t||t.type?new xh(null,e,u):t),u.abort(),u=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);h&&-1===uh.protocols.indexOf(h)?n(new zc("Unsupported protocol "+h+":",zc.ERR_BAD_REQUEST,e)):u.send(i||null)}))},Lh=(e,t)=>{let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof zc?t:new xh(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{i(new zc("timeout ".concat(t," of ms exceeded"),zc.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},Mh=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Fh=(e,t,n,r,i)=>{const s=async function*(e,t,n){for await(const r of e)yield*Mh(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,i);let o=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:i}=await s.next();if(t)return e.close(),void r();let a=i.byteLength;n&&n(o+=a),e.enqueue(new Uint8Array(i))},cancel:e=>(r(e),s.return())},{highWaterMark:2})},jh=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},Bh="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Uh=Bh&&"function"===typeof ReadableStream,Hh=Bh&&("function"===typeof TextEncoder?(qh=new TextEncoder,e=>qh.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var qh;const zh=Uh&&(()=>{let e=!1;const t=new Request(uh.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Vh=Uh&&!!(()=>{try{return Bc.isReadableStream(new Response("").body)}catch(e){}})(),Gh={stream:Vh&&(e=>e.body)};var Kh;Bh&&(Kh=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Gh[e]&&(Gh[e]=Bc.isFunction(Kh[e])?t=>t[e]():(t,n)=>{throw new zc("Response type '".concat(e,"' is not supported"),zc.ERR_NOT_SUPPORT,n)})})));const Wh=async(e,t)=>{const n=Bc.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:Bc.isBlob(e)?e.size:Bc.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:Bc.isArrayBufferView(e)?e.byteLength:(Bc.isURLSearchParams(e)&&(e+=""),Bc.isString(e)?(await Hh(e)).byteLength:void 0))(t):n},Xh=Bh&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:p}=Dh(e);u=u?(u+"").toLowerCase():"text";let d,m,[f,g]=i||s||o?Lh([i,s],o):[];const b=()=>{!d&&setTimeout((()=>{f&&f.unsubscribe()})),d=!0};let y;try{if(l&&zh&&"get"!==n&&"head"!==n&&0!==(y=await Wh(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});Bc.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body&&(r=Fh(n.body,65536,jh(y,kh(l)),null,Hh))}Bc.isString(h)||(h=h?"cors":"omit"),m=new Request(t,{...p,signal:f,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let i=await fetch(m);const s=Vh&&("stream"===u||"response"===u);if(Vh&&(a||s)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Bc.toFiniteNumber(i.headers.get("content-length"));i=new Response(Fh(i.body,65536,a&&jh(t,kh(a,!0)),s&&b,Hh),e)}u=u||"text";let o=await Gh[Bc.findKey(Gh,u)||"text"](i,e);return!s&&b(),g&&g(),await new Promise(((t,n)=>{wh(t,n,{data:o,headers:vh.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:m})}))}catch(v){if(b(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new zc("Network Error",zc.ERR_NETWORK,e,m),{cause:v.cause||v});throw zc.from(v,v&&v.code,e,m)}}),Yh={http:null,xhr:Ph,fetch:Xh};Bc.forEach(Yh,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Qh=e=>"- ".concat(e),$h=e=>Bc.isFunction(e)||null===e||!1===e,Jh=e=>{e=Bc.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!$h(n)&&(r=Yh[(t=String(n)).toLowerCase()],void 0===r))throw new zc("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Qh).join("\n"):" "+Qh(e[0]):"as no adapter specified";throw new zc("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Zh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xh(null,e)}function ep(e){Zh(e),e.headers=vh.from(e.headers),e.data=_h.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Jh(e.adapter||ph.adapter)(e).then((function(t){return Zh(e),t.data=_h.call(e,e.transformResponse,t),t.headers=vh.from(t.headers),t}),(function(t){return Eh(t)||(Zh(e),t&&t.response&&(t.response.data=_h.call(e,e.transformResponse,t.response),t.response.headers=vh.from(t.response.headers))),Promise.reject(t)}))}const tp="1.7.2",np={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{np[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const rp={};np.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new zc(r(i," has been removed"+(t?" in "+t:"")),zc.ERR_DEPRECATED);return t&&!rp[i]&&(rp[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const ip={assertOptions:function(e,t,n){if("object"!==typeof e)throw new zc("options must be an object",zc.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new zc("option "+s+" must be "+n,zc.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new zc("Unknown option "+s,zc.ERR_BAD_OPTION)}},validators:np},sp=ip.validators;class op{constructor(e){this.defaults=e,this.interceptors={request:new th,response:new th}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Rh(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ip.assertOptions(n,{silentJSONParsing:sp.transitional(sp.boolean),forcedJSONParsing:sp.transitional(sp.boolean),clarifyTimeoutError:sp.transitional(sp.boolean)},!1),null!=r&&(Bc.isFunction(r)?t.paramsSerializer={serialize:r}:ip.assertOptions(r,{encode:sp.function,serialize:sp.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Bc.merge(i.common,i[t.method]);i&&Bc.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=vh.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,h=0;if(!a){const e=[ep.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);h<c;)u=u.then(e[h++],e[h++]);return u}c=o.length;let p=t;for(h=0;h<c;){const e=o[h++],t=o[h++];try{p=e(p)}catch(d){t.call(this,d);break}}try{u=ep.call(this,p)}catch(d){return Promise.reject(d)}for(h=0,c=l.length;h<c;)u=u.then(l[h++],l[h++]);return u}getUri(e){return eh(Nh((e=Rh(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Bc.forEach(["delete","get","head","options"],(function(e){op.prototype[e]=function(t,n){return this.request(Rh(n||{},{method:e,url:t,data:(n||{}).data}))}})),Bc.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Rh(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}op.prototype[e]=t(),op.prototype[e+"Form"]=t(!0)}));const ap=op;class lp{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new xh(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new lp((function(t){e=t})),cancel:e}}}const up=lp;const cp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cp).forEach((e=>{let[t,n]=e;cp[n]=t}));const hp=cp;const pp=function e(t){const n=new ap(t),r=tc(ap.prototype.request,n);return Bc.extend(r,ap.prototype,n,{allOwnKeys:!0}),Bc.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Rh(t,n))},r}(ph);pp.Axios=ap,pp.CanceledError=xh,pp.CancelToken=up,pp.isCancel=Eh,pp.VERSION=tp,pp.toFormData=Xc,pp.AxiosError=zc,pp.Cancel=pp.CanceledError,pp.all=function(e){return Promise.all(e)},pp.spread=function(e){return function(t){return e.apply(null,t)}},pp.isAxiosError=function(e){return Bc.isObject(e)&&!0===e.isAxiosError},pp.mergeConfig=Rh,pp.AxiosHeaders=vh,pp.formToJSON=e=>ch(Bc.isHTMLForm(e)?new FormData(e):e),pp.getAdapter=Jh,pp.HttpStatusCode=hp,pp.default=pp;const dp=pp,mp={xml:!1,decodeEntities:!0},fp={_useHtmlParser2:!0,xmlMode:!0};function gp(e){return(null===e||void 0===e?void 0:e.xml)?"boolean"===typeof e.xml?fp:{...fp,...e.xml}:null!==e&&void 0!==e?e:void 0}var bp;!function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(bp||(bp={}));const yp=bp.Root,vp=bp.Text,_p=bp.Directive,Ep=bp.Comment,Tp=bp.Script,xp=bp.Style,wp=bp.Tag,Ap=bp.CDATA,Sp=bp.Doctype;class kp{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(){return zp(this,arguments.length>0&&void 0!==arguments[0]&&arguments[0])}}class Cp extends kp{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class Ip extends Cp{constructor(){super(...arguments),this.type=bp.Text}get nodeType(){return 3}}class Np extends Cp{constructor(){super(...arguments),this.type=bp.Comment}get nodeType(){return 8}}class Op extends Cp{constructor(e,t){super(t),this.name=e,this.type=bp.Directive}get nodeType(){return 1}}class Rp extends kp{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class Dp extends Rp{constructor(){super(...arguments),this.type=bp.CDATA}get nodeType(){return 4}}class Pp extends Rp{constructor(){super(...arguments),this.type=bp.Root}get nodeType(){return 9}}class Lp extends Rp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"script"===e?bp.Script:"style"===e?bp.Style:bp.Tag;super(n),this.name=e,this.attribs=t,this.type=r}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,n;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(n=this["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))}}function Mp(e){return(t=e).type===bp.Tag||t.type===bp.Script||t.type===bp.Style;var t}function Fp(e){return e.type===bp.CDATA}function jp(e){return e.type===bp.Text}function Bp(e){return e.type===bp.Comment}function Up(e){return e.type===bp.Directive}function Hp(e){return e.type===bp.Root}function qp(e){return Object.prototype.hasOwnProperty.call(e,"children")}function zp(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(jp(e))t=new Ip(e.data);else if(Bp(e))t=new Np(e.data);else if(Mp(e)){const r=n?Vp(e.children):[],i=new Lp(e.name,{...e.attribs},r);r.forEach((e=>e.parent=i)),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(Fp(e)){const r=n?Vp(e.children):[],i=new Dp(r);r.forEach((e=>e.parent=i)),t=i}else if(Hp(e)){const r=n?Vp(e.children):[],i=new Pp(r);r.forEach((e=>e.parent=i)),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else{if(!Up(e))throw new Error("Not implemented yet: ".concat(e.type));{const n=new Op(e.name,e.data);null!=e["x-name"]&&(n["x-name"]=e["x-name"],n["x-publicId"]=e["x-publicId"],n["x-systemId"]=e["x-systemId"]),t=n}}return t.startIndex=e.startIndex,t.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function Vp(e){const t=e.map((e=>zp(e,!0)));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Gp={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Kp{constructor(e,t,n){this.dom=[],this.root=new Pp(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=Gp),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:Gp,this.elementCB=null!==n&&void 0!==n?n:null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Pp(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const n=this.options.xmlMode?bp.Tag:void 0,r=new Lp(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)}ontext(e){const{lastNode:t}=this;if(t&&t.type===bp.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const t=new Ip(e);this.addNode(t),this.lastNode=t}}oncomment(e){if(this.lastNode&&this.lastNode.type===bp.Comment)return void(this.lastNode.data+=e);const t=new Np(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Ip(""),t=new Dp([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const n=new Op(e,t);this.addNode(n)}handleCallback(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null}}const Wp=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\ud835\udd04rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\ud835\udd38plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\ud835\udc9cign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\ud835\udd05pf;\uc000\ud835\udd39eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\ud835\udc9ep\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\ud835\udd07\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\ud835\udd3b\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\ud835\udc9frok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\ud835\udd08rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\ud835\udd3csilon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\ud835\udd09lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\ud835\udd3dAll;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\ud835\udd0a;\u62d9pf;\uc000\ud835\udd3eeater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\ud835\udca2;\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\ud835\udd40a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\ud835\udd0dpf;\uc000\ud835\udd41\u01e3\u07c7\0\u07ccr;\uc000\ud835\udca5rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\ud835\udd0epf;\uc000\ud835\udd42cr;\uc000\ud835\udca6\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\ud835\udd0f\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\ud835\udd43er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\ud835\udd10nusPlus;\u6213pf;\uc000\ud835\udd44c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\ud835\udd11\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\ud835\udca9ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\ud835\udd12rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\ud835\udd46enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\ud835\udcaaash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\ud835\udd13i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\ud835\udcab;\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\ud835\udd14pf;\u611acr;\uc000\ud835\udcac\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\ud835\udd16ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\ud835\udd4a\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\ud835\udcaear;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\ud835\udd17\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\ud835\udd4bipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\ud835\udcafrok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\ud835\udd18rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\ud835\udd4c\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\ud835\udcb0ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\ud835\udd19pf;\uc000\ud835\udd4dcr;\uc000\ud835\udcb1dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\ud835\udd1apf;\uc000\ud835\udd4ecr;\uc000\ud835\udcb2\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\ud835\udd1b;\u439epf;\uc000\ud835\udd4fcr;\uc000\ud835\udcb3\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\ud835\udd1cpf;\uc000\ud835\udd50cr;\uc000\ud835\udcb4ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\ud835\udcb5\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\ud835\udd1erave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\ud835\udd52\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\ud835\udcb6;\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\ud835\udd1fg\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\ud835\udd53\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\ud835\udcb7mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\ud835\udd20\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\ud835\udd54o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\ud835\udcb8\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\ud835\udd21ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\ud835\udd55\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\ud835\udcb9;\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\ud835\udd22\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\ud835\udd56\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\ud835\udd23lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\ud835\udd57\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\ud835\udcbb\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\ud835\udd24\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\ud835\udd58\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\ud835\udd25s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\ud835\udd59bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\ud835\udcbdas\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\ud835\udd26rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\ud835\udd5aa;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\ud835\udcben\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\ud835\udd27ath;\u4237pf;\uc000\ud835\udd5b\u01e3\u23ec\0\u23f1r;\uc000\ud835\udcbfrcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\ud835\udd28reen;\u4138cy;\u4445cy;\u445cpf;\uc000\ud835\udd5ccr;\uc000\ud835\udcc0\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\ud835\udd29\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\ud835\udd5dus;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\ud835\udcc1m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\ud835\udd2ao;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\ud835\udd5e\u0100ct\u28f8\u28fdr;\uc000\ud835\udcc2pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\ud835\udd2b\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\ud835\udd5f\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\ud835\udcc3ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\ud835\udd2c\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\ud835\udd60\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\ud835\udd2d\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\ud835\udd61nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\ud835\udcc5;\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\ud835\udd2epf;\uc000\ud835\udd62rime;\u6057cr;\uc000\ud835\udcc6\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\ud835\udd2f\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\ud835\udd63us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\ud835\udcc7\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\ud835\udd30\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\ud835\udd64a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\ud835\udcc8tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\ud835\udd31\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\ud835\udd65rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\ud835\udcc9;\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\ud835\udd32rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\ud835\udd66\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\ud835\udcca\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\ud835\udd33tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\ud835\udd67ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\ud835\udccb\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\ud835\udd34pf;\uc000\ud835\udd68\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\ud835\udccc\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\ud835\udd35\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\ud835\udd69im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\ud835\udccd\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\ud835\udd36cy;\u4457pf;\uc000\ud835\udd6acr;\uc000\ud835\udcce\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\ud835\udd37cy;\u4436grarr;\u61ddpf;\uc000\ud835\udd6bcr;\uc000\ud835\udccf\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map((e=>e.charCodeAt(0)))),Xp=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map((e=>e.charCodeAt(0))));var Yp;const Qp=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),$p=null!==(Yp=String.fromCodePoint)&&void 0!==Yp?Yp:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function Jp(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Qp.get(e))&&void 0!==t?t:e}var Zp;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(Zp||(Zp={}));var ed,td,nd;function rd(e){return e>=Zp.ZERO&&e<=Zp.NINE}function id(e){return e>=Zp.UPPER_A&&e<=Zp.UPPER_F||e>=Zp.LOWER_A&&e<=Zp.LOWER_F}function sd(e){return e===Zp.EQUALS||function(e){return e>=Zp.UPPER_A&&e<=Zp.UPPER_Z||e>=Zp.LOWER_A&&e<=Zp.LOWER_Z||rd(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(ed||(ed={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(td||(td={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(nd||(nd={}));class od{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=td.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=nd.Strict}startEntity(e){this.decodeMode=e,this.state=td.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case td.EntityStart:return e.charCodeAt(t)===Zp.NUM?(this.state=td.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=td.NamedEntity,this.stateNamedEntity(e,t));case td.NumericStart:return this.stateNumericStart(e,t);case td.NumericDecimal:return this.stateNumericDecimal(e,t);case td.NumericHex:return this.stateNumericHex(e,t);case td.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===Zp.LOWER_X?(this.state=td.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=td.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!rd(r)&&!id(r))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!rd(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Zp.SEMI)this.consumed+=1;else if(this.decodeMode===nd.Strict)return 0;return this.emitCodePoint(Jp(this.result),this.consumed),this.errors&&(e!==Zp.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],i=(r&ed.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const s=e.charCodeAt(t);if(this.treeIndex=ld(n,r,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return 0===this.result||this.decodeMode===nd.Attribute&&(0===i||sd(s))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],i=(r&ed.VALUE_LENGTH)>>14,0!==i){if(s===Zp.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==nd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&ed.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~ed.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case td.NamedEntity:return 0===this.result||this.decodeMode===nd.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case td.NumericDecimal:return this.emitNumericEntity(0,2);case td.NumericHex:return this.emitNumericEntity(0,3);case td.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case td.EntityStart:return 0}}}function ad(e){let t="";const n=new od(e,(e=>t+=$p(e)));return function(e,r){let i=0,s=0;for(;(s=e.indexOf("&",s))>=0;){t+=e.slice(i,s),n.startEntity(r);const o=n.write(e,s+1);if(o<0){i=s+n.end();break}i=s+o,s=0===o?i+1:i}const o=t+e.slice(i);return t="",o}}function ld(e,t,n,r){const i=(t&ed.BRANCH_LENGTH)>>7,s=t&ed.JUMP_TABLE;if(0===i)return 0!==s&&r===s?n:-1;if(s){const t=r-s;return t<0||t>=i?-1:e[n+t]-1}let o=n,a=o+i-1;for(;o<=a;){const t=o+a>>>1,n=e[t];if(n<r)o=t+1;else{if(!(n>r))return e[t+i];a=t-1}}return-1}ad(Wp),ad(Xp);function ud(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}new Map(ud([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(ud([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(ud([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(ud([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const cd=/["&'<>$\x80-\uFFFF]/g,hd=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),pd=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>55296===(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function dd(e){let t,n="",r=0;for(;null!==(t=cd.exec(e));){const i=t.index,s=e.charCodeAt(i),o=hd.get(s);void 0!==o?(n+=e.substring(r,i)+o,r=i+1):(n+="".concat(e.substring(r,i),"&#x").concat(pd(e,i).toString(16),";"),r=cd.lastIndex+=Number(55296===(64512&s)))}return n+e.substr(r)}function md(e,t){return function(n){let r,i=0,s="";for(;r=e.exec(n);)i!==r.index&&(s+=n.substring(i,r.index)),s+=t.get(r[0].charCodeAt(0)),i=r.index+1;return s+n.substring(i)}}md(/[&<>'"]/g,hd);const fd=md(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),gd=md(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var bd,yd;!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(bd||(bd={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(yd||(yd={}));const vd=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),_d=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),Ed=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Td(e){return e.replace(/"/g,"&quot;")}const xd=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function wd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="length"in e?e:[e];let r="";for(let i=0;i<n.length;i++)r+=Sd(n[i],t);return r}const Ad=wd;function Sd(e,t){switch(e.type){case yp:return wd(e.children,t);case Sp:case _p:return"<".concat(e.data,">");case Ep:return function(e){return"\x3c!--".concat(e.data,"--\x3e")}(e);case Ap:return function(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}(e);case Tp:case xp:case wp:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=vd.get(e.name))&&void 0!==n?n:e.name,e.parent&&kd.has(e.parent.name)&&(t={...t,xmlMode:!1}));!t.xmlMode&&Cd.has(e.name)&&(t={...t,xmlMode:"foreign"});let r="<".concat(e.name);const i=function(e,t){var n;if(!e)return;const r=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?Td:t.xmlMode||"utf8"!==t.encodeEntities?dd:fd;return Object.keys(e).map((n=>{var i,s;const o=null!==(i=e[n])&&void 0!==i?i:"";return"foreign"===t.xmlMode&&(n=null!==(s=_d.get(n))&&void 0!==s?s:n),t.emptyAttrs||t.xmlMode||""!==o?"".concat(n,'="').concat(r(o),'"'):n})).join(" ")}(e.attribs,t);i&&(r+=" ".concat(i));0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&xd.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=wd(e.children,t)),!t.xmlMode&&xd.has(e.name)||(r+="</".concat(e.name,">")));return r}(e,t);case vp:return function(e,t){var n;let r=e.data||"";!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&Ed.has(e.parent.name)||(r=t.xmlMode||"utf8"!==t.encodeEntities?dd(r):gd(r));return r}(e,t)}}const kd=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Cd=new Set(["svg","math"]);function Id(e,t){return Ad(e,t)}function Nd(e,t){return qp(e)?e.children.map((e=>Id(e,t))).join(""):""}function Od(e){return Array.isArray(e)?e.map(Od).join(""):Mp(e)?"br"===e.name?"\n":Od(e.children):Fp(e)?Od(e.children):jp(e)?e.data:""}function Rd(e){return Array.isArray(e)?e.map(Rd).join(""):qp(e)&&!Bp(e)?Rd(e.children):jp(e)?e.data:""}function Dd(e){return Array.isArray(e)?e.map(Dd).join(""):qp(e)&&(e.type===bp.Tag||Fp(e))?Dd(e.children):jp(e)?e.data:""}function Pd(e){return qp(e)?e.children:[]}function Ld(e){return e.parent||null}function Md(e){const t=Ld(e);if(null!=t)return Pd(t);const n=[e];let{prev:r,next:i}=e;for(;null!=r;)n.unshift(r),({prev:r}=r);for(;null!=i;)n.push(i),({next:i}=i);return n}function Fd(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]}function jd(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]}function Bd(e){return e.name}function Ud(e){let{next:t}=e;for(;null!==t&&!Mp(t);)({next:t}=t);return t}function Hd(e){let{prev:t}=e;for(;null!==t&&!Mp(t);)({prev:t}=t);return t}function qd(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function zd(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const i=t.parent=e.parent;if(i){const n=i.children;n[n.lastIndexOf(e)]=t,e.parent=null}}function Vd(e,t){if(qd(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function Gd(e,t){qd(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const e=n.children;e.splice(e.lastIndexOf(r),0,t)}}else n&&n.children.push(t)}function Kd(e,t){if(qd(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function Wd(e,t){qd(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function Xd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Yd(e,Array.isArray(t)?t:[t],n,r)}function Yd(e,t,n,r){const i=[],s=[t],o=[0];for(;;){if(o[0]>=s[0].length){if(1===o.length)return i;s.shift(),o.shift();continue}const t=s[0][o[0]++];if(e(t)&&(i.push(t),--r<=0))return i;n&&qp(t)&&t.children.length>0&&(o.unshift(0),s.unshift(t.children))}}function Qd(e,t){return t.find(e)}function $d(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=null;for(let i=0;i<t.length&&!r;i++){const s=t[i];Mp(s)&&(e(s)?r=s:n&&s.children.length>0&&(r=$d(e,s.children,!0)))}return r}function Jd(e,t){return t.some((t=>Mp(t)&&(e(t)||Jd(e,t.children))))}function Zd(e,t){const n=[],r=[t],i=[0];for(;;){if(i[0]>=r[0].length){if(1===r.length)return n;r.shift(),i.shift();continue}const t=r[0][i[0]++];Mp(t)&&(e(t)&&n.push(t),t.children.length>0&&(i.unshift(0),r.unshift(t.children)))}}const em={tag_name:e=>"function"===typeof e?t=>Mp(t)&&e(t.name):"*"===e?Mp:t=>Mp(t)&&t.name===e,tag_type:e=>"function"===typeof e?t=>e(t.type):t=>t.type===e,tag_contains:e=>"function"===typeof e?t=>jp(t)&&e(t.data):t=>jp(t)&&t.data===e};function tm(e,t){return"function"===typeof t?n=>Mp(n)&&t(n.attribs[e]):n=>Mp(n)&&n.attribs[e]===t}function nm(e,t){return n=>e(n)||t(n)}function rm(e){const t=Object.keys(e).map((t=>{const n=e[t];return Object.prototype.hasOwnProperty.call(em,t)?em[t](n):tm(t,n)}));return 0===t.length?null:t.reduce(nm)}function im(e,t){const n=rm(e);return!n||n(t)}function sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const i=rm(e);return i?Xd(i,t,n,r):[]}function om(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Array.isArray(t)||(t=[t]),$d(tm("id",e),t,n)}function am(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Xd(em.tag_name(e),t,n,r)}function lm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return Xd(em.tag_type(e),t,n,r)}function um(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e}var cm;function hm(e,t){const n=[],r=[];if(e===t)return 0;let i=qp(e)?e:e.parent;for(;i;)n.unshift(i),i=i.parent;for(i=qp(t)?t:t.parent;i;)r.unshift(i),i=i.parent;const s=Math.min(n.length,r.length);let o=0;for(;o<s&&n[o]===r[o];)o++;if(0===o)return cm.DISCONNECTED;const a=n[o-1],l=a.children,u=n[o],c=r[o];return l.indexOf(u)>l.indexOf(c)?a===t?cm.FOLLOWING|cm.CONTAINED_BY:cm.FOLLOWING:a===e?cm.PRECEDING|cm.CONTAINS:cm.PRECEDING}function pm(e){return e=e.filter(((e,t,n)=>!n.includes(e,t+1))),e.sort(((e,t)=>{const n=hm(e,t);return n&cm.PRECEDING?-1:n&cm.FOLLOWING?1:0})),e}function dm(e){const t=bm(_m,e);return t?"feed"===t.name?function(e){var t;const n=e.children,r={type:"atom",items:am("entry",n).map((e=>{var t;const{children:n}=e,r={media:gm(n)};vm(r,"id","id",n),vm(r,"title","title",n);const i=null===(t=bm("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);const s=ym("summary",n)||ym("content",n);s&&(r.description=s);const o=ym("updated",n);return o&&(r.pubDate=new Date(o)),r}))};vm(r,"id","id",n),vm(r,"title","title",n);const i=null===(t=bm("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);vm(r,"description","subtitle",n);const s=ym("updated",n);s&&(r.updated=new Date(s));return vm(r,"author","email",n,!0),r}(t):function(e){var t,n;const r=null!==(n=null===(t=bm("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],i={type:e.name.substr(0,3),id:"",items:am("item",e.children).map((e=>{const{children:t}=e,n={media:gm(t)};vm(n,"id","guid",t),vm(n,"title","title",t),vm(n,"link","link",t),vm(n,"description","description",t);const r=ym("pubDate",t)||ym("dc:date",t);return r&&(n.pubDate=new Date(r)),n}))};vm(i,"title","title",r),vm(i,"link","link",r),vm(i,"description","description",r);const s=ym("lastBuildDate",r);s&&(i.updated=new Date(s));return vm(i,"author","managingEditor",r,!0),i}(t):null}!function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(cm||(cm={}));const mm=["url","type","lang"],fm=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function gm(e){return am("media:content",e).map((e=>{const{attribs:t}=e,n={medium:t.medium,isDefault:!!t.isDefault};for(const r of mm)t[r]&&(n[r]=t[r]);for(const r of fm)t[r]&&(n[r]=parseInt(t[r],10));return t.expression&&(n.expression=t.expression),n}))}function bm(e,t){return am(e,t,!0,1)[0]}function ym(e,t){return Rd(am(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],1)).trim()}function vm(e,t,n,r){const i=ym(n,r,arguments.length>4&&void 0!==arguments[4]&&arguments[4]);i&&(e[t]=i)}function _m(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}function Em(e,t,n){return e?e(null!==t&&void 0!==t?t:e._root.children,null,void 0,n).toString():""}function Tm(e,t){return Em(this,function(e,t){return!t&&"object"===typeof e&&null!=e&&!("length"in e)&&!("type"in e)}(e)?void(t=e):e,{...mp,...null===this||void 0===this?void 0:this._options,...gp(null!==t&&void 0!==t?t:{})})}function xm(e){return Em(this,e,{...this._options,xmlMode:!0})}function wm(e){const t=e||(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=Rd(t[r]);return n}function Am(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"boolean"===typeof t&&t;if(!e||"string"!==typeof e)return null;"boolean"===typeof t&&(n=t);const r=this.load(e,mp,!1);return n||r("script").remove(),r.root()[0].children.slice()}function Sm(){return this(this._root)}function km(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function Cm(e,t){if(!Im(e)||!Im(t))return;let n=e.length;const r=+t.length;for(let i=0;i<r;i++)e[n++]=t[i];return e.length=n,e}function Im(e){if(Array.isArray(e))return!0;if("object"!==typeof e||!Object.prototype.hasOwnProperty.call(e,"length")||"number"!==typeof e.length||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}function Nm(e){return null!=e.cheerio}function Om(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}function Rm(e){const t="length"in e?Array.prototype.map.call(e,(e=>zp(e,!0))):[zp(e,!0)],n=new Pp(t);return t.forEach((e=>{e.parent=n})),t}var Dm;function Pm(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=Dm.LowerA&&n<=Dm.LowerZ||n>=Dm.UpperA&&n<=Dm.UpperZ||n===Dm.Exclamation)&&e.includes(">",t+2)}!function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"}(Dm||(Dm={}));const Lm=Object.prototype.hasOwnProperty,Mm=/\s+/,Fm="data-",jm={null:null,true:!0,false:!1},Bm=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Um=/^{[^]*}$|^\[[^]*]$/;function Hm(e,t,n){var r;if(e&&Mp(e))return null!==(r=e.attribs)&&void 0!==r||(e.attribs={}),t?Lm.call(e.attribs,t)?!n&&Bm.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?wm(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs}function qm(e,t,n){null===n?$m(e,t):e.attribs[t]="".concat(n)}function zm(e,t){if("object"===typeof e||void 0!==t){if("function"===typeof t){if("string"!==typeof e)throw new Error("Bad combination of arguments.");return Om(this,((n,r)=>{Mp(n)&&qm(n,e,t.call(n,r,n.attribs[e]))}))}return Om(this,(n=>{Mp(n)&&("object"===typeof e?Object.keys(e).forEach((t=>{const r=e[t];qm(n,t,r)})):qm(n,e,t))}))}return arguments.length>1?this:Hm(this[0],e,this.options.xmlMode)}function Vm(e,t,n){return t in e?e[t]:!n&&Bm.test(t)?void 0!==Hm(e,t,!1):Hm(e,t,n)}function Gm(e,t,n,r){t in e?e[t]=n:qm(e,t,!r&&Bm.test(t)?n?"":null:"".concat(n))}function Km(e,t){var n;if("string"===typeof e&&void 0===t){const t=this[0];if(!t||!Mp(t))return;switch(e){case"style":{const e=this.css(),t=Object.keys(e);return t.forEach(((t,n)=>{e[n]=t})),e.length=t.length,e}case"tagName":case"nodeName":return t.name.toUpperCase();case"href":case"src":{const r=null===(n=t.attribs)||void 0===n?void 0:n[e];return"undefined"===typeof URL||("href"!==e||"a"!==t.tagName&&"link"!==t.name)&&("src"!==e||"img"!==t.tagName&&"iframe"!==t.tagName&&"audio"!==t.tagName&&"video"!==t.tagName&&"source"!==t.tagName)||void 0===r||!this.options.baseURI?r:new URL(r,this.options.baseURI).href}case"innerText":return Dd(t);case"textContent":return Rd(t);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Vm(t,e,this.options.xmlMode)}}if("object"===typeof e||void 0!==t){if("function"===typeof t){if("object"===typeof e)throw new Error("Bad combination of arguments.");return Om(this,((n,r)=>{Mp(n)&&Gm(n,e,t.call(n,r,Vm(n,e,this.options.xmlMode)),this.options.xmlMode)}))}return Om(this,(n=>{Mp(n)&&("object"===typeof e?Object.keys(e).forEach((t=>{const r=e[t];Gm(n,t,r,this.options.xmlMode)})):Gm(n,e,t,this.options.xmlMode))}))}}function Wm(e,t,n){var r;const i=e;null!==(r=i.data)&&void 0!==r||(i.data={}),"object"===typeof t?Object.assign(i.data,t):"string"===typeof t&&void 0!==n&&(i.data[t]=n)}function Xm(e,t){let n,r,i;var s;null==t?(n=Object.keys(e.attribs).filter((e=>e.startsWith(Fm))),r=n.map((e=>e.slice(Fm.length).replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))))):(n=[Fm+(s=t,s.replace(/[A-Z]/g,"-$&").toLowerCase())],r=[t]);for(let a=0;a<n.length;++a){const t=n[a],s=r[a];if(Lm.call(e.attribs,t)&&!Lm.call(e.data,s)){if(i=e.attribs[t],Lm.call(jm,i))i=jm[i];else if(i===String(Number(i)))i=Number(i);else if(Um.test(i))try{i=JSON.parse(i)}catch(o){}e.data[s]=i}}return null==t?e.data:i}function Ym(e,t){var n;const r=this[0];if(!r||!Mp(r))return;const i=r;return null!==(n=i.data)&&void 0!==n||(i.data={}),e?"object"===typeof e||void 0!==t?(Om(this,(n=>{Mp(n)&&("object"===typeof e?Wm(n,e):Wm(n,e,t))})),this):Lm.call(i.data,e)?i.data[e]:Xm(i,e):Xm(i)}function Qm(e){const t=0===arguments.length,n=this[0];if(!n||!Mp(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const n=this.find("option:selected");if(!t){if(null==this.attr("multiple")&&"object"===typeof e)return this;this.find("option").removeAttr("selected");const t="object"!==typeof e?[e]:e;for(let e=0;e<t.length;e++)this.find('option[value="'.concat(t[e],'"]')).attr("selected","");return this}return this.attr("multiple")?n.toArray().map((e=>wm(e.children))):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function $m(e,t){e.attribs&&Lm.call(e.attribs,t)&&delete e.attribs[t]}function Jm(e){return e?e.trim().split(Mm):[]}function Zm(e){const t=Jm(e);for(let n=0;n<t.length;n++)Om(this,(e=>{Mp(e)&&$m(e,t[n])}));return this}function ef(e){return this.toArray().some((t=>{const n=Mp(t)&&t.attribs.class;let r=-1;if(n&&e.length)for(;(r=n.indexOf(e,r+1))>-1;){const t=r+e.length;if((0===r||Mm.test(n[r-1]))&&(t===n.length||Mm.test(n[t])))return!0}return!1}))}function tf(e){if("function"===typeof e)return Om(this,((t,n)=>{if(Mp(t)){const r=t.attribs.class||"";tf.call([t],e.call(t,n,r))}}));if(!e||"string"!==typeof e)return this;const t=e.split(Mm),n=this.length;for(let r=0;r<n;r++){const e=this[r];if(!Mp(e))continue;const n=Hm(e,"class",!1);if(n){let r=" ".concat(n," ");for(let e=0;e<t.length;e++){const n="".concat(t[e]," ");r.includes(" ".concat(n))||(r+=n)}qm(e,"class",r.trim())}else qm(e,"class",t.join(" ").trim())}return this}function nf(e){if("function"===typeof e)return Om(this,((t,n)=>{Mp(t)&&nf.call([t],e.call(t,n,t.attribs.class||""))}));const t=Jm(e),n=t.length,r=0===arguments.length;return Om(this,(e=>{if(Mp(e))if(r)e.attribs.class="";else{const r=Jm(e.attribs.class);let i=!1;for(let e=0;e<n;e++){const n=r.indexOf(t[e]);n>=0&&(r.splice(n,1),i=!0,e--)}i&&(e.attribs.class=r.join(" "))}}))}function rf(e,t){if("function"===typeof e)return Om(this,((n,r)=>{Mp(n)&&rf.call([n],e.call(n,r,n.attribs.class||"",t),t)}));if(!e||"string"!==typeof e)return this;const n=e.split(Mm),r=n.length,i="boolean"===typeof t?t?1:-1:0,s=this.length;for(let o=0;o<s;o++){const e=this[o];if(!Mp(e))continue;const t=Jm(e.attribs.class);for(let s=0;s<r;s++){const e=t.indexOf(n[s]);i>=0&&e<0?t.push(n[s]):i<=0&&e>=0&&t.splice(e,1)}e.attribs.class=t.join(" ")}return this}var sf;!function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"}(sf||(sf={}));var of;!function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"}(of||(of={}));const af=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,lf=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,uf=new Map([[126,of.Element],[94,of.Start],[36,of.End],[42,of.Any],[33,of.Not],[124,of.Hyphen]]),cf=new Set(["has","not","matches","is","where","host","host-context"]);function hf(e){switch(e.type){case sf.Adjacent:case sf.Child:case sf.Descendant:case sf.Parent:case sf.Sibling:case sf.ColumnCombinator:return!0;default:return!1}}const pf=new Set(["contains","icontains"]);function df(e,t,n){const r=parseInt(t,16)-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function mf(e){return e.replace(lf,df)}function ff(e){return 39===e||34===e}function gf(e){return 32===e||9===e||10===e||12===e||13===e}function bf(e){const t=[],n=yf(t,"".concat(e),0);if(n<e.length)throw new Error("Unmatched selector: ".concat(e.slice(n)));return t}function yf(e,t,n){let r=[];function i(e){const r=t.slice(n+e).match(af);if(!r)throw new Error("Expected name, found ".concat(t.slice(n)));const[i]=r;return n+=e+i.length,mf(i)}function s(e){for(n+=e;n<t.length&&gf(t.charCodeAt(n));)n++}function o(){const e=n+=1;let r=1;for(;r>0&&n<t.length;n++)40!==t.charCodeAt(n)||a(n)?41!==t.charCodeAt(n)||a(n)||r--:r++;if(r)throw new Error("Parenthesis not matched");return mf(t.slice(e,n-1))}function a(e){let n=0;for(;92===t.charCodeAt(--e);)n++;return 1===(1&n)}function l(){if(r.length>0&&hf(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function u(e){r.length>0&&r[r.length-1].type===sf.Descendant?r[r.length-1].type=e:(l(),r.push({type:e}))}function c(e,t){r.push({type:sf.Attribute,name:e,action:t,value:i(1),namespace:null,ignoreCase:"quirks"})}function h(){if(r.length&&r[r.length-1].type===sf.Descendant&&r.pop(),0===r.length)throw new Error("Empty sub-selector");e.push(r)}if(s(0),t.length===n)return n;e:for(;n<t.length;){const e=t.charCodeAt(n);switch(e){case 32:case 9:case 10:case 12:case 13:0!==r.length&&r[0].type===sf.Descendant||(l(),r.push({type:sf.Descendant})),s(1);break;case 62:u(sf.Child),s(1);break;case 60:u(sf.Parent),s(1);break;case 126:u(sf.Sibling),s(1);break;case 43:u(sf.Adjacent),s(1);break;case 46:c("class",of.Element);break;case 35:c("id",of.Equals);break;case 91:{let e;s(1);let o=null;124===t.charCodeAt(n)?e=i(1):t.startsWith("*|",n)?(o="*",e=i(2)):(e=i(0),124===t.charCodeAt(n)&&61!==t.charCodeAt(n+1)&&(o=e,e=i(1))),s(0);let l=of.Exists;const u=uf.get(t.charCodeAt(n));if(u){if(l=u,61!==t.charCodeAt(n+1))throw new Error("Expected `=`");s(2)}else 61===t.charCodeAt(n)&&(l=of.Equals,s(1));let c="",h=null;if("exists"!==l){if(ff(t.charCodeAt(n))){const e=t.charCodeAt(n);let r=n+1;for(;r<t.length&&(t.charCodeAt(r)!==e||a(r));)r+=1;if(t.charCodeAt(r)!==e)throw new Error("Attribute value didn't end");c=mf(t.slice(n+1,r)),n=r+1}else{const e=n;for(;n<t.length&&(!gf(t.charCodeAt(n))&&93!==t.charCodeAt(n)||a(n));)n+=1;c=mf(t.slice(e,n))}s(0);const e=32|t.charCodeAt(n);115===e?(h=!1,s(1)):105===e&&(h=!0,s(1))}if(93!==t.charCodeAt(n))throw new Error("Attribute selector didn't terminate");n+=1;const p={type:sf.Attribute,name:e,action:l,value:c,namespace:o,ignoreCase:h};r.push(p);break}case 58:{if(58===t.charCodeAt(n+1)){r.push({type:sf.PseudoElement,name:i(2).toLowerCase(),data:40===t.charCodeAt(n)?o():null});continue}const e=i(1).toLowerCase();let s=null;if(40===t.charCodeAt(n))if(cf.has(e)){if(ff(t.charCodeAt(n+1)))throw new Error("Pseudo-selector ".concat(e," cannot be quoted"));if(s=[],n=yf(s,t,n+1),41!==t.charCodeAt(n))throw new Error("Missing closing parenthesis in :".concat(e," (").concat(t,")"));n+=1}else{if(s=o(),pf.has(e)){const e=s.charCodeAt(0);e===s.charCodeAt(s.length-1)&&ff(e)&&(s=s.slice(1,-1))}s=mf(s)}r.push({type:sf.Pseudo,name:e,data:s});break}case 44:h(),r=[],s(1);break;default:{if(t.startsWith("/*",n)){const e=t.indexOf("*/",n+2);if(e<0)throw new Error("Comment was not terminated");n=e+2,0===r.length&&s(0);break}let o,a=null;if(42===e)n+=1,o="*";else if(124===e){if(o="",124===t.charCodeAt(n+1)){u(sf.ColumnCombinator),s(2);break}}else{if(!af.test(t.slice(n)))break e;o=i(0)}124===t.charCodeAt(n)&&124!==t.charCodeAt(n+1)&&(a=o,42===t.charCodeAt(n+1)?(o="*",n+=2):o=i(1)),r.push("*"===o?{type:sf.Universal,namespace:a}:{type:sf.Tag,name:o,namespace:a})}}}return h(),n}var vf=n(2045);const _f=new Map([[sf.Universal,50],[sf.Tag,30],[sf.Attribute,1],[sf.Pseudo,0]]);function Ef(e){return!_f.has(e.type)}const Tf=new Map([[of.Exists,10],[of.Equals,8],[of.Not,7],[of.Start,6],[of.End,6],[of.Any,5]]);function xf(e){const t=e.map(wf);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let i=n-1;i>=0&&r<t[i];i--){const n=e[i+1];e[i+1]=e[i],e[i]=n,t[i+1]=t[i],t[i]=r}}}function wf(e){var t,n;let r=null!==(t=_f.get(e.type))&&void 0!==t?t:-1;return e.type===sf.Attribute?(r=null!==(n=Tf.get(e.action))&&void 0!==n?n:4,e.action===of.Equals&&"id"===e.name&&(r=9),e.ignoreCase&&(r>>=1)):e.type===sf.Pseudo&&(e.data?"has"===e.name||"contains"===e.name?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map((e=>Math.min(...e.map(wf))))),r<0&&(r=0)):r=2:r=3),r}const Af=/[-[\]{}()*+?.,\\^$|#\s]/g;function Sf(e){return e.replace(Af,"\\$&")}const kf=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Cf(e,t){return"boolean"===typeof e.ignoreCase?e.ignoreCase:"quirks"===e.ignoreCase?!!t.quirksMode:!t.xmlMode&&kf.has(e.name)}const If={equals(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return Cf(t,n)?(s=s.toLowerCase(),t=>{const n=r.getAttributeValue(t,i);return null!=n&&n.length===s.length&&n.toLowerCase()===s&&e(t)}):t=>r.getAttributeValue(t,i)===s&&e(t)},hyphen(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const o=s.length;return Cf(t,n)?(s=s.toLowerCase(),function(t){const n=r.getAttributeValue(t,i);return null!=n&&(n.length===o||"-"===n.charAt(o))&&n.substr(0,o).toLowerCase()===s&&e(t)}):function(t){const n=r.getAttributeValue(t,i);return null!=n&&(n.length===o||"-"===n.charAt(o))&&n.substr(0,o)===s&&e(t)}},element(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(/\s/.test(s))return vf.falseFunc;const o=new RegExp("(?:^|\\s)".concat(Sf(s),"(?:$|\\s)"),Cf(t,n)?"i":"");return function(t){const n=r.getAttributeValue(t,i);return null!=n&&n.length>=s.length&&o.test(n)&&e(t)}},exists(e,t,n){let{name:r}=t,{adapter:i}=n;return t=>i.hasAttrib(t,r)&&e(t)},start(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const o=s.length;return 0===o?vf.falseFunc:Cf(t,n)?(s=s.toLowerCase(),t=>{const n=r.getAttributeValue(t,i);return null!=n&&n.length>=o&&n.substr(0,o).toLowerCase()===s&&e(t)}):t=>{var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.startsWith(s))&&e(t)}},end(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const o=-s.length;return 0===o?vf.falseFunc:Cf(t,n)?(s=s.toLowerCase(),t=>{var n;return(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.substr(o).toLowerCase())===s&&e(t)}):t=>{var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.endsWith(s))&&e(t)}},any(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(""===s)return vf.falseFunc;if(Cf(t,n)){const t=new RegExp(Sf(s),"i");return function(n){const o=r.getAttributeValue(n,i);return null!=o&&o.length>=s.length&&t.test(o)&&e(n)}}return t=>{var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.includes(s))&&e(t)}},not(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return""===s?t=>!!r.getAttributeValue(t,i)&&e(t):Cf(t,n)?(s=s.toLowerCase(),t=>{const n=r.getAttributeValue(t,i);return(null==n||n.length!==s.length||n.toLowerCase()!==s)&&e(t)}):t=>r.getAttributeValue(t,i)!==s&&e(t)}},Nf=new Set([9,10,12,13,32]),Of="0".charCodeAt(0),Rf="9".charCodeAt(0);function Df(e){return function(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return vf.falseFunc;if(-1===t)return e=>e<=n;if(0===t)return e=>e===n;if(1===t)return n<0?vf.trueFunc:e=>e>=n;const r=Math.abs(t),i=(n%r+r)%r;return t>1?e=>e>=n&&e%r===i:e=>e<=n&&e%r===i}(function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];let t=0,n=0,r=s(),i=o();if(t<e.length&&"n"===e.charAt(t)&&(t++,n=r*(null!==i&&void 0!==i?i:1),a(),t<e.length?(r=s(),a(),i=o()):r=i=0),null===i||t<e.length)throw new Error("n-th rule couldn't be parsed ('".concat(e,"')"));return[n,r*i];function s(){return"-"===e.charAt(t)?(t++,-1):("+"===e.charAt(t)&&t++,1)}function o(){const n=t;let r=0;for(;t<e.length&&e.charCodeAt(t)>=Of&&e.charCodeAt(t)<=Rf;)r=10*r+(e.charCodeAt(t)-Of),t++;return t===n?null:r}function a(){for(;t<e.length&&Nf.has(e.charCodeAt(t));)t++}}(e))}function Pf(e,t){return n=>{const r=t.getParent(n);return null!=r&&t.isTag(r)&&e(n)}}const Lf={contains(e,t,n){let{adapter:r}=n;return function(n){return e(n)&&r.getText(n).includes(t)}},icontains(e,t,n){let{adapter:r}=n;const i=t.toLowerCase();return function(t){return e(t)&&r.getText(t).toLowerCase().includes(i)}},"nth-child"(e,t,n){let{adapter:r,equals:i}=n;const s=Df(t);return s===vf.falseFunc?vf.falseFunc:s===vf.trueFunc?Pf(e,r):function(t){const n=r.getSiblings(t);let o=0;for(let e=0;e<n.length&&!i(t,n[e]);e++)r.isTag(n[e])&&o++;return s(o)&&e(t)}},"nth-last-child"(e,t,n){let{adapter:r,equals:i}=n;const s=Df(t);return s===vf.falseFunc?vf.falseFunc:s===vf.trueFunc?Pf(e,r):function(t){const n=r.getSiblings(t);let o=0;for(let e=n.length-1;e>=0&&!i(t,n[e]);e--)r.isTag(n[e])&&o++;return s(o)&&e(t)}},"nth-of-type"(e,t,n){let{adapter:r,equals:i}=n;const s=Df(t);return s===vf.falseFunc?vf.falseFunc:s===vf.trueFunc?Pf(e,r):function(t){const n=r.getSiblings(t);let o=0;for(let e=0;e<n.length;e++){const s=n[e];if(i(t,s))break;r.isTag(s)&&r.getName(s)===r.getName(t)&&o++}return s(o)&&e(t)}},"nth-last-of-type"(e,t,n){let{adapter:r,equals:i}=n;const s=Df(t);return s===vf.falseFunc?vf.falseFunc:s===vf.trueFunc?Pf(e,r):function(t){const n=r.getSiblings(t);let o=0;for(let e=n.length-1;e>=0;e--){const s=n[e];if(i(t,s))break;r.isTag(s)&&r.getName(s)===r.getName(t)&&o++}return s(o)&&e(t)}},root(e,t,n){let{adapter:r}=n;return t=>{const n=r.getParent(t);return(null==n||!r.isTag(n))&&e(t)}},scope(e,t,n,r){const{equals:i}=n;return r&&0!==r.length?1===r.length?t=>i(r[0],t)&&e(t):t=>r.includes(t)&&e(t):Lf.root(e,t,n)},hover:Mf("isHovered"),visited:Mf("isVisited"),active:Mf("isActive")};function Mf(e){return function(t,n,r){let{adapter:i}=r;const s=i[e];return"function"!==typeof s?vf.falseFunc:function(e){return s(e)&&t(e)}}}const Ff={empty(e,t){let{adapter:n}=t;return!n.getChildren(e).some((e=>n.isTag(e)||""!==n.getText(e)))},"first-child"(e,t){let{adapter:n,equals:r}=t;if(n.prevElementSibling)return null==n.prevElementSibling(e);const i=n.getSiblings(e).find((e=>n.isTag(e)));return null!=i&&r(e,i)},"last-child"(e,t){let{adapter:n,equals:r}=t;const i=n.getSiblings(e);for(let s=i.length-1;s>=0;s--){if(r(e,i[s]))return!0;if(n.isTag(i[s]))break}return!1},"first-of-type"(e,t){let{adapter:n,equals:r}=t;const i=n.getSiblings(e),s=n.getName(e);for(let o=0;o<i.length;o++){const t=i[o];if(r(e,t))return!0;if(n.isTag(t)&&n.getName(t)===s)break}return!1},"last-of-type"(e,t){let{adapter:n,equals:r}=t;const i=n.getSiblings(e),s=n.getName(e);for(let o=i.length-1;o>=0;o--){const t=i[o];if(r(e,t))return!0;if(n.isTag(t)&&n.getName(t)===s)break}return!1},"only-of-type"(e,t){let{adapter:n,equals:r}=t;const i=n.getName(e);return n.getSiblings(e).every((t=>r(e,t)||!n.isTag(t)||n.getName(t)!==i))},"only-child"(e,t){let{adapter:n,equals:r}=t;return n.getSiblings(e).every((t=>r(e,t)||!n.isTag(t)))}};function jf(e,t,n,r){if(null===n){if(e.length>r)throw new Error("Pseudo-class :".concat(t," requires an argument"))}else if(e.length===r)throw new Error("Pseudo-class :".concat(t," doesn't have any arguments"))}const Bf={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Uf={};function Hf(e,t){return e===vf.falseFunc?vf.falseFunc:n=>t.isTag(n)&&e(n)}function qf(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function zf(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const Vf=(e,t,n,r,i)=>{const s=i(t,zf(n),r);return s===vf.trueFunc?e:s===vf.falseFunc?vf.falseFunc:t=>s(t)&&e(t)},Gf={is:Vf,matches:Vf,where:Vf,not(e,t,n,r,i){const s=i(t,zf(n),r);return s===vf.falseFunc?e:s===vf.trueFunc?vf.falseFunc:t=>!s(t)&&e(t)},has(e,t,n,r,i){const{adapter:s}=n,o=zf(n);o.relativeSelector=!0;const a=t.some((e=>e.some(Ef)))?[Uf]:void 0,l=i(t,o,a);if(l===vf.falseFunc)return vf.falseFunc;const u=Hf(l,s);if(a&&l!==vf.trueFunc){const{shouldTestNextSiblings:t=!1}=l;return n=>{if(!e(n))return!1;a[0]=n;const r=s.getChildren(n),i=t?[...r,...qf(n,s)]:r;return s.existsOne(u,i)}}return t=>e(t)&&s.existsOne(u,s.getChildren(t))}};function Kf(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function Wf(e,t,n,r,i){const{adapter:s,equals:o}=n;switch(t.type){case sf.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case sf.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case sf.Attribute:if(null!=t.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return n.xmlMode&&!n.lowerCaseAttributeNames||(t.name=t.name.toLowerCase()),If[t.action](e,t,n);case sf.Pseudo:return function(e,t,n,r,i){var s;const{name:o,data:a}=t;if(Array.isArray(a)){if(!(o in Gf))throw new Error("Unknown pseudo-class :".concat(o,"(").concat(a,")"));return Gf[o](e,a,n,r,i)}const l=null===(s=n.pseudos)||void 0===s?void 0:s[o],u="string"===typeof l?l:Bf[o];if("string"===typeof u){if(null!=a)throw new Error("Pseudo ".concat(o," doesn't have any arguments"));const t=bf(u);return Gf.is(e,t,n,r,i)}if("function"===typeof l)return jf(l,o,a,1),t=>l(t,a)&&e(t);if(o in Lf)return Lf[o](e,a,n,r);if(o in Ff){const t=Ff[o];return jf(t,o,a,2),r=>t(r,n,a)&&e(r)}throw new Error("Unknown pseudo-class :".concat(o))}(e,t,n,r,i);case sf.Tag:{if(null!=t.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:r}=t;return n.xmlMode&&!n.lowerCaseTags||(r=r.toLowerCase()),function(t){return s.getName(t)===r&&e(t)}}case sf.Descendant:{if(!1===n.cacheResults||"undefined"===typeof WeakSet)return function(t){let n=t;for(;n=Kf(n,s);)if(e(n))return!0;return!1};const t=new WeakSet;return function(n){let r=n;for(;r=Kf(r,s);)if(!t.has(r)){if(s.isTag(r)&&e(r))return!0;t.add(r)}return!1}}case"_flexibleDescendant":return function(t){let n=t;do{if(e(n))return!0}while(n=Kf(n,s));return!1};case sf.Parent:return function(t){return s.getChildren(t).some((t=>s.isTag(t)&&e(t)))};case sf.Child:return function(t){const n=s.getParent(t);return null!=n&&s.isTag(n)&&e(n)};case sf.Sibling:return function(t){const n=s.getSiblings(t);for(let r=0;r<n.length;r++){const i=n[r];if(o(t,i))break;if(s.isTag(i)&&e(i))return!0}return!1};case sf.Adjacent:return s.prevElementSibling?function(t){const n=s.prevElementSibling(t);return null!=n&&e(n)}:function(t){const n=s.getSiblings(t);let r;for(let e=0;e<n.length;e++){const i=n[e];if(o(t,i))break;s.isTag(i)&&(r=i)}return!!r&&e(r)};case sf.Universal:if(null!=t.namespace&&"*"!==t.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}function Xf(e,t,n){return Zf("string"===typeof e?bf(e):e,t,n)}function Yf(e){return e.type===sf.Pseudo&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((e=>e.some(Yf))))}const Qf={type:sf.Descendant},$f={type:"_flexibleDescendant"},Jf={type:sf.Pseudo,name:"scope",data:null};function Zf(e,t,n){var r;e.forEach(xf),n=null!==(r=t.context)&&void 0!==r?r:n;const i=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(!1!==t.relativeSelector)!function(e,t,n){let{adapter:r}=t;const i=!!(null===n||void 0===n?void 0:n.every((e=>{const t=r.isTag(e)&&r.getParent(e);return e===Uf||t&&r.isTag(t)})));for(const s of e){if(s.length>0&&Ef(s[0])&&s[0].type!==sf.Descendant);else{if(!i||s.some(Yf))continue;s.unshift(Qf)}s.unshift(Jf)}}(e,t,s);else if(e.some((e=>e.length>0&&Ef(e[0]))))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=!1;const a=e.map((e=>{if(e.length>=2){const[t,n]=e;t.type!==sf.Pseudo||"scope"!==t.name||(i&&n.type===sf.Descendant?e[1]=$f:n.type!==sf.Adjacent&&n.type!==sf.Sibling||(o=!0))}return function(e,t,n){var r;return e.reduce(((e,r)=>e===vf.falseFunc?vf.falseFunc:Wf(e,r,t,n,Zf)),null!==(r=t.rootFunc)&&void 0!==r?r:vf.trueFunc)}(e,t,s)})).reduce(eg,vf.falseFunc);return a.shouldTestNextSiblings=o,a}function eg(e,t){return t===vf.falseFunc||e===vf.trueFunc?e:e===vf.falseFunc||t===vf.trueFunc?t:function(n){return e(n)||t(n)}}const tg=(e,t)=>e===t,ng={adapter:E,equals:tg};function rg(e){var t,n,r,i;const s=null!==e&&void 0!==e?e:ng;return null!==(t=s.adapter)&&void 0!==t||(s.adapter=E),null!==(n=s.equals)&&void 0!==n||(s.equals=null!==(i=null===(r=s.adapter)||void 0===r?void 0:r.equals)&&void 0!==i?i:tg),s}function ig(e){return function(t,n,r){const i=rg(n);return e(t,i,r)}}ig((function(e,t,n){return Hf(Xf(e,t,n),t.adapter)})),ig(Xf);const sg=ig(Zf);function og(e){return function(t,n,r){const i=rg(r);"function"!==typeof t&&(t=Xf(t,i,n));const s=ag(n,i.adapter,t.shouldTestNextSiblings);return e(t,s,i)}}function ag(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=function(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let i=0;i<r;i++){const e=qf(n[i],t);n.push(...e)}return n}(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}og(((e,t,n)=>e!==vf.falseFunc&&t&&0!==t.length?n.adapter.findAll(e,t):[])),og(((e,t,n)=>e!==vf.falseFunc&&t&&0!==t.length?n.adapter.findOne(e,t):null));const lg=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function ug(e){return"pseudo"===e.type&&(!!lg.has(e.name)||!("not"!==e.name||!Array.isArray(e.data))&&e.data.some((e=>e.some(ug))))}function cg(e){const t=[],n=[];for(const r of e)r.some(ug)?t.push(r):n.push(r);return[n,t]}const hg={type:sf.Universal,namespace:null},pg={type:sf.Pseudo,name:"scope",data:null};function dg(e,t){return mg([e],t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function mg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("function"===typeof t)return e.some(t);const[r,i]=cg(bf(t));return r.length>0&&e.some(sg(r,n))||i.some((t=>bg(t,e,n).length>0))}function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return gg(bf(e),t,n)}function gg(e,t,n){if(0===t.length)return[];const[r,i]=cg(e);let s;if(r.length){const e=Eg(t,r,n);if(0===i.length)return e;e.length&&(s=new Set(e))}for(let o=0;o<i.length&&(null===s||void 0===s?void 0:s.size)!==t.length;o++){const e=i[o];if(0===(s?t.filter((e=>Mp(e)&&!s.has(e))):t).length)break;const r=bg(e,t,n);if(r.length)if(s)r.forEach((e=>s.add(e)));else{if(o===i.length-1)return r;s=new Set(r)}}return"undefined"!==typeof s?s.size===t.length?t:t.filter((e=>s.has(e))):[]}function bg(e,t,n){var r;if(e.some(hf)){const i=null!==(r=n.root)&&void 0!==r?r:function(e){for(;e.parent;)e=e.parent;return e}(t[0]),s={...n,context:t,relativeSelector:!1};return e.push(pg),yg(i,e,s,!0,t.length)}return yg(t,e,n,!1,t.length)}function yg(e,t,n,r,i){const s=t.findIndex(ug),o=t.slice(0,s),a=t[s],l=t.length-1===s?i:1/0,u=function(e,t,n){const r=null!=t?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}(a.name,a.data,l);if(0===u)return[];const c=(0!==o.length||Array.isArray(e)?0===o.length?(Array.isArray(e)?e:[e]).filter(Mp):r||o.some(hf)?vg(e,[o],n,u):Eg(e,[o],n):Pd(e).filter(Mp)).slice(0,u);let h=function(e,t,n,r){const i="string"===typeof n?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<t.length?[i<0?t[t.length+i]:t[i]]:[];case"gt":return isFinite(i)?t.slice(i+1):[];case"even":return t.filter(((e,t)=>t%2===0));case"odd":return t.filter(((e,t)=>t%2===1));case"not":{const e=new Set(gg(n,t,r));return t.filter((t=>!e.has(t)))}}}(a.name,c,a.data,n);if(0===h.length||t.length===s+1)return h;const p=t.slice(s+1),d=p.some(hf);if(d){if(hf(p[0])){const{type:e}=p[0];e!==sf.Sibling&&e!==sf.Adjacent||(h=ag(h,E,!0)),p.unshift(hg)}n={...n,relativeSelector:!1,rootFunc:e=>h.includes(e)}}else n.rootFunc&&n.rootFunc!==vf.trueFunc&&(n={...n,rootFunc:vf.trueFunc});return p.some(ug)?yg(h,p,n,!1,i):d?vg(h,[p],n,i):Eg(h,[p],n)}function vg(e,t,n,r){return _g(e,sg(t,n,e),r)}function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Yd((e=>Mp(e)&&t(e)),ag(e,E,t.shouldTestNextSiblings),!0,n)}function Eg(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Mp);if(0===r.length)return r;const i=sg(t,n);return i===vf.trueFunc?r:r.filter(i)}const Tg=/^\s*[~+]/;function xg(e){var t;if(!e)return this._make([]);const n=this.toArray();if("string"!==typeof e){const t=Nm(e)?e.toArray():[e];return this._make(t.filter((e=>n.some((t=>km(t,e))))))}const r=Tg.test(e)?n:this.children().toArray(),i={context:n,root:null===(t=this._root)||void 0===t?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;if("function"===typeof e)return _g(t,e);const[i,s]=cg(bf(e)),o=s.map((e=>yg(t,e,n,!0,r)));return i.length&&o.push(vg(t,i,n,r)),0===o.length?[]:1===o.length?o[0]:pm(o.reduce(((e,t)=>[...e,...t])))}(e,r,i))}function wg(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return function(n){var i;let s=e(t,this);return n&&(s=Kg(s,n,this.options.xmlMode,null===(i=this._root)||void 0===i?void 0:i[0])),this._make(this.length>1&&s.length>1?r.reduce(((e,t)=>t(e)),s):s)}}}const Ag=wg(((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);n.push(i)}return(new Array).concat(...n)})),Sg=wg(((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);null!==i&&n.push(i)}return n}));function kg(e){let t=null;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=wg(((e,n)=>{const r=[];return Om(n,(n=>{for(let i;(i=e(n))&&!(null===t||void 0===t?void 0:t(i,r.length));n=i)r.push(i)})),r}))(e,...r);return function(e,n){t="string"===typeof e?t=>dg(t,e,this.options):e?Vg(e):null;const r=s.call(this,n);return t=null,r}}function Cg(e){return Array.from(new Set(e))}const Ig=Sg((e=>{let{parent:t}=e;return t&&!Hp(t)?t:null}),Cg),Ng=Ag((e=>{const t=[];for(;e.parent&&!Hp(e.parent);)t.push(e.parent),e=e.parent;return t}),pm,(e=>e.reverse())),Og=kg((e=>{let{parent:t}=e;return t&&!Hp(t)?t:null}),pm,(e=>e.reverse()));function Rg(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:null===(t=this._root)||void 0===t?void 0:t[0]},i="string"===typeof e?t=>dg(t,e,r):Vg(e);return Om(this,(e=>{for(;e&&Mp(e);){if(i(e,0)){n.includes(e)||n.push(e);break}e=e.parent}})),this._make(n)}const Dg=Sg((e=>Ud(e))),Pg=Ag((e=>{const t=[];for(;e.next;)Mp(e=e.next)&&t.push(e);return t}),Cg),Lg=kg((e=>Ud(e)),Cg),Mg=Sg((e=>Hd(e))),Fg=Ag((e=>{const t=[];for(;e.prev;)Mp(e=e.prev)&&t.push(e);return t}),Cg),jg=kg((e=>Hd(e)),Cg),Bg=Ag((e=>Md(e).filter((t=>Mp(t)&&t!==e))),pm),Ug=Ag((e=>Pd(e).filter(Mp)),Cg);function Hg(){const e=this.toArray().reduce(((e,t)=>qp(t)?e.concat(t.children):e),[]);return this._make(e)}function qg(e){let t=0;const n=this.length;for(;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this}function zg(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],i=e.call(r,n,r);null!=i&&(t=t.concat(i))}return this._make(t)}function Vg(e){return"function"===typeof e?(t,n)=>e.call(t,n,t):Nm(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function Gg(e){var t;return this._make(Kg(this.toArray(),e,this.options.xmlMode,null===(t=this._root)||void 0===t?void 0:t[0]))}function Kg(e,t,n,r){return"string"===typeof t?fg(t,e,{xmlMode:n,root:r}):e.filter(Vg(t))}function Wg(e){const t=this.toArray();return"string"===typeof e?mg(t.filter(Mp),e,this.options):!!e&&t.some(Vg(e))}function Xg(e){let t=this.toArray();if("string"===typeof e){const n=new Set(fg(e,t,this.options));t=t.filter((e=>!n.has(e)))}else{const n=Vg(e);t=t.filter(((e,t)=>!n(e,t)))}return this._make(t)}function Yg(e){return this.filter("string"===typeof e?":has(".concat(e,")"):(t,n)=>this._make(n).find(e).length>0)}function Qg(){return this.length>1?this._make(this[0]):this}function $g(){return this.length>0?this._make(this[this.length-1]):this}function Jg(e){var t;return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this._make(null!==(t=this[e])&&void 0!==t?t:[]))}function Zg(e){return null==e?this.toArray():this[e<0?this.length+e:e]}function eb(){return Array.prototype.slice.call(this)}function tb(e){let t,n;return null==e?(t=this.parent().children(),n=this[0]):"string"===typeof e?(t=this._make(e),n=this[0]):(t=this,n=Nm(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function nb(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function rb(){var e;return null!==(e=this.prevObject)&&void 0!==e?e:this._make([])}function ib(e,t){const n=this._make(e,t),r=pm([...this.get(),...n.get()]);return this._make(r)}function sb(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}function ob(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const e=n[r];e.parent&&e.parent.children!==n&&qd(e),t?(e.prev=n[r-1]||null,e.next=n[r+1]||null):e.prev=e.next=null,e.parent=t}return t}function ab(e,t){return null==e?[]:Nm(e)?t?Rm(e.get()):e.get():Array.isArray(e)?e.reduce(((e,n)=>e.concat(this._makeDomArray(n,t))),[]):"string"===typeof e?this._parse(e,this.options,!1,null).children:t?Rm([e]):[e]}function lb(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=this.length-1;return Om(this,((t,r)=>{if(!qp(t))return;const s="function"===typeof n[0]?n[0].call(t,r,this._render(t.children)):n,o=this._makeDomArray(s,r<i);e(o,t.children,t)}))}}function ub(e,t,n,r,i){var s,o;const a=[t,n,...r],l=0===t?null:e[t-1],u=t+n>=e.length?null:e[t+n];for(let c=0;c<r.length;++c){const e=r[c],n=e.parent;if(n){const r=n.children.indexOf(e);r>-1&&(n.children.splice(r,1),i===n&&t>r&&a[0]--)}e.parent=i,e.prev&&(e.prev.next=null!==(s=e.next)&&void 0!==s?s:null),e.next&&(e.next.prev=null!==(o=e.prev)&&void 0!==o?o:null),e.prev=0===c?l:r[c-1],e.next=c===r.length-1?u:r[c+1]}return l&&(l.next=r[0]),u&&(u.prev=r[r.length-1]),e.splice(...a)}function cb(e){return(Nm(e)?e:this._make(e)).append(this),this}function hb(e){return(Nm(e)?e:this._make(e)).prepend(this),this}const pb=lb(((e,t,n)=>{ub(t,t.length,0,e,n)})),db=lb(((e,t,n)=>{ub(t,0,0,e,n)}));function mb(e){return function(t){const n=this.length-1,r=this.parents().last();for(let i=0;i<this.length;i++){const s=this[i],o="function"===typeof t?t.call(s,i,s):"string"!==typeof t||Pm(t)?t:r.find(t).clone(),[a]=this._makeDomArray(o,i<n);if(!a||!qp(a))continue;let l=a,u=0;for(;u<l.children.length;){const e=l.children[u];Mp(e)?(l=e,u=0):u++}e(s,l,[a])}return this}}const fb=mb(((e,t,n)=>{const{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);ob([e],t),ub(i,s,0,n,r)})),gb=mb(((e,t,n)=>{qp(e)&&(ob(e.children,t),ob(n,e))}));function bb(e){return this.parent(e).not("body").each(((e,t)=>{this._make(t).replaceWith(t.children)})),this}function yb(e){const t=this[0];if(t){const n=this._make("function"===typeof e?e.call(t,0,t):e).insertBefore(t);let r;for(let e=0;e<n.length;e++)"tag"===n[e].type&&(r=n[e]);let i=0;for(;r&&i<r.children.length;){const e=r.children[i];"tag"===e.type?(r=e,i=0):i++}r&&this._make(r).append(this)}return this}function vb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this.length-1;return Om(this,((e,n)=>{const{parent:i}=e;if(!qp(e)||!i)return;const s=i.children,o=s.indexOf(e);if(o<0)return;const a="function"===typeof t[0]?t[0].call(e,n,this._render(e.children)):t;ub(s,o+1,0,this._makeDomArray(a,n<r),i)}))}function _b(e){"string"===typeof e&&(e=this._make(e)),this.remove();const t=[];return this._makeDomArray(e).forEach((e=>{const n=this.clone().toArray(),{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);s<0||(ub(i,s+1,0,n,r),t.push(...n))})),this._make(t)}function Eb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this.length-1;return Om(this,((e,n)=>{const{parent:i}=e;if(!qp(e)||!i)return;const s=i.children,o=s.indexOf(e);if(o<0)return;const a="function"===typeof t[0]?t[0].call(e,n,this._render(e.children)):t;ub(s,o,0,this._makeDomArray(a,n<r),i)}))}function Tb(e){const t=this._make(e);this.remove();const n=[];return Om(t,(e=>{const t=this.clone().toArray(),{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);s<0||(ub(i,s,0,t,r),n.push(...t))})),this._make(n)}function xb(e){return Om(e?this.filter(e):this,(e=>{qd(e),e.prev=e.next=e.parent=null})),this}function wb(e){return Om(this,((t,n)=>{const{parent:r}=t;if(!r)return;const i=r.children,s="function"===typeof e?e.call(t,n,t):e,o=this._makeDomArray(s);ob(o,null);const a=i.indexOf(t);ub(i,a,1,o,r),o.includes(t)||(t.parent=t.prev=t.next=null)}))}function Ab(){return Om(this,(e=>{qp(e)&&(e.children.forEach((e=>{e.next=e.prev=e.parent=null})),e.children.length=0)}))}function Sb(e){if(void 0===e){const e=this[0];return e&&qp(e)?this._render(e.children):null}return Om(this,(t=>{if(!qp(t))return;t.children.forEach((e=>{e.next=e.prev=e.parent=null}));ob(Nm(e)?e.toArray():this._parse("".concat(e),this.options,!1,t).children,t)}))}function kb(){return this._render(this)}function Cb(e){return void 0===e?wm(this):Om(this,"function"===typeof e?(t,n)=>this._make(t).text(e.call(t,n,wm([t]))):t=>{if(!qp(t))return;t.children.forEach((e=>{e.next=e.prev=e.parent=null}));ob(new Ip("".concat(e)),t)})}function Ib(){return this._make(Rm(this.get()))}function Nb(e,t){return null!=e&&null!=t||"object"===typeof e&&!Array.isArray(e)?Om(this,((n,r)=>{Mp(n)&&Ob(n,e,t,r)})):0!==this.length?Rb(this[0],e):void 0}function Ob(e,t,n,r){if("string"===typeof t){const s=Rb(e),o="function"===typeof n?n.call(e,r,s[t]):n;""===o?delete s[t]:null!=o&&(s[t]=o),e.attribs.style=(i=s,Object.keys(i).reduce(((e,t)=>"".concat(e).concat(e?" ":"").concat(t,": ").concat(i[t],";")),""))}else"object"===typeof t&&Object.keys(t).forEach(((n,r)=>{Ob(e,n,t[n],r)}));var i}function Rb(e,t){if(!e||!Mp(e))return;const n=function(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const e=r.indexOf(":");if(e<1||e===r.length-1){const e=r.trimEnd();e.length>0&&void 0!==n&&(t[n]+=";".concat(e))}else n=r.slice(0,e).trim(),t[n]=r.slice(e+1).trim()}return t}(e.attribs.style);if("string"===typeof t)return n[t];if(Array.isArray(t)){const e={};return t.forEach((t=>{null!=n[t]&&(e[t]=n[t])})),e}return n}const Db="input,select,textarea,keygen",Pb=/%20/g,Lb=/\r?\n/g;function Mb(){const e=this.serializeArray().map((e=>"".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(e.value))));return e.join("&").replace(Pb,"+")}function Fb(){return this.map(((e,t)=>{const n=this._make(t);return Mp(t)&&"form"===t.name?n.find(Db).toArray():n.filter(Db).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(((e,t)=>{var n;const r=this._make(t),i=r.attr("name"),s=null!==(n=r.val())&&void 0!==n?n:"";return Array.isArray(s)?s.map((e=>({name:i,value:e.replace(Lb,"\r\n")}))):{name:i,value:s.replace(Lb,"\r\n")}})).toArray()}class jb{constructor(e,t,n){if(this.length=0,this.options=n,this._root=t,e){for(let t=0;t<e.length;t++)this[t]=e[t];this.length=e.length}}}jb.prototype.cheerio="[cheerio object]",jb.prototype.splice=Array.prototype.splice,jb.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(jb.prototype,x,w,A,S,k);const Bb=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ub="\ufffd";var Hb;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(Hb=Hb||(Hb={}));const qb="--",zb="[CDATA[",Vb="doctype",Gb="script",Kb="public",Wb="system";function Xb(e){return e>=55296&&e<=57343}function Yb(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function Qb(e){return e>=64976&&e<=65007||Bb.has(e)}var $b;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}($b=$b||($b={}));class Jb{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:n,offset:r}=this;return{code:e,startLine:t,endLine:t,startCol:n,endCol:n,startOffset:r,endOffset:r}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Hb.EOF;return this._err($b.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++){if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Hb.EOF;const n=this.html.charCodeAt(t);return n===Hb.CARRIAGE_RETURN?Hb.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Hb.EOF;let e=this.html.charCodeAt(this.pos);if(e===Hb.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Hb.LINE_FEED;if(e===Hb.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,Xb(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===Hb.LINE_FEED||e===Hb.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){Yb(e)?this._err($b.controlCharacterInInputStream):Qb(e)&&this._err($b.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Zb,ey,ty,ny,ry,iy;function sy(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(Zb=Zb||(Zb={})),function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(ey=ey||(ey={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(ty=ty||(ty={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(ny=ny||(ny={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(ry=ry||(ry={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"}(iy=iy||(iy={}));const oy=new Map([[ry.A,iy.A],[ry.ADDRESS,iy.ADDRESS],[ry.ANNOTATION_XML,iy.ANNOTATION_XML],[ry.APPLET,iy.APPLET],[ry.AREA,iy.AREA],[ry.ARTICLE,iy.ARTICLE],[ry.ASIDE,iy.ASIDE],[ry.B,iy.B],[ry.BASE,iy.BASE],[ry.BASEFONT,iy.BASEFONT],[ry.BGSOUND,iy.BGSOUND],[ry.BIG,iy.BIG],[ry.BLOCKQUOTE,iy.BLOCKQUOTE],[ry.BODY,iy.BODY],[ry.BR,iy.BR],[ry.BUTTON,iy.BUTTON],[ry.CAPTION,iy.CAPTION],[ry.CENTER,iy.CENTER],[ry.CODE,iy.CODE],[ry.COL,iy.COL],[ry.COLGROUP,iy.COLGROUP],[ry.DD,iy.DD],[ry.DESC,iy.DESC],[ry.DETAILS,iy.DETAILS],[ry.DIALOG,iy.DIALOG],[ry.DIR,iy.DIR],[ry.DIV,iy.DIV],[ry.DL,iy.DL],[ry.DT,iy.DT],[ry.EM,iy.EM],[ry.EMBED,iy.EMBED],[ry.FIELDSET,iy.FIELDSET],[ry.FIGCAPTION,iy.FIGCAPTION],[ry.FIGURE,iy.FIGURE],[ry.FONT,iy.FONT],[ry.FOOTER,iy.FOOTER],[ry.FOREIGN_OBJECT,iy.FOREIGN_OBJECT],[ry.FORM,iy.FORM],[ry.FRAME,iy.FRAME],[ry.FRAMESET,iy.FRAMESET],[ry.H1,iy.H1],[ry.H2,iy.H2],[ry.H3,iy.H3],[ry.H4,iy.H4],[ry.H5,iy.H5],[ry.H6,iy.H6],[ry.HEAD,iy.HEAD],[ry.HEADER,iy.HEADER],[ry.HGROUP,iy.HGROUP],[ry.HR,iy.HR],[ry.HTML,iy.HTML],[ry.I,iy.I],[ry.IMG,iy.IMG],[ry.IMAGE,iy.IMAGE],[ry.INPUT,iy.INPUT],[ry.IFRAME,iy.IFRAME],[ry.KEYGEN,iy.KEYGEN],[ry.LABEL,iy.LABEL],[ry.LI,iy.LI],[ry.LINK,iy.LINK],[ry.LISTING,iy.LISTING],[ry.MAIN,iy.MAIN],[ry.MALIGNMARK,iy.MALIGNMARK],[ry.MARQUEE,iy.MARQUEE],[ry.MATH,iy.MATH],[ry.MENU,iy.MENU],[ry.META,iy.META],[ry.MGLYPH,iy.MGLYPH],[ry.MI,iy.MI],[ry.MO,iy.MO],[ry.MN,iy.MN],[ry.MS,iy.MS],[ry.MTEXT,iy.MTEXT],[ry.NAV,iy.NAV],[ry.NOBR,iy.NOBR],[ry.NOFRAMES,iy.NOFRAMES],[ry.NOEMBED,iy.NOEMBED],[ry.NOSCRIPT,iy.NOSCRIPT],[ry.OBJECT,iy.OBJECT],[ry.OL,iy.OL],[ry.OPTGROUP,iy.OPTGROUP],[ry.OPTION,iy.OPTION],[ry.P,iy.P],[ry.PARAM,iy.PARAM],[ry.PLAINTEXT,iy.PLAINTEXT],[ry.PRE,iy.PRE],[ry.RB,iy.RB],[ry.RP,iy.RP],[ry.RT,iy.RT],[ry.RTC,iy.RTC],[ry.RUBY,iy.RUBY],[ry.S,iy.S],[ry.SCRIPT,iy.SCRIPT],[ry.SECTION,iy.SECTION],[ry.SELECT,iy.SELECT],[ry.SOURCE,iy.SOURCE],[ry.SMALL,iy.SMALL],[ry.SPAN,iy.SPAN],[ry.STRIKE,iy.STRIKE],[ry.STRONG,iy.STRONG],[ry.STYLE,iy.STYLE],[ry.SUB,iy.SUB],[ry.SUMMARY,iy.SUMMARY],[ry.SUP,iy.SUP],[ry.TABLE,iy.TABLE],[ry.TBODY,iy.TBODY],[ry.TEMPLATE,iy.TEMPLATE],[ry.TEXTAREA,iy.TEXTAREA],[ry.TFOOT,iy.TFOOT],[ry.TD,iy.TD],[ry.TH,iy.TH],[ry.THEAD,iy.THEAD],[ry.TITLE,iy.TITLE],[ry.TR,iy.TR],[ry.TRACK,iy.TRACK],[ry.TT,iy.TT],[ry.U,iy.U],[ry.UL,iy.UL],[ry.SVG,iy.SVG],[ry.VAR,iy.VAR],[ry.WBR,iy.WBR],[ry.XMP,iy.XMP]]);function ay(e){var t;return null!==(t=oy.get(e))&&void 0!==t?t:iy.UNKNOWN}const ly=iy,uy={[ey.HTML]:new Set([ly.ADDRESS,ly.APPLET,ly.AREA,ly.ARTICLE,ly.ASIDE,ly.BASE,ly.BASEFONT,ly.BGSOUND,ly.BLOCKQUOTE,ly.BODY,ly.BR,ly.BUTTON,ly.CAPTION,ly.CENTER,ly.COL,ly.COLGROUP,ly.DD,ly.DETAILS,ly.DIR,ly.DIV,ly.DL,ly.DT,ly.EMBED,ly.FIELDSET,ly.FIGCAPTION,ly.FIGURE,ly.FOOTER,ly.FORM,ly.FRAME,ly.FRAMESET,ly.H1,ly.H2,ly.H3,ly.H4,ly.H5,ly.H6,ly.HEAD,ly.HEADER,ly.HGROUP,ly.HR,ly.HTML,ly.IFRAME,ly.IMG,ly.INPUT,ly.LI,ly.LINK,ly.LISTING,ly.MAIN,ly.MARQUEE,ly.MENU,ly.META,ly.NAV,ly.NOEMBED,ly.NOFRAMES,ly.NOSCRIPT,ly.OBJECT,ly.OL,ly.P,ly.PARAM,ly.PLAINTEXT,ly.PRE,ly.SCRIPT,ly.SECTION,ly.SELECT,ly.SOURCE,ly.STYLE,ly.SUMMARY,ly.TABLE,ly.TBODY,ly.TD,ly.TEMPLATE,ly.TEXTAREA,ly.TFOOT,ly.TH,ly.THEAD,ly.TITLE,ly.TR,ly.TRACK,ly.UL,ly.WBR,ly.XMP]),[ey.MATHML]:new Set([ly.MI,ly.MO,ly.MN,ly.MS,ly.MTEXT,ly.ANNOTATION_XML]),[ey.SVG]:new Set([ly.TITLE,ly.FOREIGN_OBJECT,ly.DESC]),[ey.XLINK]:new Set,[ey.XML]:new Set,[ey.XMLNS]:new Set};function cy(e){return e===ly.H1||e===ly.H2||e===ly.H3||e===ly.H4||e===ly.H5||e===ly.H6}const hy=new Set([ry.STYLE,ry.SCRIPT,ry.XMP,ry.IFRAME,ry.NOEMBED,ry.NOFRAMES,ry.PLAINTEXT]);const py=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var dy;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"}(dy||(dy={}));const my={DATA:dy.DATA,RCDATA:dy.RCDATA,RAWTEXT:dy.RAWTEXT,SCRIPT_DATA:dy.SCRIPT_DATA,PLAINTEXT:dy.PLAINTEXT,CDATA_SECTION:dy.CDATA_SECTION};function fy(e){return e>=Hb.DIGIT_0&&e<=Hb.DIGIT_9}function gy(e){return e>=Hb.LATIN_CAPITAL_A&&e<=Hb.LATIN_CAPITAL_Z}function by(e){return function(e){return e>=Hb.LATIN_SMALL_A&&e<=Hb.LATIN_SMALL_Z}(e)||gy(e)}function yy(e){return by(e)||fy(e)}function vy(e){return e>=Hb.LATIN_CAPITAL_A&&e<=Hb.LATIN_CAPITAL_F}function _y(e){return e>=Hb.LATIN_SMALL_A&&e<=Hb.LATIN_SMALL_F}function Ey(e){return e+32}function Ty(e){return e===Hb.SPACE||e===Hb.LINE_FEED||e===Hb.TABULATION||e===Hb.FORM_FEED}function xy(e){return Ty(e)||e===Hb.SOLIDUS||e===Hb.GREATER_THAN_SIGN}class wy{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=dy.DATA,this.returnState=dy.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Jb(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,n;null===(n=(t=this.handler).onParseError)||void 0===n||n.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null===e||void 0===e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null===n||void 0===n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:Zb.START_TAG,tagName:"",tagID:iy.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Zb.END_TAG,tagName:"",tagID:iy.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Zb.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Zb.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;if(null===sy(n,this.currentAttr.name)){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){(null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err($b.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ay(e.tagName),e.type===Zb.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err($b.endTagWithAttributes),e.selfClosing&&this._err($b.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Zb.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case Zb.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case Zb.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Zb.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=Ty(e)?Zb.WHITESPACE_CHARACTER:e===Hb.NULL?Zb.NULL_CHARACTER:Zb.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Zb.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,n=0,r=!1;for(let s=0,o=Wp[0];s>=0&&(s=ld(Wp,o,s+1,e),!(s<0));e=this._consume()){n+=1,o=Wp[s];const a=o&ed.VALUE_LENGTH;if(a){const o=(a>>14)-1;if(e!==Hb.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((i=this.preprocessor.peek(1))===Hb.EQUALS_SIGN||yy(i))?(t=[Hb.AMPERSAND],s+=o):(t=0===o?[Wp[s]&~ed.VALUE_LENGTH]:1===o?[Wp[++s]]:[Wp[++s],Wp[++s]],n=0,r=e!==Hb.SEMICOLON),0===o){this._consume();break}}}var i;return this._unconsume(n),r&&!this.preprocessor.endOfChunkHit&&this._err($b.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===dy.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===dy.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===dy.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case dy.DATA:this._stateData(e);break;case dy.RCDATA:this._stateRcdata(e);break;case dy.RAWTEXT:this._stateRawtext(e);break;case dy.SCRIPT_DATA:this._stateScriptData(e);break;case dy.PLAINTEXT:this._statePlaintext(e);break;case dy.TAG_OPEN:this._stateTagOpen(e);break;case dy.END_TAG_OPEN:this._stateEndTagOpen(e);break;case dy.TAG_NAME:this._stateTagName(e);break;case dy.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case dy.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case dy.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case dy.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case dy.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case dy.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case dy.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case dy.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case dy.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case dy.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case dy.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case dy.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case dy.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case dy.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case dy.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case dy.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case dy.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case dy.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case dy.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case dy.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case dy.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case dy.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case dy.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case dy.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case dy.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case dy.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case dy.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case dy.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case dy.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case dy.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case dy.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case dy.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case dy.BOGUS_COMMENT:this._stateBogusComment(e);break;case dy.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case dy.COMMENT_START:this._stateCommentStart(e);break;case dy.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case dy.COMMENT:this._stateComment(e);break;case dy.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case dy.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case dy.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case dy.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case dy.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case dy.COMMENT_END:this._stateCommentEnd(e);break;case dy.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case dy.DOCTYPE:this._stateDoctype(e);break;case dy.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case dy.DOCTYPE_NAME:this._stateDoctypeName(e);break;case dy.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case dy.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case dy.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case dy.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case dy.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case dy.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case dy.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case dy.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case dy.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case dy.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case dy.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case dy.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case dy.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case dy.CDATA_SECTION:this._stateCdataSection(e);break;case dy.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case dy.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case dy.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case dy.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case dy.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case dy.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case dy.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case dy.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case dy.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case dy.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Hb.LESS_THAN_SIGN:this.state=dy.TAG_OPEN;break;case Hb.AMPERSAND:this.returnState=dy.DATA,this.state=dy.CHARACTER_REFERENCE;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitCodePoint(e);break;case Hb.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Hb.AMPERSAND:this.returnState=dy.RCDATA,this.state=dy.CHARACTER_REFERENCE;break;case Hb.LESS_THAN_SIGN:this.state=dy.RCDATA_LESS_THAN_SIGN;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitChars(Ub);break;case Hb.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Hb.LESS_THAN_SIGN:this.state=dy.RAWTEXT_LESS_THAN_SIGN;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitChars(Ub);break;case Hb.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_LESS_THAN_SIGN;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitChars(Ub);break;case Hb.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitChars(Ub);break;case Hb.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(by(e))this._createStartTagToken(),this.state=dy.TAG_NAME,this._stateTagName(e);else switch(e){case Hb.EXCLAMATION_MARK:this.state=dy.MARKUP_DECLARATION_OPEN;break;case Hb.SOLIDUS:this.state=dy.END_TAG_OPEN;break;case Hb.QUESTION_MARK:this._err($b.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=dy.BOGUS_COMMENT,this._stateBogusComment(e);break;case Hb.EOF:this._err($b.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err($b.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=dy.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(by(e))this._createEndTagToken(),this.state=dy.TAG_NAME,this._stateTagName(e);else switch(e){case Hb.GREATER_THAN_SIGN:this._err($b.missingEndTagName),this.state=dy.DATA;break;case Hb.EOF:this._err($b.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err($b.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=dy.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this.state=dy.BEFORE_ATTRIBUTE_NAME;break;case Hb.SOLIDUS:this.state=dy.SELF_CLOSING_START_TAG;break;case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentTagToken();break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.tagName+=Ub;break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(gy(e)?Ey(e):e)}}_stateRcdataLessThanSign(e){e===Hb.SOLIDUS?this.state=dy.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=dy.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){by(e)?(this.state=dy.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=dy.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=dy.BEFORE_ATTRIBUTE_NAME,!1;case Hb.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=dy.SELF_CLOSING_START_TAG,!1;case Hb.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=dy.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dy.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Hb.SOLIDUS?this.state=dy.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=dy.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){by(e)?(this.state=dy.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=dy.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dy.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Hb.SOLIDUS:this.state=dy.SCRIPT_DATA_END_TAG_OPEN;break;case Hb.EXCLAMATION_MARK:this.state=dy.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=dy.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){by(e)?(this.state=dy.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=dy.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dy.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Hb.HYPHEN_MINUS?(this.state=dy.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=dy.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Hb.HYPHEN_MINUS?(this.state=dy.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=dy.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Hb.HYPHEN_MINUS:this.state=dy.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitChars(Ub);break;case Hb.EOF:this._err($b.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Hb.HYPHEN_MINUS:this.state=dy.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.state=dy.SCRIPT_DATA_ESCAPED,this._emitChars(Ub);break;case Hb.EOF:this._err($b.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dy.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Hb.HYPHEN_MINUS:this._emitChars("-");break;case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Hb.GREATER_THAN_SIGN:this.state=dy.SCRIPT_DATA,this._emitChars(">");break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.state=dy.SCRIPT_DATA_ESCAPED,this._emitChars(Ub);break;case Hb.EOF:this._err($b.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dy.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Hb.SOLIDUS?this.state=dy.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:by(e)?(this._emitChars("<"),this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=dy.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){by(e)?(this.state=dy.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=dy.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dy.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Gb,!1)&&xy(this.preprocessor.peek(Gb.length))){this._emitCodePoint(e);for(let e=0;e<Gb.length;e++)this._emitCodePoint(this._consume());this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=dy.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Hb.HYPHEN_MINUS:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._emitChars(Ub);break;case Hb.EOF:this._err($b.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Hb.HYPHEN_MINUS:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ub);break;case Hb.EOF:this._err($b.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Hb.HYPHEN_MINUS:this._emitChars("-");break;case Hb.LESS_THAN_SIGN:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Hb.GREATER_THAN_SIGN:this.state=dy.SCRIPT_DATA,this._emitChars(">");break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ub);break;case Hb.EOF:this._err($b.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Hb.SOLIDUS?(this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Gb,!1)&&xy(this.preprocessor.peek(Gb.length))){this._emitCodePoint(e);for(let e=0;e<Gb.length;e++)this._emitCodePoint(this._consume());this.state=dy.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=dy.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.SOLIDUS:case Hb.GREATER_THAN_SIGN:case Hb.EOF:this.state=dy.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Hb.EQUALS_SIGN:this._err($b.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=dy.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=dy.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:case Hb.SOLIDUS:case Hb.GREATER_THAN_SIGN:case Hb.EOF:this._leaveAttrName(),this.state=dy.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Hb.EQUALS_SIGN:this._leaveAttrName(),this.state=dy.BEFORE_ATTRIBUTE_VALUE;break;case Hb.QUOTATION_MARK:case Hb.APOSTROPHE:case Hb.LESS_THAN_SIGN:this._err($b.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.currentAttr.name+=Ub;break;default:this.currentAttr.name+=String.fromCodePoint(gy(e)?Ey(e):e)}}_stateAfterAttributeName(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.SOLIDUS:this.state=dy.SELF_CLOSING_START_TAG;break;case Hb.EQUALS_SIGN:this.state=dy.BEFORE_ATTRIBUTE_VALUE;break;case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentTagToken();break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=dy.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.QUOTATION_MARK:this.state=dy.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:this.state=dy.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Hb.GREATER_THAN_SIGN:this._err($b.missingAttributeValue),this.state=dy.DATA,this.emitCurrentTagToken();break;default:this.state=dy.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Hb.QUOTATION_MARK:this.state=dy.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Hb.AMPERSAND:this.returnState=dy.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=dy.CHARACTER_REFERENCE;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.currentAttr.value+=Ub;break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Hb.APOSTROPHE:this.state=dy.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Hb.AMPERSAND:this.returnState=dy.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=dy.CHARACTER_REFERENCE;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.currentAttr.value+=Ub;break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this._leaveAttrValue(),this.state=dy.BEFORE_ATTRIBUTE_NAME;break;case Hb.AMPERSAND:this.returnState=dy.ATTRIBUTE_VALUE_UNQUOTED,this.state=dy.CHARACTER_REFERENCE;break;case Hb.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=dy.DATA,this.emitCurrentTagToken();break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this.currentAttr.value+=Ub;break;case Hb.QUOTATION_MARK:case Hb.APOSTROPHE:case Hb.LESS_THAN_SIGN:case Hb.EQUALS_SIGN:case Hb.GRAVE_ACCENT:this._err($b.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this._leaveAttrValue(),this.state=dy.BEFORE_ATTRIBUTE_NAME;break;case Hb.SOLIDUS:this._leaveAttrValue(),this.state=dy.SELF_CLOSING_START_TAG;break;case Hb.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=dy.DATA,this.emitCurrentTagToken();break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:this._err($b.missingWhitespaceBetweenAttributes),this.state=dy.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Hb.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=dy.DATA,this.emitCurrentTagToken();break;case Hb.EOF:this._err($b.eofInTag),this._emitEOFToken();break;default:this._err($b.unexpectedSolidusInTag),this.state=dy.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentComment(t);break;case Hb.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.data+=Ub;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(qb,!0)?(this._createCommentToken(qb.length+1),this.state=dy.COMMENT_START):this._consumeSequenceIfMatch(Vb,!1)?(this.currentLocation=this.getCurrentLocation(Vb.length+1),this.state=dy.DOCTYPE):this._consumeSequenceIfMatch(zb,!0)?this.inForeignNode?this.state=dy.CDATA_SECTION:(this._err($b.cdataInHtmlContent),this._createCommentToken(zb.length+1),this.currentToken.data="[CDATA[",this.state=dy.BOGUS_COMMENT):this._ensureHibernation()||(this._err($b.incorrectlyOpenedComment),this._createCommentToken(2),this.state=dy.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Hb.HYPHEN_MINUS:this.state=dy.COMMENT_START_DASH;break;case Hb.GREATER_THAN_SIGN:{this._err($b.abruptClosingOfEmptyComment),this.state=dy.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=dy.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case Hb.HYPHEN_MINUS:this.state=dy.COMMENT_END;break;case Hb.GREATER_THAN_SIGN:this._err($b.abruptClosingOfEmptyComment),this.state=dy.DATA,this.emitCurrentComment(t);break;case Hb.EOF:this._err($b.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=dy.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case Hb.HYPHEN_MINUS:this.state=dy.COMMENT_END_DASH;break;case Hb.LESS_THAN_SIGN:t.data+="<",this.state=dy.COMMENT_LESS_THAN_SIGN;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.data+=Ub;break;case Hb.EOF:this._err($b.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case Hb.EXCLAMATION_MARK:t.data+="!",this.state=dy.COMMENT_LESS_THAN_SIGN_BANG;break;case Hb.LESS_THAN_SIGN:t.data+="<";break;default:this.state=dy.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Hb.HYPHEN_MINUS?this.state=dy.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=dy.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Hb.HYPHEN_MINUS?this.state=dy.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=dy.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Hb.GREATER_THAN_SIGN&&e!==Hb.EOF&&this._err($b.nestedComment),this.state=dy.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case Hb.HYPHEN_MINUS:this.state=dy.COMMENT_END;break;case Hb.EOF:this._err($b.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=dy.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentComment(t);break;case Hb.EXCLAMATION_MARK:this.state=dy.COMMENT_END_BANG;break;case Hb.HYPHEN_MINUS:t.data+="-";break;case Hb.EOF:this._err($b.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=dy.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case Hb.HYPHEN_MINUS:t.data+="--!",this.state=dy.COMMENT_END_DASH;break;case Hb.GREATER_THAN_SIGN:this._err($b.incorrectlyClosedComment),this.state=dy.DATA,this.emitCurrentComment(t);break;case Hb.EOF:this._err($b.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=dy.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this.state=dy.BEFORE_DOCTYPE_NAME;break;case Hb.GREATER_THAN_SIGN:this.state=dy.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case Hb.EOF:{this._err($b.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err($b.missingWhitespaceBeforeDoctypeName),this.state=dy.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(gy(e))this._createDoctypeToken(String.fromCharCode(Ey(e))),this.state=dy.DOCTYPE_NAME;else switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.NULL:this._err($b.unexpectedNullCharacter),this._createDoctypeToken(Ub),this.state=dy.DOCTYPE_NAME;break;case Hb.GREATER_THAN_SIGN:{this._err($b.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=dy.DATA;break}case Hb.EOF:{this._err($b.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=dy.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this.state=dy.AFTER_DOCTYPE_NAME;break;case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.name+=Ub;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(gy(e)?Ey(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Kb,!1)?this.state=dy.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Wb,!1)?this.state=dy.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($b.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this.state=dy.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Hb.QUOTATION_MARK:this._err($b.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=dy.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:this._err($b.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=dy.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Hb.GREATER_THAN_SIGN:this._err($b.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.QUOTATION_MARK:t.publicId="",this.state=dy.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:t.publicId="",this.state=dy.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Hb.GREATER_THAN_SIGN:this._err($b.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Hb.QUOTATION_MARK:this.state=dy.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.publicId+=Ub;break;case Hb.GREATER_THAN_SIGN:this._err($b.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Hb.APOSTROPHE:this.state=dy.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.publicId+=Ub;break;case Hb.GREATER_THAN_SIGN:this._err($b.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this.state=dy.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Hb.GREATER_THAN_SIGN:this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.QUOTATION_MARK:this._err($b.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:this._err($b.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.QUOTATION_MARK:t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:this.state=dy.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Hb.QUOTATION_MARK:this._err($b.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:this._err($b.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hb.GREATER_THAN_SIGN:this._err($b.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.QUOTATION_MARK:t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hb.APOSTROPHE:t.systemId="",this.state=dy.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hb.GREATER_THAN_SIGN:this._err($b.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dy.DATA,this.emitCurrentDoctype(t);break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Hb.QUOTATION_MARK:this.state=dy.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.systemId+=Ub;break;case Hb.GREATER_THAN_SIGN:this._err($b.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Hb.APOSTROPHE:this.state=dy.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Hb.NULL:this._err($b.unexpectedNullCharacter),t.systemId+=Ub;break;case Hb.GREATER_THAN_SIGN:this._err($b.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Hb.SPACE:case Hb.LINE_FEED:case Hb.TABULATION:case Hb.FORM_FEED:break;case Hb.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.EOF:this._err($b.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($b.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=dy.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case Hb.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=dy.DATA;break;case Hb.NULL:this._err($b.unexpectedNullCharacter);break;case Hb.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case Hb.RIGHT_SQUARE_BRACKET:this.state=dy.CDATA_SECTION_BRACKET;break;case Hb.EOF:this._err($b.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Hb.RIGHT_SQUARE_BRACKET?this.state=dy.CDATA_SECTION_END:(this._emitChars("]"),this.state=dy.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Hb.GREATER_THAN_SIGN:this.state=dy.DATA;break;case Hb.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=dy.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===Hb.NUMBER_SIGN?this.state=dy.NUMERIC_CHARACTER_REFERENCE:yy(e)?(this.state=dy.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(Hb.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Hb.AMPERSAND),this.state=dy.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){yy(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Hb.SEMICOLON&&this._err($b.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===Hb.LATIN_SMALL_X||e===Hb.LATIN_CAPITAL_X?this.state=dy.HEXADEMICAL_CHARACTER_REFERENCE_START:fy(e)?(this.state=dy.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err($b.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Hb.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Hb.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){!function(e){return fy(e)||vy(e)||_y(e)}(e)?(this._err($b.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Hb.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Hb.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=dy.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}_stateHexademicalCharacterReference(e){vy(e)?this.charRefCode=16*this.charRefCode+e-55:_y(e)?this.charRefCode=16*this.charRefCode+e-87:fy(e)?this.charRefCode=16*this.charRefCode+e-48:e===Hb.SEMICOLON?this.state=dy.NUMERIC_CHARACTER_REFERENCE_END:(this._err($b.missingSemicolonAfterCharacterReference),this.state=dy.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){fy(e)?this.charRefCode=10*this.charRefCode+e-48:e===Hb.SEMICOLON?this.state=dy.NUMERIC_CHARACTER_REFERENCE_END:(this._err($b.missingSemicolonAfterCharacterReference),this.state=dy.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===Hb.NULL)this._err($b.nullCharacterReference),this.charRefCode=Hb.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err($b.characterReferenceOutsideUnicodeRange),this.charRefCode=Hb.REPLACEMENT_CHARACTER;else if(Xb(this.charRefCode))this._err($b.surrogateCharacterReference),this.charRefCode=Hb.REPLACEMENT_CHARACTER;else if(Qb(this.charRefCode))this._err($b.noncharacterCharacterReference);else if(Yb(this.charRefCode)||this.charRefCode===Hb.CARRIAGE_RETURN){this._err($b.controlCharacterReference);const e=py.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}const Ay=new Set([iy.DD,iy.DT,iy.LI,iy.OPTGROUP,iy.OPTION,iy.P,iy.RB,iy.RP,iy.RT,iy.RTC]),Sy=new Set([...Ay,iy.CAPTION,iy.COLGROUP,iy.TBODY,iy.TD,iy.TFOOT,iy.TH,iy.THEAD,iy.TR]),ky=new Map([[iy.APPLET,ey.HTML],[iy.CAPTION,ey.HTML],[iy.HTML,ey.HTML],[iy.MARQUEE,ey.HTML],[iy.OBJECT,ey.HTML],[iy.TABLE,ey.HTML],[iy.TD,ey.HTML],[iy.TEMPLATE,ey.HTML],[iy.TH,ey.HTML],[iy.ANNOTATION_XML,ey.MATHML],[iy.MI,ey.MATHML],[iy.MN,ey.MATHML],[iy.MO,ey.MATHML],[iy.MS,ey.MATHML],[iy.MTEXT,ey.MATHML],[iy.DESC,ey.SVG],[iy.FOREIGN_OBJECT,ey.SVG],[iy.TITLE,ey.SVG]]),Cy=[iy.H1,iy.H2,iy.H3,iy.H4,iy.H5,iy.H6],Iy=[iy.TR,iy.TEMPLATE,iy.HTML],Ny=[iy.TBODY,iy.TFOOT,iy.THEAD,iy.TEMPLATE,iy.HTML],Oy=[iy.TABLE,iy.TEMPLATE,iy.HTML],Ry=[iy.TD,iy.TH];class Dy{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=iy.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===iy.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ey.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==ey.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Cy,ey.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ry,ey.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(Oy,ey.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Ny,ey.HTML)}clearBackToTableRowContext(){this.clearBackTo(Iy,ey.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===iy.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===iy.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===ey.HTML)return!0;if(ky.get(n)===r)return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],n=this.treeAdapter.getNamespaceURI(this.items[e]);if(cy(t)&&n===ey.HTML)return!0;if(ky.get(t)===n)return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===ey.HTML)return!0;if((n===iy.UL||n===iy.OL)&&r===ey.HTML||ky.get(n)===r)return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===ey.HTML)return!0;if(n===iy.BUTTON&&r===ey.HTML||ky.get(n)===r)return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===ey.HTML){if(n===e)return!0;if(n===iy.TABLE||n===iy.TEMPLATE||n===iy.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===ey.HTML){if(t===iy.TBODY||t===iy.THEAD||t===iy.TFOOT)return!0;if(t===iy.TABLE||t===iy.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===ey.HTML){if(n===e)return!0;if(n!==iy.OPTION&&n!==iy.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Ay.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Sy.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Sy.has(this.currentTagId);)this.pop()}}var Py;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(Py=Py||(Py={}));const Ly={type:Py.Marker};class My{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],r=t.length,i=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const e=this.entries[o];if(e.type===Py.Marker)break;const{element:t}=e;if(this.treeAdapter.getTagName(t)===i&&this.treeAdapter.getNamespaceURI(t)===s){const e=this.treeAdapter.getAttrList(t);e.length===r&&n.push({idx:o,attrs:e})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let i=0;for(let s=0;s<n.length;s++){const e=n[s];e.attrs.every((e=>r.get(e.name)===e.value))&&(i+=1,i>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(Ly)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:Py.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:Py.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(Ly);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===Py.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===Py.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===Py.Element&&t.element===e))}}function Fy(e){return{nodeName:"#text",value:e,parentNode:null}}const jy={createDocument:()=>({nodeName:"#document",mode:ny.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){const i=e.childNodes.find((e=>"#documentType"===e.nodeName));if(i)i.name=t,i.publicId=n,i.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};jy.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(jy.isTextNode(n))return void(n.value+=t)}jy.appendChild(e,Fy(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&jy.isTextNode(r)?r.value+=t:jy.insertBefore(e,Fy(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},By="html",Uy="about:legacy-compat",Hy="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",qy=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],zy=[...qy,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Vy=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Gy=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Ky=[...Gy,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Wy(e,t){return t.some((t=>e.startsWith(t)))}const Xy={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Yy="definitionurl",Qy="definitionURL",$y=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),Jy=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ey.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ey.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ey.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ey.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ey.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ey.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ey.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:ey.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:ey.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ey.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ey.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ey.XMLNS}]]),Zy=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),ev=new Set([iy.B,iy.BIG,iy.BLOCKQUOTE,iy.BODY,iy.BR,iy.CENTER,iy.CODE,iy.DD,iy.DIV,iy.DL,iy.DT,iy.EM,iy.EMBED,iy.H1,iy.H2,iy.H3,iy.H4,iy.H5,iy.H6,iy.HEAD,iy.HR,iy.I,iy.IMG,iy.LI,iy.LISTING,iy.MENU,iy.META,iy.NOBR,iy.OL,iy.P,iy.PRE,iy.RUBY,iy.S,iy.SMALL,iy.SPAN,iy.STRONG,iy.STRIKE,iy.SUB,iy.SUP,iy.TABLE,iy.TT,iy.U,iy.UL,iy.VAR]);function tv(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Yy){e.attrs[t].name=Qy;break}}function nv(e){for(let t=0;t<e.attrs.length;t++){const n=$y.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function rv(e){for(let t=0;t<e.attrs.length;t++){const n=Jy.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function iv(e,t,n,r){return(!r||r===ey.HTML)&&function(e,t,n){if(t===ey.MATHML&&e===iy.ANNOTATION_XML)for(let r=0;r<n.length;r++)if(n[r].name===ty.ENCODING){const e=n[r].value.toLowerCase();return e===Xy.TEXT_HTML||e===Xy.APPLICATION_XML}return t===ey.SVG&&(e===iy.FOREIGN_OBJECT||e===iy.DESC||e===iy.TITLE)}(e,t,n)||(!r||r===ey.MATHML)&&function(e,t){return t===ey.MATHML&&(e===iy.MI||e===iy.MO||e===iy.MN||e===iy.MS||e===iy.MTEXT)}(e,t)}const sv="hidden",ov=8,av=3;var lv;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(lv||(lv={}));const uv={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},cv=new Set([iy.TABLE,iy.TBODY,iy.TFOOT,iy.THEAD,iy.TR]),hv={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:jy,onParseError:null};class pv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=lv.INITIAL,this.originalInsertionMode=lv.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...hv,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!==t&&void 0!==t?t:this.treeAdapter.createDocument(),this.tokenizer=new wy(this.options,this),this.activeFormattingElements=new My(this.treeAdapter),this.fragmentContextID=n?ay(this.treeAdapter.getTagName(n)):iy.UNKNOWN,this._setContextModes(null!==n&&void 0!==n?n:this.document,this.fragmentContextID),this.openElements=new Dy(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...hv,...t};null!==e&&void 0!==e||(e=n.treeAdapter.createElement(ry.TEMPLATE,ey.HTML,[]));const r=n.treeAdapter.createElement("documentmock",ey.HTML,[]),i=new this(n,r,e);return i.fragmentContextID===iy.TEMPLATE&&i.tmplInsertionModeStack.unshift(lv.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;const i=null!==(r=e.location)&&void 0!==r?r:uv,s={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(e,t,n){var r,i;null===(i=(r=this.treeAdapter).onItemPush)||void 0===i||i.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===ey.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,ey.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=lv.TEXT}switchToPlaintextParsing(){this.insertionMode=lv.TEXT,this.originalInsertionMode=lv.IN_BODY,this.tokenizer.state=my.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ry.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===ey.HTML)switch(this.fragmentContextID){case iy.TITLE:case iy.TEXTAREA:this.tokenizer.state=my.RCDATA;break;case iy.STYLE:case iy.XMP:case iy.IFRAME:case iy.NOEMBED:case iy.NOFRAMES:case iy.NOSCRIPT:this.tokenizer.state=my.RAWTEXT;break;case iy.SCRIPT:this.tokenizer.state=my.SCRIPT_DATA;break;case iy.PLAINTEXT:this.tokenizer.state=my.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,ey.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,ey.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ry.HTML,ey.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,iy.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),i=n?r.lastIndexOf(n):r.length,s=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),i=t.type===Zb.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==iy.SVG||this.treeAdapter.getTagName(t)!==ry.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==ey.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===iy.MGLYPH||e.tagID===iy.MALIGNMARK)&&!this._isIntegrationPoint(n,t,ey.HTML))}_processToken(e){switch(e.type){case Zb.CHARACTER:this.onCharacter(e);break;case Zb.NULL_CHARACTER:this.onNullCharacter(e);break;case Zb.COMMENT:this.onComment(e);break;case Zb.DOCTYPE:this.onDoctype(e);break;case Zb.START_TAG:this._processStartTag(e);break;case Zb.END_TAG:this.onEndTag(e);break;case Zb.EOF:this.onEof(e);break;case Zb.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return iv(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===Py.Marker||this.openElements.contains(e.element)));for(let n=t<0?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=lv.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(iy.P),this.openElements.popUntilTagNamePopped(iy.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case iy.TR:return void(this.insertionMode=lv.IN_ROW);case iy.TBODY:case iy.THEAD:case iy.TFOOT:return void(this.insertionMode=lv.IN_TABLE_BODY);case iy.CAPTION:return void(this.insertionMode=lv.IN_CAPTION);case iy.COLGROUP:return void(this.insertionMode=lv.IN_COLUMN_GROUP);case iy.TABLE:return void(this.insertionMode=lv.IN_TABLE);case iy.BODY:return void(this.insertionMode=lv.IN_BODY);case iy.FRAMESET:return void(this.insertionMode=lv.IN_FRAMESET);case iy.SELECT:return void this._resetInsertionModeForSelect(e);case iy.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case iy.HTML:return void(this.insertionMode=this.headElement?lv.AFTER_HEAD:lv.BEFORE_HEAD);case iy.TD:case iy.TH:if(e>0)return void(this.insertionMode=lv.IN_CELL);break;case iy.HEAD:if(e>0)return void(this.insertionMode=lv.IN_HEAD)}this.insertionMode=lv.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===iy.TEMPLATE)break;if(e===iy.TABLE)return void(this.insertionMode=lv.IN_SELECT_IN_TABLE)}this.insertionMode=lv.IN_SELECT}_isElementCausesFosterParenting(e){return cv.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case iy.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===ey.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case iy.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return uy[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case lv.INITIAL:Tv(this,e);break;case lv.BEFORE_HTML:xv(this,e);break;case lv.BEFORE_HEAD:wv(this,e);break;case lv.IN_HEAD:kv(this,e);break;case lv.IN_HEAD_NO_SCRIPT:Cv(this,e);break;case lv.AFTER_HEAD:Iv(this,e);break;case lv.IN_BODY:case lv.IN_CAPTION:case lv.IN_CELL:case lv.IN_TEMPLATE:Rv(this,e);break;case lv.TEXT:case lv.IN_SELECT:case lv.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case lv.IN_TABLE:case lv.IN_TABLE_BODY:case lv.IN_ROW:Hv(this,e);break;case lv.IN_TABLE_TEXT:Kv(this,e);break;case lv.IN_COLUMN_GROUP:Qv(this,e);break;case lv.AFTER_BODY:s_(this,e);break;case lv.AFTER_AFTER_BODY:o_(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=Ub,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case lv.INITIAL:Tv(this,e);break;case lv.BEFORE_HTML:xv(this,e);break;case lv.BEFORE_HEAD:wv(this,e);break;case lv.IN_HEAD:kv(this,e);break;case lv.IN_HEAD_NO_SCRIPT:Cv(this,e);break;case lv.AFTER_HEAD:Iv(this,e);break;case lv.TEXT:this._insertCharacters(e);break;case lv.IN_TABLE:case lv.IN_TABLE_BODY:case lv.IN_ROW:Hv(this,e);break;case lv.IN_COLUMN_GROUP:Qv(this,e);break;case lv.AFTER_BODY:s_(this,e);break;case lv.AFTER_AFTER_BODY:o_(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)_v(this,e);else switch(this.insertionMode){case lv.INITIAL:case lv.BEFORE_HTML:case lv.BEFORE_HEAD:case lv.IN_HEAD:case lv.IN_HEAD_NO_SCRIPT:case lv.AFTER_HEAD:case lv.IN_BODY:case lv.IN_TABLE:case lv.IN_CAPTION:case lv.IN_COLUMN_GROUP:case lv.IN_TABLE_BODY:case lv.IN_ROW:case lv.IN_CELL:case lv.IN_SELECT:case lv.IN_SELECT_IN_TABLE:case lv.IN_TEMPLATE:case lv.IN_FRAMESET:case lv.AFTER_FRAMESET:_v(this,e);break;case lv.IN_TABLE_TEXT:Wv(this,e);break;case lv.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case lv.AFTER_AFTER_BODY:case lv.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case lv.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?ny.QUIRKS:function(e){if(e.name!==By)return ny.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Hy)return ny.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),Vy.has(n))return ny.QUIRKS;let e=null===t?zy:qy;if(Wy(n,e))return ny.QUIRKS;if(e=null===t?Gy:Ky,Wy(n,e))return ny.LIMITED_QUIRKS}return ny.NO_QUIRKS}(t);(function(e){return e.name===By&&null===e.publicId&&(null===e.systemId||e.systemId===Uy)})(t)||e._err(t,$b.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=lv.BEFORE_HTML}(this,e);break;case lv.BEFORE_HEAD:case lv.IN_HEAD:case lv.IN_HEAD_NO_SCRIPT:case lv.AFTER_HEAD:this._err(e,$b.misplacedDoctype);break;case lv.IN_TABLE_TEXT:Wv(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,$b.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===iy.FONT&&e.attrs.some((e=>{let{name:t}=e;return t===ty.COLOR||t===ty.SIZE||t===ty.FACE}))||ev.has(t)}(t))a_(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===ey.MATHML?tv(t):r===ey.SVG&&(!function(e){const t=Zy.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=ay(e.tagName))}(t),nv(t)),rv(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case lv.INITIAL:Tv(this,e);break;case lv.BEFORE_HTML:!function(e,t){t.tagID===iy.HTML?(e._insertElement(t,ey.HTML),e.insertionMode=lv.BEFORE_HEAD):xv(e,t)}(this,e);break;case lv.BEFORE_HEAD:!function(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.HEAD:e._insertElement(t,ey.HTML),e.headElement=e.openElements.current,e.insertionMode=lv.IN_HEAD;break;default:wv(e,t)}}(this,e);break;case lv.IN_HEAD:Av(this,e);break;case lv.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.BASEFONT:case iy.BGSOUND:case iy.HEAD:case iy.LINK:case iy.META:case iy.NOFRAMES:case iy.STYLE:Av(e,t);break;case iy.NOSCRIPT:e._err(t,$b.nestedNoscriptInHead);break;default:Cv(e,t)}}(this,e);break;case lv.AFTER_HEAD:!function(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.BODY:e._insertElement(t,ey.HTML),e.framesetOk=!1,e.insertionMode=lv.IN_BODY;break;case iy.FRAMESET:e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_FRAMESET;break;case iy.BASE:case iy.BASEFONT:case iy.BGSOUND:case iy.LINK:case iy.META:case iy.NOFRAMES:case iy.SCRIPT:case iy.STYLE:case iy.TEMPLATE:case iy.TITLE:e._err(t,$b.abandonedHeadElementChild),e.openElements.push(e.headElement,iy.HEAD),Av(e,t),e.openElements.remove(e.headElement);break;case iy.HEAD:e._err(t,$b.misplacedStartTagForHeadElement);break;default:Iv(e,t)}}(this,e);break;case lv.IN_BODY:Fv(this,e);break;case lv.IN_TABLE:qv(this,e);break;case lv.IN_TABLE_TEXT:Wv(this,e);break;case lv.IN_CAPTION:!function(e,t){const n=t.tagID;Xv.has(n)?e.openElements.hasInTableScope(iy.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(iy.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=lv.IN_TABLE,qv(e,t)):Fv(e,t)}(this,e);break;case lv.IN_COLUMN_GROUP:Yv(this,e);break;case lv.IN_TABLE_BODY:$v(this,e);break;case lv.IN_ROW:Zv(this,e);break;case lv.IN_CELL:!function(e,t){const n=t.tagID;Xv.has(n)?(e.openElements.hasInTableScope(iy.TD)||e.openElements.hasInTableScope(iy.TH))&&(e._closeTableCell(),Zv(e,t)):Fv(e,t)}(this,e);break;case lv.IN_SELECT:t_(this,e);break;case lv.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===iy.CAPTION||n===iy.TABLE||n===iy.TBODY||n===iy.TFOOT||n===iy.THEAD||n===iy.TR||n===iy.TD||n===iy.TH?(e.openElements.popUntilTagNamePopped(iy.SELECT),e._resetInsertionMode(),e._processStartTag(t)):t_(e,t)}(this,e);break;case lv.IN_TEMPLATE:!function(e,t){switch(t.tagID){case iy.BASE:case iy.BASEFONT:case iy.BGSOUND:case iy.LINK:case iy.META:case iy.NOFRAMES:case iy.SCRIPT:case iy.STYLE:case iy.TEMPLATE:case iy.TITLE:Av(e,t);break;case iy.CAPTION:case iy.COLGROUP:case iy.TBODY:case iy.TFOOT:case iy.THEAD:e.tmplInsertionModeStack[0]=lv.IN_TABLE,e.insertionMode=lv.IN_TABLE,qv(e,t);break;case iy.COL:e.tmplInsertionModeStack[0]=lv.IN_COLUMN_GROUP,e.insertionMode=lv.IN_COLUMN_GROUP,Yv(e,t);break;case iy.TR:e.tmplInsertionModeStack[0]=lv.IN_TABLE_BODY,e.insertionMode=lv.IN_TABLE_BODY,$v(e,t);break;case iy.TD:case iy.TH:e.tmplInsertionModeStack[0]=lv.IN_ROW,e.insertionMode=lv.IN_ROW,Zv(e,t);break;default:e.tmplInsertionModeStack[0]=lv.IN_BODY,e.insertionMode=lv.IN_BODY,Fv(e,t)}}(this,e);break;case lv.AFTER_BODY:!function(e,t){t.tagID===iy.HTML?Fv(e,t):s_(e,t)}(this,e);break;case lv.IN_FRAMESET:!function(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.FRAMESET:e._insertElement(t,ey.HTML);break;case iy.FRAME:e._appendElement(t,ey.HTML),t.ackSelfClosing=!0;break;case iy.NOFRAMES:Av(e,t)}}(this,e);break;case lv.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.NOFRAMES:Av(e,t)}}(this,e);break;case lv.AFTER_AFTER_BODY:!function(e,t){t.tagID===iy.HTML?Fv(e,t):o_(e,t)}(this,e);break;case lv.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.NOFRAMES:Av(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===iy.P||t.tagID===iy.BR)return a_(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===ey.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case lv.INITIAL:Tv(this,e);break;case lv.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==iy.HTML&&n!==iy.HEAD&&n!==iy.BODY&&n!==iy.BR||xv(e,t)}(this,e);break;case lv.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===iy.HEAD||n===iy.BODY||n===iy.HTML||n===iy.BR?wv(e,t):e._err(t,$b.endTagWithoutMatchingOpenElement)}(this,e);break;case lv.IN_HEAD:!function(e,t){switch(t.tagID){case iy.HEAD:e.openElements.pop(),e.insertionMode=lv.AFTER_HEAD;break;case iy.BODY:case iy.BR:case iy.HTML:kv(e,t);break;case iy.TEMPLATE:Sv(e,t);break;default:e._err(t,$b.endTagWithoutMatchingOpenElement)}}(this,e);break;case lv.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case iy.NOSCRIPT:e.openElements.pop(),e.insertionMode=lv.IN_HEAD;break;case iy.BR:Cv(e,t);break;default:e._err(t,$b.endTagWithoutMatchingOpenElement)}}(this,e);break;case lv.AFTER_HEAD:!function(e,t){switch(t.tagID){case iy.BODY:case iy.HTML:case iy.BR:Iv(e,t);break;case iy.TEMPLATE:Sv(e,t);break;default:e._err(t,$b.endTagWithoutMatchingOpenElement)}}(this,e);break;case lv.IN_BODY:Bv(this,e);break;case lv.TEXT:!function(e,t){var n;t.tagID===iy.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case lv.IN_TABLE:zv(this,e);break;case lv.IN_TABLE_TEXT:Wv(this,e);break;case lv.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case iy.CAPTION:case iy.TABLE:e.openElements.hasInTableScope(iy.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(iy.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=lv.IN_TABLE,n===iy.TABLE&&zv(e,t));break;case iy.BODY:case iy.COL:case iy.COLGROUP:case iy.HTML:case iy.TBODY:case iy.TD:case iy.TFOOT:case iy.TH:case iy.THEAD:case iy.TR:break;default:Bv(e,t)}}(this,e);break;case lv.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case iy.COLGROUP:e.openElements.currentTagId===iy.COLGROUP&&(e.openElements.pop(),e.insertionMode=lv.IN_TABLE);break;case iy.TEMPLATE:Sv(e,t);break;case iy.COL:break;default:Qv(e,t)}}(this,e);break;case lv.IN_TABLE_BODY:Jv(this,e);break;case lv.IN_ROW:e_(this,e);break;case lv.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case iy.TD:case iy.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=lv.IN_ROW);break;case iy.TABLE:case iy.TBODY:case iy.TFOOT:case iy.THEAD:case iy.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e_(e,t));break;case iy.BODY:case iy.CAPTION:case iy.COL:case iy.COLGROUP:case iy.HTML:break;default:Bv(e,t)}}(this,e);break;case lv.IN_SELECT:n_(this,e);break;case lv.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===iy.CAPTION||n===iy.TABLE||n===iy.TBODY||n===iy.TFOOT||n===iy.THEAD||n===iy.TR||n===iy.TD||n===iy.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(iy.SELECT),e._resetInsertionMode(),e.onEndTag(t)):n_(e,t)}(this,e);break;case lv.IN_TEMPLATE:!function(e,t){t.tagID===iy.TEMPLATE&&Sv(e,t)}(this,e);break;case lv.AFTER_BODY:i_(this,e);break;case lv.IN_FRAMESET:!function(e,t){t.tagID!==iy.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===iy.FRAMESET||(e.insertionMode=lv.AFTER_FRAMESET))}(this,e);break;case lv.AFTER_FRAMESET:!function(e,t){t.tagID===iy.HTML&&(e.insertionMode=lv.AFTER_AFTER_FRAMESET)}(this,e);break;case lv.AFTER_AFTER_BODY:o_(this,e)}}onEof(e){switch(this.insertionMode){case lv.INITIAL:Tv(this,e);break;case lv.BEFORE_HTML:xv(this,e);break;case lv.BEFORE_HEAD:wv(this,e);break;case lv.IN_HEAD:kv(this,e);break;case lv.IN_HEAD_NO_SCRIPT:Cv(this,e);break;case lv.AFTER_HEAD:Iv(this,e);break;case lv.IN_BODY:case lv.IN_TABLE:case lv.IN_CAPTION:case lv.IN_COLUMN_GROUP:case lv.IN_TABLE_BODY:case lv.IN_ROW:case lv.IN_CELL:case lv.IN_SELECT:case lv.IN_SELECT_IN_TABLE:Uv(this,e);break;case lv.TEXT:!function(e,t){e._err(t,$b.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case lv.IN_TABLE_TEXT:Wv(this,e);break;case lv.IN_TEMPLATE:r_(this,e);break;case lv.AFTER_BODY:case lv.IN_FRAMESET:case lv.AFTER_FRAMESET:case lv.AFTER_AFTER_BODY:case lv.AFTER_AFTER_FRAMESET:Ev(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Hb.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case lv.IN_HEAD:case lv.IN_HEAD_NO_SCRIPT:case lv.AFTER_HEAD:case lv.TEXT:case lv.IN_COLUMN_GROUP:case lv.IN_SELECT:case lv.IN_SELECT_IN_TABLE:case lv.IN_FRAMESET:case lv.AFTER_FRAMESET:this._insertCharacters(e);break;case lv.IN_BODY:case lv.IN_CAPTION:case lv.IN_CELL:case lv.IN_TEMPLATE:case lv.AFTER_BODY:case lv.AFTER_AFTER_BODY:case lv.AFTER_AFTER_FRAMESET:Ov(this,e);break;case lv.IN_TABLE:case lv.IN_TABLE_BODY:case lv.IN_ROW:Hv(this,e);break;case lv.IN_TABLE_TEXT:Gv(this,e)}}}function dv(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):jv(e,t),n}function mv(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function fv(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const n=e.activeFormattingElements.getElementEntry(o),a=n&&s>=av;!n||a?(a&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(o)):(o=gv(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function gv(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function bv(e,t,n){const r=ay(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);r===iy.TEMPLATE&&i===ey.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function yv(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function vv(e,t){for(let n=0;n<ov;n++){const n=dv(e,t);if(!n)break;const r=mv(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const i=fv(e,r,n.element),s=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),s&&bv(e,s,i),yv(e,r,n)}}function _v(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Ev(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function Tv(e,t){e._err(t,$b.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ny.QUIRKS),e.insertionMode=lv.BEFORE_HTML,e._processToken(t)}function xv(e,t){e._insertFakeRootElement(),e.insertionMode=lv.BEFORE_HEAD,e._processToken(t)}function wv(e,t){e._insertFakeElement(ry.HEAD,iy.HEAD),e.headElement=e.openElements.current,e.insertionMode=lv.IN_HEAD,e._processToken(t)}function Av(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.BASE:case iy.BASEFONT:case iy.BGSOUND:case iy.LINK:case iy.META:e._appendElement(t,ey.HTML),t.ackSelfClosing=!0;break;case iy.TITLE:e._switchToTextParsing(t,my.RCDATA);break;case iy.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,my.RAWTEXT):(e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_HEAD_NO_SCRIPT);break;case iy.NOFRAMES:case iy.STYLE:e._switchToTextParsing(t,my.RAWTEXT);break;case iy.SCRIPT:e._switchToTextParsing(t,my.SCRIPT_DATA);break;case iy.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=lv.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(lv.IN_TEMPLATE);break;case iy.HEAD:e._err(t,$b.misplacedStartTagForHeadElement);break;default:kv(e,t)}}function Sv(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==iy.TEMPLATE&&e._err(t,$b.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(iy.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,$b.endTagWithoutMatchingOpenElement)}function kv(e,t){e.openElements.pop(),e.insertionMode=lv.AFTER_HEAD,e._processToken(t)}function Cv(e,t){const n=t.type===Zb.EOF?$b.openElementsLeftAfterEof:$b.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=lv.IN_HEAD,e._processToken(t)}function Iv(e,t){e._insertFakeElement(ry.BODY,iy.BODY),e.insertionMode=lv.IN_BODY,Nv(e,t)}function Nv(e,t){switch(t.type){case Zb.CHARACTER:Rv(e,t);break;case Zb.WHITESPACE_CHARACTER:Ov(e,t);break;case Zb.COMMENT:_v(e,t);break;case Zb.START_TAG:Fv(e,t);break;case Zb.END_TAG:Bv(e,t);break;case Zb.EOF:Uv(e,t)}}function Ov(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Rv(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Dv(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ey.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Pv(e){const t=sy(e,ty.TYPE);return null!=t&&t.toLowerCase()===sv}function Lv(e,t){e._switchToTextParsing(t,my.RAWTEXT)}function Mv(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML)}function Fv(e,t){switch(t.tagID){case iy.I:case iy.S:case iy.B:case iy.U:case iy.EM:case iy.TT:case iy.BIG:case iy.CODE:case iy.FONT:case iy.SMALL:case iy.STRIKE:case iy.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case iy.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ry.A);n&&(vv(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case iy.H1:case iy.H2:case iy.H3:case iy.H4:case iy.H5:case iy.H6:!function(e,t){e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),cy(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ey.HTML)}(e,t);break;case iy.P:case iy.DL:case iy.OL:case iy.UL:case iy.DIV:case iy.DIR:case iy.NAV:case iy.MAIN:case iy.MENU:case iy.ASIDE:case iy.CENTER:case iy.FIGURE:case iy.FOOTER:case iy.HEADER:case iy.HGROUP:case iy.DIALOG:case iy.DETAILS:case iy.ADDRESS:case iy.ARTICLE:case iy.SECTION:case iy.SUMMARY:case iy.FIELDSET:case iy.BLOCKQUOTE:case iy.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._insertElement(t,ey.HTML)}(e,t);break;case iy.LI:case iy.DD:case iy.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const t=e.openElements.tagIDs[r];if(n===iy.LI&&t===iy.LI||(n===iy.DD||n===iy.DT)&&(t===iy.DD||t===iy.DT)){e.openElements.generateImpliedEndTagsWithExclusion(t),e.openElements.popUntilTagNamePopped(t);break}if(t!==iy.ADDRESS&&t!==iy.DIV&&t!==iy.P&&e._isSpecialElement(e.openElements.items[r],t))break}e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._insertElement(t,ey.HTML)}(e,t);break;case iy.BR:case iy.IMG:case iy.WBR:case iy.AREA:case iy.EMBED:case iy.KEYGEN:Dv(e,t);break;case iy.HR:!function(e,t){e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._appendElement(t,ey.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case iy.RB:case iy.RTC:!function(e,t){e.openElements.hasInScope(iy.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ey.HTML)}(e,t);break;case iy.RT:case iy.RP:!function(e,t){e.openElements.hasInScope(iy.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(iy.RTC),e._insertElement(t,ey.HTML)}(e,t);break;case iy.PRE:case iy.LISTING:!function(e,t){e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._insertElement(t,ey.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case iy.XMP:!function(e,t){e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,my.RAWTEXT)}(e,t);break;case iy.SVG:!function(e,t){e._reconstructActiveFormattingElements(),nv(t),rv(t),t.selfClosing?e._appendElement(t,ey.SVG):e._insertElement(t,ey.SVG),t.ackSelfClosing=!0}(e,t);break;case iy.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case iy.BASE:case iy.LINK:case iy.META:case iy.STYLE:case iy.TITLE:case iy.SCRIPT:case iy.BGSOUND:case iy.BASEFONT:case iy.TEMPLATE:Av(e,t);break;case iy.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case iy.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._insertElement(t,ey.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case iy.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(iy.NOBR)&&(vv(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ey.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case iy.MATH:!function(e,t){e._reconstructActiveFormattingElements(),tv(t),rv(t),t.selfClosing?e._appendElement(t,ey.MATHML):e._insertElement(t,ey.MATHML),t.ackSelfClosing=!0}(e,t);break;case iy.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==ny.QUIRKS&&e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._insertElement(t,ey.HTML),e.framesetOk=!1,e.insertionMode=lv.IN_TABLE}(e,t);break;case iy.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ey.HTML),Pv(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case iy.PARAM:case iy.TRACK:case iy.SOURCE:!function(e,t){e._appendElement(t,ey.HTML),t.ackSelfClosing=!0}(e,t);break;case iy.IMAGE:!function(e,t){t.tagName=ry.IMG,t.tagID=iy.IMG,Dv(e,t)}(e,t);break;case iy.BUTTON:!function(e,t){e.openElements.hasInScope(iy.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(iy.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML),e.framesetOk=!1}(e,t);break;case iy.APPLET:case iy.OBJECT:case iy.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case iy.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,my.RAWTEXT)}(e,t);break;case iy.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===lv.IN_TABLE||e.insertionMode===lv.IN_CAPTION||e.insertionMode===lv.IN_TABLE_BODY||e.insertionMode===lv.IN_ROW||e.insertionMode===lv.IN_CELL?lv.IN_SELECT_IN_TABLE:lv.IN_SELECT}(e,t);break;case iy.OPTION:case iy.OPTGROUP:!function(e,t){e.openElements.currentTagId===iy.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ey.HTML)}(e,t);break;case iy.NOEMBED:Lv(e,t);break;case iy.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_FRAMESET)}(e,t);break;case iy.TEXTAREA:!function(e,t){e._insertElement(t,ey.HTML),e.skipNextNewLine=!0,e.tokenizer.state=my.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=lv.TEXT}(e,t);break;case iy.NOSCRIPT:e.options.scriptingEnabled?Lv(e,t):Mv(e,t);break;case iy.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(iy.P)&&e._closePElement(),e._insertElement(t,ey.HTML),e.tokenizer.state=my.PLAINTEXT}(e,t);break;case iy.COL:case iy.TH:case iy.TD:case iy.TR:case iy.HEAD:case iy.FRAME:case iy.TBODY:case iy.TFOOT:case iy.THEAD:case iy.CAPTION:case iy.COLGROUP:break;default:Mv(e,t)}}function jv(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const t=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==iy.UNKNOWN||e.treeAdapter.getTagName(t)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(t,s))break}}function Bv(e,t){switch(t.tagID){case iy.A:case iy.B:case iy.I:case iy.S:case iy.U:case iy.EM:case iy.TT:case iy.BIG:case iy.CODE:case iy.FONT:case iy.NOBR:case iy.SMALL:case iy.STRIKE:case iy.STRONG:vv(e,t);break;case iy.P:!function(e){e.openElements.hasInButtonScope(iy.P)||e._insertFakeElement(ry.P,iy.P),e._closePElement()}(e);break;case iy.DL:case iy.UL:case iy.OL:case iy.DIR:case iy.DIV:case iy.NAV:case iy.PRE:case iy.MAIN:case iy.MENU:case iy.ASIDE:case iy.BUTTON:case iy.CENTER:case iy.FIGURE:case iy.FOOTER:case iy.HEADER:case iy.HGROUP:case iy.DIALOG:case iy.ADDRESS:case iy.ARTICLE:case iy.DETAILS:case iy.SECTION:case iy.SUMMARY:case iy.LISTING:case iy.FIELDSET:case iy.BLOCKQUOTE:case iy.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case iy.LI:!function(e){e.openElements.hasInListItemScope(iy.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(iy.LI),e.openElements.popUntilTagNamePopped(iy.LI))}(e);break;case iy.DD:case iy.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case iy.H1:case iy.H2:case iy.H3:case iy.H4:case iy.H5:case iy.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case iy.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ry.BR,iy.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case iy.BODY:!function(e,t){if(e.openElements.hasInScope(iy.BODY)&&(e.insertionMode=lv.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case iy.HTML:!function(e,t){e.openElements.hasInScope(iy.BODY)&&(e.insertionMode=lv.AFTER_BODY,i_(e,t))}(e,t);break;case iy.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(iy.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(iy.FORM):n&&e.openElements.remove(n))}(e);break;case iy.APPLET:case iy.OBJECT:case iy.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case iy.TEMPLATE:Sv(e,t);break;default:jv(e,t)}}function Uv(e,t){e.tmplInsertionModeStack.length>0?r_(e,t):Ev(e,t)}function Hv(e,t){if(cv.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=lv.IN_TABLE_TEXT,t.type){case Zb.CHARACTER:Kv(e,t);break;case Zb.WHITESPACE_CHARACTER:Gv(e,t)}else Vv(e,t)}function qv(e,t){switch(t.tagID){case iy.TD:case iy.TH:case iy.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ry.TBODY,iy.TBODY),e.insertionMode=lv.IN_TABLE_BODY,$v(e,t)}(e,t);break;case iy.STYLE:case iy.SCRIPT:case iy.TEMPLATE:Av(e,t);break;case iy.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ry.COLGROUP,iy.COLGROUP),e.insertionMode=lv.IN_COLUMN_GROUP,Yv(e,t)}(e,t);break;case iy.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,ey.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case iy.TABLE:!function(e,t){e.openElements.hasInTableScope(iy.TABLE)&&(e.openElements.popUntilTagNamePopped(iy.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case iy.TBODY:case iy.TFOOT:case iy.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_TABLE_BODY}(e,t);break;case iy.INPUT:!function(e,t){Pv(t)?e._appendElement(t,ey.HTML):Vv(e,t),t.ackSelfClosing=!0}(e,t);break;case iy.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_CAPTION}(e,t);break;case iy.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_COLUMN_GROUP}(e,t);break;default:Vv(e,t)}}function zv(e,t){switch(t.tagID){case iy.TABLE:e.openElements.hasInTableScope(iy.TABLE)&&(e.openElements.popUntilTagNamePopped(iy.TABLE),e._resetInsertionMode());break;case iy.TEMPLATE:Sv(e,t);break;case iy.BODY:case iy.CAPTION:case iy.COL:case iy.COLGROUP:case iy.HTML:case iy.TBODY:case iy.TD:case iy.TFOOT:case iy.TH:case iy.THEAD:case iy.TR:break;default:Vv(e,t)}}function Vv(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Nv(e,t),e.fosterParentingEnabled=n}function Gv(e,t){e.pendingCharacterTokens.push(t)}function Kv(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Wv(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Vv(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Xv=new Set([iy.CAPTION,iy.COL,iy.COLGROUP,iy.TBODY,iy.TD,iy.TFOOT,iy.TH,iy.THEAD,iy.TR]);function Yv(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.COL:e._appendElement(t,ey.HTML),t.ackSelfClosing=!0;break;case iy.TEMPLATE:Av(e,t);break;default:Qv(e,t)}}function Qv(e,t){e.openElements.currentTagId===iy.COLGROUP&&(e.openElements.pop(),e.insertionMode=lv.IN_TABLE,e._processToken(t))}function $v(e,t){switch(t.tagID){case iy.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_ROW;break;case iy.TH:case iy.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ry.TR,iy.TR),e.insertionMode=lv.IN_ROW,Zv(e,t);break;case iy.CAPTION:case iy.COL:case iy.COLGROUP:case iy.TBODY:case iy.TFOOT:case iy.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE,qv(e,t));break;default:qv(e,t)}}function Jv(e,t){const n=t.tagID;switch(t.tagID){case iy.TBODY:case iy.TFOOT:case iy.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE);break;case iy.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE,zv(e,t));break;case iy.BODY:case iy.CAPTION:case iy.COL:case iy.COLGROUP:case iy.HTML:case iy.TD:case iy.TH:case iy.TR:break;default:zv(e,t)}}function Zv(e,t){switch(t.tagID){case iy.TH:case iy.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,ey.HTML),e.insertionMode=lv.IN_CELL,e.activeFormattingElements.insertMarker();break;case iy.CAPTION:case iy.COL:case iy.COLGROUP:case iy.TBODY:case iy.TFOOT:case iy.THEAD:case iy.TR:e.openElements.hasInTableScope(iy.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE_BODY,$v(e,t));break;default:qv(e,t)}}function e_(e,t){switch(t.tagID){case iy.TR:e.openElements.hasInTableScope(iy.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE_BODY);break;case iy.TABLE:e.openElements.hasInTableScope(iy.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE_BODY,Jv(e,t));break;case iy.TBODY:case iy.TFOOT:case iy.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(iy.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=lv.IN_TABLE_BODY,Jv(e,t));break;case iy.BODY:case iy.CAPTION:case iy.COL:case iy.COLGROUP:case iy.HTML:case iy.TD:case iy.TH:break;default:zv(e,t)}}function t_(e,t){switch(t.tagID){case iy.HTML:Fv(e,t);break;case iy.OPTION:e.openElements.currentTagId===iy.OPTION&&e.openElements.pop(),e._insertElement(t,ey.HTML);break;case iy.OPTGROUP:e.openElements.currentTagId===iy.OPTION&&e.openElements.pop(),e.openElements.currentTagId===iy.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ey.HTML);break;case iy.INPUT:case iy.KEYGEN:case iy.TEXTAREA:case iy.SELECT:e.openElements.hasInSelectScope(iy.SELECT)&&(e.openElements.popUntilTagNamePopped(iy.SELECT),e._resetInsertionMode(),t.tagID!==iy.SELECT&&e._processStartTag(t));break;case iy.SCRIPT:case iy.TEMPLATE:Av(e,t)}}function n_(e,t){switch(t.tagID){case iy.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===iy.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===iy.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===iy.OPTGROUP&&e.openElements.pop();break;case iy.OPTION:e.openElements.currentTagId===iy.OPTION&&e.openElements.pop();break;case iy.SELECT:e.openElements.hasInSelectScope(iy.SELECT)&&(e.openElements.popUntilTagNamePopped(iy.SELECT),e._resetInsertionMode());break;case iy.TEMPLATE:Sv(e,t)}}function r_(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(iy.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Ev(e,t)}function i_(e,t){var n;if(t.tagID===iy.HTML){if(e.fragmentContext||(e.insertionMode=lv.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===iy.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else s_(e,t)}function s_(e,t){e.insertionMode=lv.IN_BODY,Nv(e,t)}function o_(e,t){e.insertionMode=lv.IN_BODY,Nv(e,t)}function a_(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ey.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}const l_=new Set([ry.AREA,ry.BASE,ry.BASEFONT,ry.BGSOUND,ry.BR,ry.COL,ry.EMBED,ry.FRAME,ry.HR,ry.IMG,ry.INPUT,ry.KEYGEN,ry.LINK,ry.META,ry.PARAM,ry.SOURCE,ry.TRACK,ry.WBR]);function u_(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===ey.HTML&&l_.has(t.treeAdapter.getTagName(e))}const c_={treeAdapter:jy,scriptingEnabled:!0};function h_(e,t){return d_(e,{...c_,...t})}function p_(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===ry.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===ey.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const s of i)n+=d_(s,t);return n}function d_(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const n=t.treeAdapter.getTagName(e);return"<".concat(n).concat(function(e,t){let{treeAdapter:n}=t,r="";for(const i of n.getAttrList(e)){if(r+=" ",i.namespace)switch(i.namespace){case ey.XML:r+="xml:".concat(i.name);break;case ey.XMLNS:"xmlns"!==i.name&&(r+="xmlns:"),r+=i.name;break;case ey.XLINK:r+="xlink:".concat(i.name);break;default:r+="".concat(i.prefix,":").concat(i.name)}else r+=i.name;r+='="'.concat(fd(i.value),'"')}return r}(e,t),">").concat(u_(e,t)?"":"".concat(p_(e,t),"</").concat(n,">"))}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),i=n.getParentNode(e),s=i&&n.isElementNode(i)&&n.getTagName(i);return s&&n.getNamespaceURI(i)===ey.HTML&&(o=s,a=t.scriptingEnabled,hy.has(o)||a&&o===ry.NOSCRIPT)?r:gd(r);var o,a}(e,t):t.treeAdapter.isCommentNode(e)?function(e,t){let{treeAdapter:n}=t;return"\x3c!--".concat(n.getCommentNodeContent(e),"--\x3e")}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,t){let{treeAdapter:n}=t;return"<!DOCTYPE ".concat(n.getDocumentTypeNodeName(e),">")}(e,t):""}function m_(e){return new Ip(e)}function f_(e){const t=e.includes('"')?"'":'"';return t+e+t}const g_={isCommentNode:Bp,isElementNode:Mp,isTextNode:jp,createDocument(){const e=new Pp([]);return e["x-mode"]=ny.NO_QUIRKS,e},createDocumentFragment:()=>new Pp([]),createElement(e,t,n){const r=Object.create(null),i=Object.create(null),s=Object.create(null);for(let a=0;a<n.length;a++){const e=n[a].name;r[e]=n[a].value,i[e]=n[a].namespace,s[e]=n[a].prefix}const o=new Lp(e,r,[]);return o.namespace=t,o["x-attribsNamespace"]=i,o["x-attribsPrefix"]=s,o},createCommentNode:e=>new Np(e),appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){g_.appendChild(e,t)},getTemplateContent:e=>e.children[0],setDocumentType(e,t,n,r){const i=function(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=" PUBLIC ".concat(f_(t)):n&&(r+=" SYSTEM"),n&&(r+=" ".concat(f_(n))),r}(t,n,r);let s=e.children.find((e=>Up(e)&&"!doctype"===e.name));s?s.data=null!==i&&void 0!==i?i:null:(s=new Op("!doctype",i),g_.appendChild(e,s)),s["x-name"]=null!==t&&void 0!==t?t:void 0,s["x-publicId"]=null!==n&&void 0!==n?n:void 0,s["x-systemId"]=null!==r&&void 0!==r?r:void 0},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode:e=>e["x-mode"],detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&jp(n)?n.data+=t:g_.appendChild(e,m_(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&jp(r)?r.data+=t:g_.insertBefore(e,m_(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;"undefined"===typeof e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild:e=>e.children[0],getChildNodes:e=>e.children,getParentNode:e=>e.parent,getAttrList:e=>e.attributes,getTagName:e=>e.name,getNamespaceURI:e=>e.namespace,getTextNodeContent:e=>e.data,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName(e){var t;return null!==(t=e["x-name"])&&void 0!==t?t:""},getDocumentTypeNodePublicId(e){var t;return null!==(t=e["x-publicId"])&&void 0!==t?t:""},getDocumentTypeNodeSystemId(e){var t;return null!==(t=e["x-systemId"])&&void 0!==t?t:""},isDocumentTypeNode:e=>Up(e)&&"!doctype"===e.name,setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){null!=t.endOffset&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function b_(e,t,n,r){const i={scriptingEnabled:"boolean"!==typeof t.scriptingEnabled||t.scriptingEnabled,treeAdapter:g_,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return n?function(e,t){return pv.parse(e,t)}(e,i):function(e,t,n){"string"===typeof e&&(n=t,t=e,e=null);const r=pv.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}(r,e,i)}const y_={treeAdapter:g_};var v_,__,E_;function T_(e){return e===v_.Space||e===v_.NewLine||e===v_.Tab||e===v_.FormFeed||e===v_.CarriageReturn}function x_(e){return e===v_.Slash||e===v_.Gt||T_(e)}function w_(e){return e>=v_.Zero&&e<=v_.Nine}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(v_||(v_={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(__||(__={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(E_||(E_={}));const A_={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class S_{constructor(e,t){let{xmlMode:n=!1,decodeEntities:r=!0}=e;this.cbs=t,this.state=__.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=__.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=n,this.decodeEntities=r,this.entityTrie=n?Xp:Wp}reset(){this.state=__.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=__.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===v_.Lt||!this.decodeEntities&&this.fastForwardTo(v_.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=__.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===v_.Amp&&(this.state=__.BeforeEntity)}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?x_(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=__.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===v_.Gt||T_(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===A_.TitleEnd?this.decodeEntities&&e===v_.Amp&&(this.state=__.BeforeEntity):this.fastForwardTo(v_.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===v_.Lt)}stateCDATASequence(e){e===A_.Cdata[this.sequenceIndex]?++this.sequenceIndex===A_.Cdata.length&&(this.state=__.InCommentLike,this.currentSequence=A_.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=__.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===A_.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=__.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!x_(e):function(e){return e>=v_.LowerA&&e<=v_.LowerZ||e>=v_.UpperA&&e<=v_.UpperZ}(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=__.SpecialStartSequence}stateBeforeTagName(e){if(e===v_.ExclamationMark)this.state=__.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===v_.Questionmark)this.state=__.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=32|e;this.sectionStart=this.index,this.xmlMode||t!==A_.TitleEnd[2]?this.state=this.xmlMode||t!==A_.ScriptEnd[2]?__.InTagName:__.BeforeSpecialS:this.startSpecial(A_.TitleEnd,3)}else e===v_.Slash?this.state=__.BeforeClosingTagName:(this.state=__.Text,this.stateText(e))}stateInTagName(e){x_(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=__.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){T_(e)||(e===v_.Gt?this.state=__.Text:(this.state=this.isTagStartChar(e)?__.InClosingTagName:__.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===v_.Gt||T_(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=__.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===v_.Gt||this.fastForwardTo(v_.Gt))&&(this.state=__.Text,this.baseState=__.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===v_.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=__.InSpecialTag,this.sequenceIndex=0):this.state=__.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===v_.Slash?this.state=__.InSelfClosingTag:T_(e)||(this.state=__.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===v_.Gt?(this.cbs.onselfclosingtag(this.index),this.state=__.Text,this.baseState=__.Text,this.sectionStart=this.index+1,this.isSpecial=!1):T_(e)||(this.state=__.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===v_.Eq||x_(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=__.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===v_.Eq?this.state=__.BeforeAttributeValue:e===v_.Slash||e===v_.Gt?(this.cbs.onattribend(E_.NoValue,this.index),this.state=__.BeforeAttributeName,this.stateBeforeAttributeName(e)):T_(e)||(this.cbs.onattribend(E_.NoValue,this.index),this.state=__.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===v_.DoubleQuote?(this.state=__.InAttributeValueDq,this.sectionStart=this.index+1):e===v_.SingleQuote?(this.state=__.InAttributeValueSq,this.sectionStart=this.index+1):T_(e)||(this.sectionStart=this.index,this.state=__.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===v_.DoubleQuote?E_.Double:E_.Single,this.index),this.state=__.BeforeAttributeName):this.decodeEntities&&e===v_.Amp&&(this.baseState=this.state,this.state=__.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,v_.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,v_.SingleQuote)}stateInAttributeValueNoQuotes(e){T_(e)||e===v_.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(E_.Unquoted,this.index),this.state=__.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===v_.Amp&&(this.baseState=this.state,this.state=__.BeforeEntity)}stateBeforeDeclaration(e){e===v_.OpeningSquareBracket?(this.state=__.CDATASequence,this.sequenceIndex=0):this.state=e===v_.Dash?__.BeforeComment:__.InDeclaration}stateInDeclaration(e){(e===v_.Gt||this.fastForwardTo(v_.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=__.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===v_.Gt||this.fastForwardTo(v_.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=__.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===v_.Dash?(this.state=__.InCommentLike,this.currentSequence=A_.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=__.InDeclaration}stateInSpecialComment(e){(e===v_.Gt||this.fastForwardTo(v_.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=__.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=32|e;t===A_.ScriptEnd[3]?this.startSpecial(A_.ScriptEnd,4):t===A_.StyleEnd[3]?this.startSpecial(A_.StyleEnd,4):(this.state=__.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===v_.Number?this.state=__.BeforeNumericEntity:e===v_.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=__.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=ld(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];const t=this.trieCurrent&ed.VALUE_LENGTH;if(t){const n=(t>>14)-1;if(this.allowLegacyEntity()||e===v_.Semi){const e=this.index-this.entityExcess+1;e>this.sectionStart&&this.emitPartial(this.sectionStart,e),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,0===n&&this.emitNamedEntity()}else this.trieIndex+=n}}emitNamedEntity(){if(this.state=this.baseState,0===this.entityResult)return;switch((this.entityTrie[this.entityResult]&ed.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~ed.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(32|e)===v_.LowerX?(this.entityExcess++,this.state=__.InHexEntity):(this.state=__.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const t=this.index-this.entityExcess-1;t+2+Number(this.state===__.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint(Jp(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===v_.Semi?this.emitNumericEntity(!0):w_(e)?(this.entityResult=10*this.entityResult+(e-v_.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===v_.Semi?this.emitNumericEntity(!0):w_(e)?(this.entityResult=16*this.entityResult+(e-v_.Zero),this.entityExcess++):!function(e){return e>=v_.UpperA&&e<=v_.UpperF||e>=v_.LowerA&&e<=v_.LowerF}(e)?(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--):(this.entityResult=16*this.entityResult+((32|e)-v_.LowerA+10),this.entityExcess++)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===__.Text||this.baseState===__.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===__.Text||this.state===__.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==__.InAttributeValueDq&&this.state!==__.InAttributeValueSq&&this.state!==__.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case __.Text:this.stateText(e);break;case __.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case __.InSpecialTag:this.stateInSpecialTag(e);break;case __.CDATASequence:this.stateCDATASequence(e);break;case __.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case __.InAttributeName:this.stateInAttributeName(e);break;case __.InCommentLike:this.stateInCommentLike(e);break;case __.InSpecialComment:this.stateInSpecialComment(e);break;case __.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case __.InTagName:this.stateInTagName(e);break;case __.InClosingTagName:this.stateInClosingTagName(e);break;case __.BeforeTagName:this.stateBeforeTagName(e);break;case __.AfterAttributeName:this.stateAfterAttributeName(e);break;case __.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case __.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case __.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case __.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case __.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case __.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case __.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case __.InDeclaration:this.stateInDeclaration(e);break;case __.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case __.BeforeComment:this.stateBeforeComment(e);break;case __.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case __.InNamedEntity:this.stateInNamedEntity(e);break;case __.BeforeEntity:this.stateBeforeEntity(e);break;case __.InHexEntity:this.stateInHexEntity(e);break;case __.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()}finish(){this.state===__.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===__.InCommentLike?this.currentSequence===A_.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===__.InNumericEntity&&this.allowLegacyEntity()||this.state===__.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===__.InTagName||this.state===__.BeforeAttributeName||this.state===__.BeforeAttributeValue||this.state===__.AfterAttributeName||this.state===__.InAttributeName||this.state===__.InAttributeValueSq||this.state===__.InAttributeValueDq||this.state===__.InAttributeValueNq||this.state===__.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,t){this.baseState!==__.Text&&this.baseState!==__.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)}emitCodePoint(e){this.baseState!==__.Text&&this.baseState!==__.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const k_=new Set(["input","option","optgroup","select","button","datalist","textarea"]),C_=new Set(["p"]),I_=new Set(["thead","tbody"]),N_=new Set(["dd","dt"]),O_=new Set(["rt","rp"]),R_=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",C_],["h1",C_],["h2",C_],["h3",C_],["h4",C_],["h5",C_],["h6",C_],["select",k_],["input",k_],["output",k_],["button",k_],["datalist",k_],["textarea",k_],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",N_],["dt",N_],["address",C_],["article",C_],["aside",C_],["blockquote",C_],["details",C_],["div",C_],["dl",C_],["fieldset",C_],["figcaption",C_],["figure",C_],["footer",C_],["form",C_],["header",C_],["hr",C_],["main",C_],["nav",C_],["ol",C_],["pre",C_],["section",C_],["table",C_],["ul",C_],["rt",O_],["rp",O_],["tbody",I_],["tfoot",I_]]),D_=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),P_=new Set(["math","svg"]),L_=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),M_=/\s|\//;class F_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,s,o;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!==e&&void 0!==e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:S_)(this.options,this),null===(o=(s=this.cbs).onparserinit)||void 0===o||o.call(s,this)}ontext(e,t){var n,r;const i=this.getSlice(e,t);this.endIndex=t-1,null===(r=(n=this.cbs).ontext)||void 0===r||r.call(n,i),this.startIndex=t}ontextentity(e){var t,n;const r=this.tokenizer.getSectionStart();this.endIndex=r-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,$p(e)),this.startIndex=r}isVoidElement(e){return!this.options.xmlMode&&D_.has(e)}onopentagname(e,t){this.endIndex=t;let n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(e){var t,n,r,i;this.openTagStart=this.startIndex,this.tagname=e;const s=!this.options.xmlMode&&R_.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){const e=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,e,!0)}this.isVoidElement(e)||(this.stack.push(e),P_.has(e)?this.foreignContext.push(!0):L_.has(e)&&this.foreignContext.push(!1)),null===(i=(r=this.cbs).onopentagname)||void 0===i||i.call(r,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var n,r,i,s,o,a;this.endIndex=t;let l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(P_.has(l)||L_.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))this.options.xmlMode||"br"!==l||(null===(r=(n=this.cbs).onopentagname)||void 0===r||r.call(n,"br"),null===(s=(i=this.cbs).onopentag)||void 0===s||s.call(i,"br",{},!0),null===(a=(o=this.cbs).onclosetag)||void 0===a||a.call(o,"br",!1));else{const e=this.stack.lastIndexOf(l);if(-1!==e)if(this.cbs.onclosetag){let t=this.stack.length-e;for(;t--;)this.cbs.onclosetag(this.stack.pop(),0!==t)}else this.stack.length=e;else this.options.xmlMode||"p"!==l||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,n;const r=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===r&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,r,!e),this.stack.pop())}onattribname(e,t){this.startIndex=e;const n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=$p(e)}onattribend(e,t){var n,r;this.endIndex=t,null===(r=(n=this.cbs).onattribute)||void 0===r||r.call(n,this.attribname,this.attribvalue,e===E_.Double?'"':e===E_.Single?"'":e===E_.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(M_);let n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(e),"!".concat(n))}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(e),"?".concat(n))}this.startIndex=t+1}oncomment(e,t,n){var r,i,s,o;this.endIndex=t,null===(i=(r=this.cbs).oncomment)||void 0===i||i.call(r,this.getSlice(e,t-n)),null===(o=(s=this.cbs).oncommentend)||void 0===o||o.call(s),this.startIndex=t+1}oncdata(e,t,n){var r,i,s,o,a,l,u,c,h,p;this.endIndex=t;const d=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(i=(r=this.cbs).oncdatastart)||void 0===i||i.call(r),null===(o=(s=this.cbs).ontext)||void 0===o||o.call(s,d),null===(l=(a=this.cbs).oncdataend)||void 0===l||l.call(a)):(null===(c=(u=this.cbs).oncomment)||void 0===c||c.call(u,"[CDATA[".concat(d,"]]")),null===(p=(h=this.cbs).oncommentend)||void 0===p||p.call(h)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let e=this.stack.length;e>0;this.cbs.onclosetag(this.stack[--e],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)}reset(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))}end(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}function j_(e,t){const n=new Kp(void 0,t);return new F_(n,t).end(e),n.root}const B_=(U_=(e,t,n,r)=>t.xmlMode||t._useHtmlParser2?j_(e,t):b_(e,t,n,r),function(e,t,n,r){if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)&&(e=e.toString()),"string"===typeof e)return U_(e,t,n,r);const i=e;if(!Array.isArray(i)&&Hp(i))return i;const s=new Pp([]);return ob(i,s),s});var U_;const H_=function(e,t){return function n(r,i){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==r)throw new Error("cheerio.load() expects a string");const o={...mp,...gp(i)},a=e(r,o,s,null);class l extends jb{_make(e,t){const n=u(e,t);return n.prevObject=this,n}_parse(t,n,r,i){return e(t,n,r,i)}_render(e){return t(e,this.options)}}function u(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=arguments.length>3?arguments[3]:void 0;if(t&&Nm(t))return t;const s={...o,...gp(i)},u="string"===typeof r?[e(r,s,!1,null)]:"length"in r?r:[r],c=Nm(u)?u:new l(u,null,s);if(c._root=c,!t)return new l(void 0,c,s);const h="string"===typeof t&&Pm(t)?e(t,s,!1,null).children:(p=t).name||"root"===p.type||"text"===p.type||"comment"===p.type?[t]:Array.isArray(t)?t:void 0;var p;const d=new l(h,c,s);if(h)return d;if("string"!==typeof t)throw new Error("Unexpected type of selector");let m=t;const f=n?"string"===typeof n?Pm(n)?new l([e(n,s,!1,null)],c,s):(m="".concat(n," ").concat(m),c):Nm(n)?n:new l(Array.isArray(n)?n:[n],c,s):c;return f?f.find(m):d}return Object.assign(u,T,{load:n,_root:a,_options:o,fn:l.prototype,prototype:l.prototype}),u}}(B_,((e,t)=>t.xmlMode||t._useHtmlParser2?Ad(e,t):function(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const e=t[r];Hp(e)&&Array.prototype.splice.call(t,r,1,...e.children)}let n="";for(let r=0;r<t.length;r+=1)n+=h_(t[r],y_);return n}(e))),{contains:q_}=(H_([]),T),{merge:z_}=T,{parseHTML:V_}=T,{root:G_}=T,K_="https://corsproxy.io/?";function W_(e,t,n){if(void 0===e)return;let r,i,s;e instanceof Date?(r=e.getFullYear(),i=e.getMonth()+1,s=e.getDate()):(r=e,i=null!==t&&void 0!==t?t:1,s=null!==n&&void 0!==n?n:1);let o=[r];void 0!==i&&(o.push(i),void 0!==s&&o.push(s));const a=new Date(r,i,s);return{"date-parts":[o],raw:"".concat(a.getFullYear(),"-").concat(a.getMonth(),"-").concat(a.getDate())}}function X_(e){if(!e)return[];return e.map((e=>{const t=e.split(/\s+/);return{given:t.shift()||"",family:t.join(" "),id:Qe()}}))}async function Y_(e){if(!e)return null;try{const t=await dp.get("".concat(K_).concat(e)),n=H_(t.data);return{type:"webpage",title:n("title").text(),author:function(e){let t=[];return t.push(e('.author[rel="author"]').text()),e('meta[name="author"], meta[name="article:author"]').each(((n,r)=>{t.push(e(r).attr("content")||"")})),e('span.css-1baulvz.last-byline[itemprop="name"]').each(((n,r)=>{t.push(e(r).text().trim())})),t=t.filter(((e,t,n)=>""!==e.trim()&&n.indexOf(e)===t)),X_(t)}(n),"container-title":n('meta[property="og:site_name"]').attr("content")||"",publisher:n('meta[property="article:publisher"]').attr("content"),accessed:W_(new Date),issued:W_(new Date(n('meta[name="date"]').attr("content")||n('meta[name="article:published_time"]').attr("content")||n('meta[property="article:published_time"]').attr("content")||n('meta[name="article:modified_time"]').attr("content")||n('meta[property="article:modified_time"]').attr("content")||n('meta[name="og:updated_time"]').attr("content")||n('meta[name="og:updated_time"]').attr("content")||n(".publication-date").text())),URL:n('meta[property="og:url"]').attr("content")||n('meta[name="url"]').attr("content")||n('link[rel="canonical"]').attr("href")||e}}catch(t){return console.error("Failed to retrieve content from ".concat(e,":"),t),null}}async function Q_(e){if(!e)return null;try{const t=e.replace(/doi:\s*/gi,""),n=await fetch("".concat(K_,"https://api.crossref.org/works/").concat(t)),r=(await n.json()).message;return{DOI:r.DOI,URL:r.URL||r.DOI?"https://doi.org/"+r.DOI:void 0,ISSN:r.ISSN,PMID:r.PMID,PMCID:r.PMCI,"container-title":r["container-title"][0],issue:r.issue,issued:r.issued,page:r.page,"publisher-place":r["publisher-place"],source:r.source,title:r.title,volume:r.volume,online:!0,type:"journal-article"===r.type?"article-journal":r.type,accessed:W_(new Date),author:r.author.map((e=>({...e,id:Qe()})))}}catch(t){return console.error("Failed to retrieve content from ".concat(e,": ").concat(t)),null}}async function $_(e){if(!e)return null;try{var t,n,r,i,s;const o=await fetch("https://openlibrary.org/search.json?q=isbn:".concat(e,"&mode=everything&fields=*,editions")),a=await o.json(),l=null===a||void 0===a?void 0:a.docs[0],u=null===l||void 0===l||null===(t=l.editions)||void 0===t?void 0:t.docs[0];return{type:"book",title:null===l||void 0===l?void 0:l.title,"number-of-pages":null===l||void 0===l?void 0:l.number_of_pages_median,author:X_(null===l||void 0===l?void 0:l.author_name),publisher:null===u||void 0===u||null===(n=u.publisher)||void 0===n?void 0:n[0],"publisher-place":null===u||void 0===u||null===(r=u.publish_place)||void 0===r?void 0:r[0],ISBN:(null===u||void 0===u||null===(i=u.isbn)||void 0===i?void 0:i[0])||e,issued:W_(new Date(null===u||void 0===u||null===(s=u.publish_date)||void 0===s?void 0:s[0])),accessed:W_(new Date)}}catch(o){return console.error("Failed to retrieve content from ".concat(e,": ").concat(o)),null}}function J_(e){var t,n,r,i,s,o,a,l,u;const{content:c,setContent:h,dateKey:p}=e;function d(e,t){var n,r,i;const s={year:null===(n=c[p])||void 0===n?void 0:n["date-parts"][0][0],month:null===(r=c[p])||void 0===r?void 0:r["date-parts"][0][1],day:null===(i=c[p])||void 0===i?void 0:i["date-parts"][0][2]};s[e]=t,h((e=>({...e,[p]:W_(s.year,s.month,s.day)})))}return(0,Ge.jsxs)("div",{className:"date-inputs-container",children:[(0,Ge.jsx)("input",{type:"number",value:null===(t=c[p])||void 0===t||null===(n=t["date-parts"])||void 0===n||null===(r=n[0])||void 0===r?void 0:r[0],min:"1",max:(new Date).getFullYear(),placeholder:"YYYY",onChange:e=>d("year",e.target.value)}),(0,Ge.jsx)("input",{type:"number",value:null===(i=c[p])||void 0===i||null===(s=i["date-parts"])||void 0===s||null===(o=s[0])||void 0===o?void 0:o[1],min:"1",max:"12",placeholder:"MM",onChange:e=>d("month",e.target.value)}),(0,Ge.jsx)("input",{type:"number",value:null===(a=c[p])||void 0===a||null===(l=a["date-parts"])||void 0===l||null===(u=l[0])||void 0===u?void 0:u[2],min:"1",max:"31",placeholder:"DD",onChange:e=>d("day",e.target.value)}),(0,Ge.jsx)("button",{type:"button",onClick:function(){h((e=>({...e,[p]:W_(new Date)})))},children:"Today"})]})}function Z_(e){const{content:t,setContent:n}=e;function r(e,r,i){const s=t.author.map((t=>t.id===e?{...t,[r]:i}:t));n((e=>({...e,author:s})))}return(0,Ge.jsxs)("div",{className:"author-inputs-container",children:[t&&t.author&&t.author.map((e=>(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("label",{htmlFor:"given-name family-name",children:"Author"}),(0,Ge.jsx)("input",{type:"text",name:"given-name",placeholder:"Author's first name",value:e.given,onChange:t=>{r(e.id,"given",t.target.value)},autoComplete:"false"}),(0,Ge.jsx)("input",{type:"text",name:"family-name",placeholder:"Author's last name",value:e.family,onChange:t=>{r(e.id,"family",t.target.value)},autoComplete:"false"})]},e.id))),(0,Ge.jsx)("button",{type:"button",onClick:function(){n((e=>({...e,author:[...Array.isArray(e.author)?e.author:[],{given:"",family:"",id:Qe()}]})))},children:"Add author"})]})}function eE(e){const{content:t,setContent:n,showAcceptDialog:r,handleAddReference:i,handleCancel:s}=e,[o,a]=(0,O.useState)(""),l=(0,O.useRef)(null);function u(e,t){n((n=>({...n,[e]:t})))}return(0,Ge.jsxs)("form",{className:"citation-form",onSubmit:i,children:[(0,Ge.jsx)("p",{children:"Insert the DOI here to fill the fields automatically:"}),(0,Ge.jsx)("label",{htmlFor:"auto-filler-doi",children:"DOI"}),(0,Ge.jsx)("input",{type:"text",name:"auto-filler-doi",placeholder:"Insert a DOI",ref:l,value:o,onChange:function(e){a(e.target.value)}}),(0,Ge.jsx)("button",{type:"button",onClick:function(){!async function(e){try{const t=await Q_(e);n((e=>({...e,...t})))}catch(t){t.response||"Network Error"!==t.message?r("No results found","Failed to retrieve information from DOI. Please check your internet connection and ensure the provided DOI is correct."):r("Network Error","Unable to retrieve the webpage due to network issues. Please check your internet connection and try again."),console.error(t)}}(l.current.value)},children:"Fill in"}),(0,Ge.jsx)("p",{children:"Or enter the article details manually:"}),(0,Ge.jsx)(Z_,{content:t,setContent:n}),(0,Ge.jsx)("label",{htmlFor:"title",children:"Article title"}),(0,Ge.jsx)("input",{type:"text",name:"title",value:t.title,placeholder:"Article title",onChange:e=>u("title",e.target.value),required:!0}),(0,Ge.jsx)("label",{htmlFor:"journal",children:"Journal title"}),(0,Ge.jsx)("input",{type:"text",name:"journal",value:t["container-title"],placeholder:"Journal title",onChange:e=>u("container-title",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"volume",children:"Volume"}),(0,Ge.jsx)("input",{type:"number",name:"volume",value:t.volume,placeholder:"Enter a number",onChange:e=>u("volume",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"issue",children:"Issue"}),(0,Ge.jsx)("input",{type:"number",name:"issue",value:t.issue,placeholder:"Enter a number",onChange:e=>u("issue",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"publication-date",children:"Publication date"}),(0,Ge.jsx)(J_,{name:"publication-date",content:t,setContent:n,dateKey:"issued"}),(0,Ge.jsx)("label",{htmlFor:"pages",children:"Pages"}),(0,Ge.jsx)("input",{type:"text",name:"pages",value:t.page,placeholder:"Page range",onChange:e=>u("page",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"issn",children:"ISSN"}),(0,Ge.jsx)("input",{type:"text",name:"issn",value:t.ISSN,placeholder:"ISSN number",onChange:e=>u("ISSN",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"online",children:"Accessed online?"}),(0,Ge.jsx)("input",{type:"checkbox",name:"online",checked:t.online,onChange:e=>u("online",e.target.value)}),t.online&&(0,Ge.jsxs)(Ge.Fragment,{children:[(0,Ge.jsx)("label",{htmlFor:"doi",children:"DOI"}),(0,Ge.jsx)("input",{type:"text",name:"doi",value:t.DOI,placeholder:"DOI",onChange:e=>u("DOI",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"access-date",children:"Access date"}),(0,Ge.jsx)(J_,{name:"access-date",content:t,setContent:n,dateKey:"accessed"})]}),(0,Ge.jsx)("button",{type:"sumbit",children:"Add reference"}),(0,Ge.jsx)("button",{type:"button",onClick:s,children:"Cancel"})]})}function tE(e){const{content:t,setContent:n,showAcceptDialog:r,handleAddReference:i,handleCancel:s}=e,[o,a]=(0,O.useState)(""),l=(0,O.useRef)(null);function u(e,t){n((n=>({...n,[e]:t})))}return(0,Ge.jsxs)("form",{className:"citation-form",onSubmit:e=>i(e,t),children:[(0,Ge.jsx)("p",{children:"Insert the URL (link) here to fill the fields automatically:"}),(0,Ge.jsx)("label",{htmlFor:"auto-filler-url",children:"URL"}),(0,Ge.jsx)("input",{type:"text",name:"auto-filler-url",placeholder:"Insert a URL",ref:l,value:o,onChange:function(e){a(e.target.value)}}),(0,Ge.jsx)("button",{type:"button",onClick:function(){!async function(e){try{const t=await Y_(e);n((e=>({...e,...t})))}catch(t){t.response||"Network Error"!==t.message?r("Webpage Access Error","We couldn't retrieve the information from the webpage you're attempting to cite. This may be due to the webpage being protected by a login or paywall."):r("Network Error","Unable to retrieve the webpage due to network issues. Please check your internet connection and try again."),console.error(t)}}(l.current.value)},children:"Fill in"}),(0,Ge.jsx)("p",{children:"Or enter webpage details manually:"}),(0,Ge.jsx)(Z_,{content:t,setContent:n}),(0,Ge.jsx)("label",{htmlFor:"title",children:"Title"}),(0,Ge.jsx)("input",{type:"text",name:"title",value:t.title,placeholder:"Page title",onChange:e=>u("title",e.target.value),required:!0}),(0,Ge.jsx)("label",{htmlFor:"website",children:"Website"}),(0,Ge.jsx)("input",{type:"text",name:"website",value:t["container-title"],placeholder:"Website title",onChange:e=>u("container-title",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"publication-date",children:"Publication date"}),(0,Ge.jsx)(J_,{name:"publication-date",content:t,setContent:n,dateKey:"issued"}),(0,Ge.jsx)("label",{htmlFor:"url",children:"URL (link)"}),(0,Ge.jsx)("input",{type:"text",name:"url",value:t.URL,placeholder:"URL (link)",onChange:e=>u("URL",e.target.value),required:!0}),(0,Ge.jsx)("label",{htmlFor:"access-date",children:"Access date"}),(0,Ge.jsx)(J_,{name:"access-date",content:t,setContent:n,dateKey:"accessed"}),(0,Ge.jsx)("button",{type:"submit",children:"Add reference"}),(0,Ge.jsx)("button",{type:"button",onClick:s,children:"Cancel"})]})}function nE(e){const{content:t,setContent:n,showAcceptDialog:r,handleAddReference:i,handleCancel:s}=e,[o,a]=(0,O.useState)(""),l=(0,O.useRef)(null);function u(e,t){n((n=>({...n,[e]:t})))}return(0,Ge.jsxs)("form",{className:"citation-form",onSubmit:i,children:[(0,Ge.jsx)("p",{children:"Insert the ISBN here to fill the fields automatically:"}),(0,Ge.jsx)("label",{htmlFor:"auto-filler-isbn",children:"ISBN"}),(0,Ge.jsx)("input",{type:"text",name:"auto-filler-isbn",placeholder:"Insert an ISBN",value:o,ref:l,onChange:function(e){a(e.target.value)}}),(0,Ge.jsx)("button",{type:"button",onClick:function(){!async function(e){try{const t=await $_(e);n((e=>({...e,...t})))}catch(t){t.response||"Network Error"!==t.message?r("No results found","Failed to retrieve information from ISBN. Please check your internet connection and ensure the provided ISBN is correct."):r("Network Error","Unable to retrieve the webpage due to network issues. Please check your internet connection and try again."),console.error(t)}}(l.current.value)},children:"Fill in"}),(0,Ge.jsx)("p",{children:"Or enter the book details manually:"}),(0,Ge.jsx)(Z_,{content:t,setContent:n}),(0,Ge.jsx)("label",{htmlFor:"title",children:"Book title"}),(0,Ge.jsx)("input",{type:"text",name:"title",value:null===t||void 0===t?void 0:t.title,placeholder:"Book title",onChange:e=>u("title",e.target.value),required:!0}),(0,Ge.jsx)("label",{htmlFor:"city",children:"Publisher place"}),(0,Ge.jsx)("input",{type:"text",name:"publisher-place",value:null===t||void 0===t?void 0:t["publisher-place"],placeholder:"Publisher place",onChange:e=>u("publisher-place",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"publisher",children:"Publisher"}),(0,Ge.jsx)("input",{type:"text",name:"publisher",value:null===t||void 0===t?void 0:t.publisher,placeholder:"Publisher",onChange:e=>u("publisher",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"publication-date",children:"Publication date"}),(0,Ge.jsx)(J_,{name:"publication-date",content:t,setContent:n,dateKey:"issued"}),(0,Ge.jsx)("label",{htmlFor:"pages",children:"Number of pages"}),(0,Ge.jsx)("input",{type:"number",name:"number-of-pages",value:null===t||void 0===t?void 0:t["number-of-pages"],placeholder:"Number of pages",onChange:e=>u("number-of-pages",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"edition",children:"Edition No."}),(0,Ge.jsx)("input",{type:"number",name:"edition",value:null===t||void 0===t?void 0:t.edition,placeholder:"Edition number (exept 1)",onChange:e=>u("edition",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"original-year",children:"Original published"}),(0,Ge.jsx)("input",{type:"number",name:"original-published",value:null===t||void 0===t?void 0:t.first_publish_year,placeholder:"Original published (year)",onChange:e=>u("first_publish_year",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"isbn",children:"ISBN"}),(0,Ge.jsx)("input",{type:"text",name:"isbn",value:null===t||void 0===t?void 0:t.ISBN,placeholder:"ISBN number",onChange:e=>u("ISBN",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"multi-volume",children:"Part of a multi-volume book?"}),(0,Ge.jsx)("input",{type:"checkbox",name:"multi-volume",checked:null===t||void 0===t?void 0:t.multiVolume,onChange:e=>u("multiVolume",e.target.checked)}),(null===t||void 0===t?void 0:t.multiVolume)&&(0,Ge.jsxs)(Ge.Fragment,{children:[(0,Ge.jsx)("label",{htmlFor:"volume",children:"Volume No."}),(0,Ge.jsx)("input",{type:"number",name:"volume",value:null===t||void 0===t?void 0:t.volume,placeholder:"Volume number",onChange:e=>u("volume",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"volume",children:"Number of volumes"}),(0,Ge.jsx)("input",{type:"number",name:"number-of-volumes",value:null===t||void 0===t?void 0:t["number-of-volumes"],placeholder:"Number of volumes",onChange:e=>u("number-of-volumes",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"volume-title",children:"Volume title"}),(0,Ge.jsx)("input",{type:"text",name:"volume-title",value:null===t||void 0===t?void 0:t.volumeTitle,placeholder:"Volume title",onChange:e=>u("volumeTitle",e.target.value)})]}),(0,Ge.jsx)("label",{htmlFor:"online",children:"Accessed online?"}),(0,Ge.jsx)("input",{type:"checkbox",name:"online",checked:null===t||void 0===t?void 0:t.online,onChange:e=>u("online",e.target.checked)}),(null===t||void 0===t?void 0:t.online)&&(0,Ge.jsxs)(Ge.Fragment,{children:[(0,Ge.jsx)("label",{htmlFor:"url",children:"DOI/URL"}),(0,Ge.jsx)("input",{type:"text",name:"url",value:(null===t||void 0===t?void 0:t.url)||(null===t||void 0===t?void 0:t.doi),placeholder:"DOI/URL",onChange:e=>u("url",e.target.value)}),(0,Ge.jsx)("label",{htmlFor:"access-date",children:"Access date"}),(0,Ge.jsx)(J_,{name:"access-date",content:t,setContent:n,dateKey:"accessDate"})]}),(0,Ge.jsx)("button",{type:"sumbit",children:"Add reference"}),(0,Ge.jsx)("button",{type:"button",onClick:s,children:"Cancel"})]})}const rE={CHECKED:"checked",UNCHECKED:"unchecked",INDETERMINATE:"indeterminate"},iE={appendix:{def:"A supplementary section at the end of a document.",placeholder:"eg., Appendix A or Appendix B",name:"Appendix",code:"appendix"},"article-locator":{def:"A unique identifier for an article, often used in digital or online publications.",placeholder:"eg., 12345",name:"Article Locator",code:"article-locator"},book:{def:"A specific book or volume within a series or collection.",placeholder:"eg., Book Title or Book Collection",name:"Book",code:"book"},canon:{def:"A standard or rule, often used in legal or religious contexts.",placeholder:"eg., 15 or 15-20",name:"Canon",code:"canon"},chapter:{def:"A specific chapter within a book.",placeholder:"eg., 5 or 5-7",name:"Chapter",code:"chapter"},column:{def:"A vertical division of text in a document, often in newspapers or magazines.",placeholder:"eg., 3 or 3-4",name:"Column",code:"column"},elocation:{def:"An electronic location identifier for digital content.",placeholder:"eg., e12345",name:"Elocation",code:"elocation"},equation:{def:"A specific equation within a text.",placeholder:"eg., 7",name:"Equation",code:"equation"},figure:{def:"A specific figure or illustration in a document.",placeholder:"eg., 2",name:"Figure",code:"figure"},folio:{def:"A leaf of a manuscript or book, numbered on the front side only.",placeholder:"eg., 10",name:"Folio",code:"folio"},issue:{def:"A specific issue of a journal or magazine.",placeholder:"eg., 4",name:"Issue",code:"issue"},line:{def:"A specific line in a poem, play, or other text.",placeholder:"eg., 23",name:"Line",code:"line"},note:{def:"A specific footnote or endnote in a text.",placeholder:"eg., 7",name:"Note",code:"note"},opus:{def:"A specific work or composition, often used in music.",placeholder:"eg., 22",name:"Opus",code:"opus"},page:{def:"A specific page or range of pages in a document.",placeholder:"eg., 3 or 9-22",name:"Page",code:"page"},paragraph:{def:"A specific paragraph in a document.",placeholder:"eg., 4 or 4-6",name:"Paragraph",code:"paragraph"},part:{def:"A specific part or section of a larger work.",placeholder:"eg., 2 or 2-3",name:"Part",code:"part"},rule:{def:"A specific rule or regulation, often used in legal or procedural contexts.",placeholder:"eg., 5 or 5-8",name:"Rule",code:"rule"},section:{def:"A specific section of a document.",placeholder:"eg., Introduction",name:"Section",code:"section"},"sub-verbo":{def:"An entry under a specific word or heading in a reference work.",placeholder:"eg., Equity",name:"Sub-Verbo",code:"sub-verbo"},supplement:{def:"A supplementary issue or addition to a publication.",placeholder:"eg., 1",name:"Supplement",code:"supplement"},table:{def:"A specific table within a document.",placeholder:"eg., 4",name:"Table",code:"table"},timestamp:{def:"A specific time marker, often used in audiovisual materials.",placeholder:"eg., 00:15:30",name:"Timestamp",code:"timestamp"},title:{def:"A specific title of a work or section within a larger work.",placeholder:"eg., Title",name:"Title",code:"title"},verse:{def:"A specific verse in a poem, song, or scripture.",placeholder:"eg., 7 or 2-16",name:"Verse",code:"verse"},volume:{def:"A specific volume within a series or set.",placeholder:"eg., 3 or 3-4",name:"Volume",code:"volume"}},sE=iE.page,oE=["apa","apa-6th-edition","modern-language-association","chicago-author-date","ieee","council-of-science-editors"];function aE(e){const{openCitationForm:t,openIntextCitationDialog:n}=e,r=Cu(),i=Iu(),[s,o]=(0,O.useState)([]),[a,l]=(0,O.useState)([]),[u,c]=(0,O.useState)(rE.UNCHECKED),h=mu();async function p(e){const t=e.ctrlKey;if(0===i.length)if(t){const t=$s().sanitize(e.target.innerHTML);e.dataTransfer.setData("text/html",t)}else e.dataTransfer.setData("text/plain",e.target.innerText);else{const n=document.createElement("div");for(const e of s){const t=(new DOMParser).parseFromString(e,"text/html").body.firstChild;n.appendChild(t),n.appendChild(document.createElement("br"))}if(t){const t=$s().sanitize(n.innerHTML);e.dataTransfer.setData("text/html",t)}else e.dataTransfer.setData("text/plain",n.innerText);n.remove()}}return(0,O.useEffect)((()=>{!function(){let e=0;null===r||void 0===r||r.citations.forEach((t=>{null!==t&&void 0!==t&&t.isChecked&&e++})),e===(null===r||void 0===r?void 0:r.citations.length)?c(rE.CHECKED):c(0===e?rE.UNCHECKED:rE.INDETERMINATE)}()}),[null===r||void 0===r?void 0:r.citations]),(0,O.useEffect)((()=>{!async function(){const e=await fo(null===r||void 0===r?void 0:r.citations,null===r||void 0===r?void 0:r.style);l(e)}()}),[null===r||void 0===r?void 0:r.citations,null===r||void 0===r?void 0:r.style]),(0,O.useEffect)((()=>{!async function(){const e=await fo(i,null===r||void 0===r?void 0:r.style);o(e)}()}),[i,null===r||void 0===r?void 0:r.style]),(0,Ge.jsxs)("div",{children:[(0,Ge.jsxs)("div",{children:[0!==(null===r||void 0===r?void 0:r.citations.length)&&(0,Ge.jsx)("input",{type:"checkbox",className:"master-checkbox",checked:u===rE.CHECKED,onChange:function(){h(Ll({bibliographyId:null===r||void 0===r?void 0:r.id}))}}),0!==(null===i||void 0===i?void 0:i.length)&&(0,Ge.jsx)("button",{onClick:n,children:"In-text citation"})]},"header"),(0,Ge.jsx)("div",{className:"max-w-[50rem] mx-auto p-4",children:null===a||void 0===a?void 0:a.map((e=>{const n=null===r||void 0===r?void 0:r.citations.find((t=>(null===t||void 0===t?void 0:t.id)===(new DOMParser).parseFromString(e,"text/html").querySelector("[data-csl-entry-id]").getAttribute("data-csl-entry-id"))),i=$s().sanitize(e);return(0,Ge.jsxs)("div",{className:"flex items-start justify-between py-2 px-2 space-y-2 space-x-2 rounded-md mb-1 transition-all duration-200 hover:bg-neutral-transparentGray ".concat(null!==n&&void 0!==n&&n.isChecked?"bg-secondary-100 hover:bg-secondary-200":""),draggable:!0,onDragStart:p,children:[(0,Ge.jsx)("input",{type:"checkbox",className:"top-0 m-0",checked:(null===n||void 0===n?void 0:n.isChecked)||!1,onChange:()=>{return e=n,void h(Pl({bibliographyId:r.id,citationId:e.id}));var e}}),(0,Ge.jsx)("div",{className:"font-cambo ".concat(/^(apa|modern-language-association|chicago)$/i.test(null===r||void 0===r?void 0:r.style.code)?"hanging-indentation":""),onClick:()=>t(null===n||void 0===n?void 0:n.content.type,!1,null===n||void 0===n?void 0:n.id),children:Lu(i)})]},null===n||void 0===n?void 0:n.id)}))},"entries-container")]})}function lE(e){const{setIntextCitationDialogVisible:t}=e,n=Cu(),r=Iu(),[i,s]=(0,O.useState)(""),[o,a]=(0,O.useState)(r.map((e=>e.content)));function l(e,t,n){a((r=>r.map((r=>r.id===e?{...r,[t]:n}:r))))}return(0,O.useEffect)((()=>{!async function(){const e=await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"html";return e?new Promise((async(r,i)=>{try{const i=e.map((e=>e.id)),s={retrieveLocale:function(e){var t=new XMLHttpRequest;return t.open("GET","".concat("/citeease","/locales/").concat(e,".xml"),!1),t.send(null),t.responseText},retrieveItem:t=>e.find((e=>t===e.id))},o=await bo(t),a=new(Lr().Engine)(s,o);a.updateItems(i);const l={properties:{noteIndex:0},citationItems:i.map((t=>{const n=e.find((e=>e.id===t));return{id:t,locator:n.locator,label:n.label}}))};r(a.previewCitationCluster(l,[],[],n))}catch(s){i(s)}})):null}(o,null===n||void 0===n?void 0:n.style,"html");s(e)}()}),[o,null===n||void 0===n?void 0:n.style]),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("div",{className:"font-cambo",children:i}),(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),o.map(((e,t)=>{var n,r;return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("div",{children:e.title||"".concat(e.author[0].family," ").concat(e.issued["date-parts"].join(" "))}),(0,Ge.jsx)("select",{value:(null===e||void 0===e?void 0:e.label)||sE.code,onChange:t=>l(e.id,"label",iE[t.target.value].code),children:Object.values(iE).map(((e,t)=>(0,Ge.jsx)("option",{value:e.code,children:e.name},t)))}),(0,Ge.jsx)("input",{name:"intext-locator",type:"text",placeholder:(null===(n=iE[e.label])||void 0===n?void 0:n.placeholder)||sE.placeholder,value:null===o||void 0===o?void 0:o.locator,onChange:t=>l(e.id,"locator",t.target.value)}),(0,Ge.jsx)("small",{children:(null===(r=iE[e.label])||void 0===r?void 0:r.def)||sE.def})]},t)}))]})}function uE(e){const{setAddCitationMenuVisible:t,openCitationForm:n,handleSearchByIdentifiers:r,handleImportCitation:i,handleSearchByTitle:s}=e,o=(0,O.useRef)();return(0,Ge.jsxs)("div",{className:"fixed bottom-[1rem] left-1/2 transform -translate-x-1/2",children:[(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{children:"Add citation"}),(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"})]}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("small",{children:"Experimental"}),(0,Ge.jsx)("label",{children:"Search by URL, DOI, ISBN, or PubMed and PMC identifiers:"}),(0,Ge.jsx)("textarea",{ref:o,name:"search-by-identifiers",placeholder:"Search by unique identifiers..."}),(0,Ge.jsx)("small",{children:"You can list all the identifiers at the same time."}),(0,Ge.jsx)("button",{onClick:()=>r(o.current.value),children:"Generate citations"})]}),(0,Ge.jsxs)("search",{children:[(0,Ge.jsx)("input",{type:"text",name:"search-by-title",placeholder:"Search by title..."}),(0,Ge.jsx)("button",{onClick:s,children:"Search"})]}),(0,Ge.jsx)("button",{onClick:i,children:"Import citation"}),(0,Ge.jsx)($e,{label:"Choose source type",options:Object.values(hL).map((e=>({label:e.label,method:()=>n(e.code,!0)}))),menuStyle:{position:"fixed",bottom:"100%",left:"50%",transform:"translateX(-50%)"}})]})}function cE(e){var t,n;const{showAcceptDialog:r,setCitationFormVisible:i}=e,s=Cu(),[o,a]=(0,O.useState)((null===s||void 0===s||null===(t=s.editedCitation)||void 0===t?void 0:t.content)||{}),l=mu();(0,O.useEffect)((()=>{var e;a((null===s||void 0===s||null===(e=s.editedCitation)||void 0===e?void 0:e.content)||{})}),[null===s||void 0===s||null===(n=s.editedCitation)||void 0===n?void 0:n.content]);const u={content:o,setContent:a,showAcceptDialog:r,handleAddReference:function(e){e.preventDefault(),l(Dl({bibliographyId:s.id,editedCitation:null===s||void 0===s?void 0:s.editedCitation})),i(!1)},handleCancel:function(){i(!1)}},c={[hL.ARTICLE_JOURNAL.code]:eE(u),[hL.BOOK.code]:nE(u),[hL.WEBPAGE.code]:tE(u)};return(0,O.useEffect)((()=>{l(Rl({bibliographyId:s.id,content:o}))}),[o]),(0,Ge.jsx)("div",{className:"citation-window",children:c[o.type]})}function hE(e){const{setLaTeXWindowVisible:t}=e,[n,r]=(0,O.useState)(""),[i,s]=(0,O.useState)(""),[o,a]=(0,O.useState)(""),[l,u]=(0,O.useState)(n),c=Iu();return(0,O.useEffect)((()=>{!async function(){r(await go(c,"bibtex")),s(await go(c,"biblatex")),a(await go(c,"bibtxt"))}()}),[c]),(0,Ge.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen bg-transparent bg-overlay-500",children:(0,Ge.jsxs)("div",{className:"top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] w-[50rem] min-h-[70vh] max-h-[80vh] bg-white",children:[(0,Ge.jsxs)("div",{className:"flex",children:[(0,Ge.jsxs)("div",{className:"flex",children:[(0,Ge.jsx)("button",{onClick:()=>u(n),children:"BibTex"}),(0,Ge.jsx)("button",{onClick:()=>u(i),children:"BibLaTeX"}),(0,Ge.jsx)("button",{onClick:()=>u(o),children:"BibTXT"})]}),(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"})]}),(0,Ge.jsx)("div",{className:"whitespace-pre-wrap",children:l||n})]})})}function pE(e){const{setMoveWindowVisible:t}=e,n=nu((e=>e.bibliographies)),r=Cu(),i=Iu(),[s,o]=(0,O.useState)([]),a=mu();return(0,Ge.jsxs)("div",{className:"move-window",children:[(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),n.map((e=>e.id!==r.id?(0,Ge.jsx)("div",{onClick:()=>function(e){const t=s.indexOf(e);o(-1!==t?t=>t.filter((t=>t!==e)):t=>[...t,e])}(e.id),children:(0,Ge.jsx)(Du,{bibliography:e,styles:{backgroundColor:e.id in s?"red":"unset"}})}):null)),(0,Ge.jsx)("button",{disabled:1!==s.length,onClick:()=>{return e=s[0],a(Ml({fromId:r.id,toId:e,checkedCitations:i})),t(!1),void o([]);var e},children:"Move"}),(0,Ge.jsx)("button",{disabled:0===s.length,onClick:function(){a(Fl({toIds:s,checkedCitations:i})),t(!1),o([])},children:"Copy"})]})}function dE(e){const{handleRename:t,setRenameWindowVisible:n}=e,[r,i]=(0,O.useState)(e.title);return(0,Ge.jsx)("div",{className:"rename-window",children:(0,Ge.jsxs)("form",{onSubmit:function(){n(!1),t(r)},children:[(0,Ge.jsx)("input",{type:"text",onChange:e=>i(e.target.value),placeholder:"Untitled Bibliography",value:r,name:"title-input"}),(0,Ge.jsx)("button",{type:"submit",children:"Rename"}),(0,Ge.jsx)("button",{onClick:()=>n(!1),children:"Cancel"})]})})}function mE(e){const{setCitationStyleMenuVisible:t,onStyleSelected:n}=e,[r,i]=(0,O.useState)([]),[s,o]=(0,O.useState)(""),a="Most popular styles",l="Other styles";(0,O.useEffect)((()=>{!async function(){const e=await fetch("".concat("/citeease","/styles.json")),t=await e.json();t.unshift(l);const n=t.sort(((e,t)=>oE.includes(null===e||void 0===e?void 0:e.code)?-1:oE.includes(null===t||void 0===t?void 0:t.code)?1:0));n.unshift(a),i(n)}()}),[]);const u=null===r||void 0===r?void 0:r.filter((e=>{var t,n;return e===a||e===l||(!s||function(e){let t=!1;for(let o=0;o<e.length;o++){var n,r,i;if(null!==(n=e[o])&&void 0!==n&&n.toLowerCase().includes(s.toLowerCase())||null!==(r=e[o])&&void 0!==r&&r.toLowerCase().split(/\s+|-/).map((e=>/\d/.test(e)?e.replace(/\D/g,""):e[0])).join("").includes(s.toLowerCase().replace(/\s+/g,""))||null!==(i=e[o])&&void 0!==i&&i.toLowerCase().replace(/\b(of|and|in|on|at|the|from|to|with|by|for|\(|\))\b/gi,"").split(/\s+|-/).map((e=>/\d/.test(e)?e.replace(/\D/g,""):e[0])).join("").includes(s.toLowerCase().replace(/\s+/g,""))){t=!0;break}}return t}([null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.long,null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.short,null===e||void 0===e?void 0:e.code]))}));return(0,Ge.jsxs)("div",{className:"citation-styles-menu",children:[(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),(0,Ge.jsx)("search",{children:(0,Ge.jsx)("form",{children:(0,Ge.jsx)("input",{type:"search",name:"citation-style-search-input",placeholder:"Find style by name...",value:s,onChange:e=>o(e.target.value)})})}),(0,Ge.jsx)(ec,{height:500,itemCount:u.length,itemSize:45,width:300,children:e=>{let{index:r,style:i}=e;const s=u[r];return/other styles|most popular/i.test(s)?(0,Ge.jsx)("h3",{style:i,children:s}):(0,Ge.jsx)("button",{style:i,onClick:()=>{n(s),t(!1)},children:s.name.long})}}),(0,Ge.jsxs)("small",{children:[(0,Ge.jsx)("b",{children:"Note:"})," Some less common citation styles may have formatting issues. If you encounter any problems, please report them by opening an issue on the"," ",(0,Ge.jsx)("a",{href:"https://github.com/citation-style-language/styles/issues",children:"CSL GitHub repository"})," or contact us at ",(0,Ge.jsx)("a",{href:"mailto:discontinuedlabs@gmail.com",children:"discontinuedlabs@gmail.com"}),"."]})]})}function fE(e){const{searchByIdentifiersInput:t,setSmartGeneratorDialogVisible:n}=e,r=Cu(),[i,s]=(0,O.useState)([]),[o,a]=(0,O.useState)(""),l=mu();return(0,O.useEffect)((()=>{!async function(){const e=t.split(/\n+/);let n=[];e.forEach((async e=>{let t;switch(function(e){const t=[/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()/:A-Z0-9[\]<>]+))\s*$/i,/^\s*((?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()/:A-Z0-9[\]<>]+))\s*$/i,/^\s*(10.\d{4,9}\/[-._;()/:A-Z0-9[\]<>]+)\s*$/i,/^10.\d{4,9}\/[-._;()/:A-Z0-9[\]<>]+$/i,/\b10\.\d{4,9}[-.\w]+\b/i],n=[/^(97[89])(?:-\d+){0,2}|\d{10}\s?|\d{13}\s?$|((97[89])?\d{9}\s?)(\d{5})$/,/^10\.(978|979)\.\d{2,8}\/\d{2,7}$/,/^(978|979)\d{10}$/,/^\d{10}$/];if(/(https?:\/\/[^\s]+)/g.test(e))return"url";for(let r of t)if(r.test(e.replace(/doi:\s*/gi,"")))return"doi";if(/^PMC\d+$/i.test(e.replace(/pmcid:\s*/g,"")))return"pmcid";if(/^pmid:\s*\d+$/i.test(e.replace(/\s+/g,"")))return"pmid";for(let r of n)if(r.test(e.replace(/-|\s+/g,"")))return"isbn"}(e)){case"url":t=await Y_(e);break;case"doi":t=await Q_(e);break;case"pmcid":t=await async function(e){if(!e)return null;try{var t;const n=e.replace(/pmcid:\s*|PMC|\s*/gi,""),r=await fetch("".concat(K_,"https://api.ncbi.nlm.nih.gov/lit/ctxp/v1/pmc/?format=csl&id=").concat(n)),i=await r.json();return{DOI:null===i||void 0===i?void 0:i.DOI,URL:null!==i&&void 0!==i&&i.URL||null!==i&&void 0!==i&&i.DOI?"https://doi.org/"+i.DOI:void 0,ISSN:null===i||void 0===i?void 0:i.ISSN,PMID:null===i||void 0===i?void 0:i.PMID,PMCID:null===i||void 0===i?void 0:i.PMCID,"container-title":null===i||void 0===i?void 0:i["container-title"],issue:null===i||void 0===i?void 0:i.issue,issued:null===i||void 0===i?void 0:i.issued,page:null===i||void 0===i?void 0:i.page,"publisher-place":null===i||void 0===i?void 0:i["publisher-place"],source:null===i||void 0===i?void 0:i.source,title:null===i||void 0===i?void 0:i.title,type:null===i||void 0===i?void 0:i.type,volume:null===i||void 0===i?void 0:i.volume,online:!0,accessed:W_(new Date),author:null===i||void 0===i||null===(t=i.author)||void 0===t?void 0:t.map((e=>({...e,id:Qe()})))}}catch(n){return console.error("Failed to retrieve content from ".concat(e,": ").concat(n)),null}}(e);break;case"pmid":t=await async function(e){if(!e)return null;try{var t;const n=e.replace(/pmid:\s*|\s*/gi,""),r=await fetch("".concat(K_,"https://api.ncbi.nlm.nih.gov/lit/ctxp/v1/pubmed/?format=csl&id=").concat(n)),i=await r.json();return{DOI:null===i||void 0===i?void 0:i.DOI,URL:null!==i&&void 0!==i&&i.URL||null!==i&&void 0!==i&&i.DOI?"https://doi.org/"+i.DOI:void 0,ISSN:null===i||void 0===i?void 0:i.ISSN,PMID:null===i||void 0===i?void 0:i.PMID,PMCID:null===i||void 0===i?void 0:i.PMCID,"container-title":null===i||void 0===i?void 0:i["container-title"],issue:null===i||void 0===i?void 0:i.issue,issued:null===i||void 0===i?void 0:i.issued,page:null===i||void 0===i?void 0:i.page,"publisher-place":null===i||void 0===i?void 0:i["publisher-place"],source:null===i||void 0===i?void 0:i.source,title:null===i||void 0===i?void 0:i.title,type:null===i||void 0===i?void 0:i.type,volume:null===i||void 0===i?void 0:i.volume,online:!0,accessed:W_(new Date),author:null===i||void 0===i||null===(t=i.author)||void 0===t?void 0:t.map((e=>({...e,id:Qe()})))}}catch(n){return console.error("Failed to retrieve content from ".concat(e,": ").concat(n)),null}}(e);break;case"isbn":t=await $_(e);break;default:return null}t?(n.push(t),l(Nl({bibliographyId:r.id,content:t}))):console.error("Couldn't find the content of the identifier "+e)})),s(n)}()}),[t,r.id,l]),(0,O.useEffect)((()=>{!async function(){const e=await fo(i.map((e=>({content:e}))),r.style),t=$s().sanitize(e);a(t)}()}),[i]),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>n(!1),children:"X"}),(0,Ge.jsx)("div",{children:Lu(o)}),(0,Ge.jsx)("button",{children:"Accept"})]})}function gE(e){var t,n;const{setTagsDialogVisible:r,onTagAdded:i,onTagRemoved:s}=e,o=Cu(),a=nu((e=>e.settings));return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>r(!1),children:"X"}),(0,Ge.jsx)("h3",{children:"Tags"}),(0,Ge.jsx)("div",{className:"flex gap-1 flex-wrap",children:null===o||void 0===o||null===(t=o.tags)||void 0===t?void 0:t.map(((e,t)=>(0,Ge.jsx)(Ou,{tagProps:e,onClick:s,showX:!0},t)))}),(0,Ge.jsx)("div",{className:"flex gap-1 flex-wrap",children:null===(n=a.tags)||void 0===n?void 0:n.filter((e=>{var t;return!(null!==o&&void 0!==o&&null!==(t=o.tags)&&void 0!==t&&t.some((t=>t.id===e.id)))})).map(((e,t)=>(0,Ge.jsx)(Ou,{tagProps:e,onClick:i},t)))})]})}function bE(e){const{setIsVisible:t,onSubmit:n}=e,[r,i]=(0,O.useState)(null),s=(0,O.useRef)(),o=(0,O.useRef)(),a=(0,O.useRef)(),l=(0,O.useId)();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{children:"Open collaboration"}),(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),(0,Ge.jsx)("p",{children:"Choose a unique identifer and a password for you collaborative bibliography."}),(0,Ge.jsx)("pre",{children:r}),(0,Ge.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),o.current.value!==a.current.value)i("Password do not match");else{const r=new FormData(e.target);n(Object.fromEntries(r.entries())),t(!1)}},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(l,"-id"),children:"Unique identifer"}),(0,Ge.jsx)("input",{ref:s,type:"text",id:"".concat(l,"-id"),name:"id",required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(l,"-password"),children:"Password"}),(0,Ge.jsx)("input",{ref:o,type:"password",id:"".concat(l,"-password"),name:"password",required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(l,"-confirmPassword"),children:"Confirm password"}),(0,Ge.jsx)("input",{ref:a,type:"password",id:"".concat(l,"-confirmPassword"),name:"confirmPassword",required:!0}),(0,Ge.jsx)("button",{type:"submit",children:"Open collaboration"})]})]})}var yE=n(4931);const vE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,p=63&l;a||(p=64,s||(h=64)),r.push(n[u],n[c],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new EE;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class EE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TE=function(e){return function(e){const t=vE(e);return _E.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xE=function(e){try{return _E.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const wE=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,AE=()=>{try{return wE()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/citeease",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&xE(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},SE=e=>{var t,n;return null===(n=null===(t=AE())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},kE=()=>{var e;return null===(e=AE())||void 0===e?void 0:e.config},CE=e=>{var t;return null===(t=AE())||void 0===t?void 0:t["_".concat(e)]};class IE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function NE(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function OE(){return!function(){var e;const t=null===(e=AE())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RE(){try{return"object"===typeof indexedDB}catch(e){return!1}}class DE extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,DE.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PE.prototype.create)}}class PE{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(LE,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new DE(n,s,t)}}const LE=/\{\$([^}]+)}/g;function ME(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(FE(n)&&FE(s)){if(!ME(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FE(e){return null!==e&&"object"===typeof e}function jE(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function BE(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function UE(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class HE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=qE),void 0===r.error&&(r.error=qE),void 0===r.complete&&(r.complete=qE);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function qE(){}function zE(e){return e&&e._delegate?e._delegate:e}class VE{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const GE="[DEFAULT]";class KE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new IE;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:GE})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Yp){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(Yp){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE;return this.component?this.component.multipleInstances?e:GE:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function WE(e){return e===GE?void 0:e}class XE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const YE=[];var QE;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(QE||(QE={}));const $E={debug:QE.DEBUG,verbose:QE.VERBOSE,info:QE.INFO,warn:QE.WARN,error:QE.ERROR,silent:QE.SILENT},JE=QE.INFO,ZE={[QE.DEBUG]:"log",[QE.VERBOSE]:"log",[QE.INFO]:"info",[QE.WARN]:"warn",[QE.ERROR]:"error"},eT=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ZE[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class tT{constructor(e){this.name=e,this._logLevel=JE,this._logHandler=eT,this._userLogHandler=null,YE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in QE))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?$E[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,QE.DEBUG,...t),this._logHandler(this,QE.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,QE.VERBOSE,...t),this._logHandler(this,QE.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,QE.INFO,...t),this._logHandler(this,QE.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,QE.WARN,...t),this._logHandler(this,QE.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,QE.ERROR,...t),this._logHandler(this,QE.ERROR,...t)}}const nT=(e,t)=>t.some((t=>e instanceof t));let rT,iT;const sT=new WeakMap,oT=new WeakMap,aT=new WeakMap,lT=new WeakMap,uT=new WeakMap;let cT={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return oT.get(e);if("objectStoreNames"===t)return e.objectStoreNames||aT.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dT(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hT(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mT(this),n),dT(sT.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dT(e.apply(mT(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(mT(this),t,...r);return aT.set(s,t.sort?t.sort():[t]),dT(s)}}function pT(e){return"function"===typeof e?hT(e):(e instanceof IDBTransaction&&function(e){if(oT.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));oT.set(e,t)}(e),nT(e,rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,cT):e)}function dT(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(dT(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&sT.set(t,e)})).catch((()=>{})),uT.set(t,e),t}(e);if(lT.has(e))return lT.get(e);const t=pT(e);return t!==e&&(lT.set(e,t),uT.set(t,e)),t}const mT=e=>uT.get(e);const fT=["get","getKey","getAll","getAllKeys","count"],gT=["put","add","delete","clear"],bT=new Map;function yT(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(bT.get(t))return bT.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fT.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return bT.set(t,s),s}var vT;vT=e=>({...e,get:(t,n,r)=>yT(t,n)||e.get(t,n,r),has:(t,n)=>!!yT(t,n)||e.has(t,n)}),cT=vT(cT);class _T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ET="@firebase/app",TT="0.10.5",xT=new tT("@firebase/app"),wT="@firebase/app-compat",AT="@firebase/analytics-compat",ST="@firebase/analytics",kT="@firebase/app-check-compat",CT="@firebase/app-check",IT="@firebase/auth",NT="@firebase/auth-compat",OT="@firebase/database",RT="@firebase/database-compat",DT="@firebase/functions",PT="@firebase/functions-compat",LT="@firebase/installations",MT="@firebase/installations-compat",FT="@firebase/messaging",jT="@firebase/messaging-compat",BT="@firebase/performance",UT="@firebase/performance-compat",HT="@firebase/remote-config",qT="@firebase/remote-config-compat",zT="@firebase/storage",VT="@firebase/storage-compat",GT="@firebase/firestore",KT="@firebase/vertexai-preview",WT="@firebase/firestore-compat",XT="firebase",YT="[DEFAULT]",QT={[ET]:"fire-core",[wT]:"fire-core-compat",[ST]:"fire-analytics",[AT]:"fire-analytics-compat",[CT]:"fire-app-check",[kT]:"fire-app-check-compat",[IT]:"fire-auth",[NT]:"fire-auth-compat",[OT]:"fire-rtdb",[RT]:"fire-rtdb-compat",[DT]:"fire-fn",[PT]:"fire-fn-compat",[LT]:"fire-iid",[MT]:"fire-iid-compat",[FT]:"fire-fcm",[jT]:"fire-fcm-compat",[BT]:"fire-perf",[UT]:"fire-perf-compat",[HT]:"fire-rc",[qT]:"fire-rc-compat",[zT]:"fire-gcs",[VT]:"fire-gcs-compat",[GT]:"fire-fst",[WT]:"fire-fst-compat",[KT]:"fire-vertex","fire-js":"fire-js",[XT]:"fire-js-all"},$T=new Map,JT=new Map,ZT=new Map;function ex(e,t){try{e.container.addComponent(t)}catch(n){xT.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function tx(e){const t=e.name;if(ZT.has(t))return xT.debug("There were multiple attempts to register component ".concat(t,".")),!1;ZT.set(t,e);for(const n of $T.values())ex(n,e);for(const n of JT.values())ex(n,e);return!0}function nx(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rx(e){return void 0!==e.settings}const ix=new PE("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sx{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new VE("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ix.create("app-deleted",{appName:this._name})}}const ox="10.12.2";function ax(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:YT,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ix.create("bad-app-name",{appName:String(i)});if(n||(n=kE()),!n)throw ix.create("no-options");const s=$T.get(i);if(s){if(ME(n,s.options)&&ME(r,s.config))return s;throw ix.create("duplicate-app",{appName:i})}const o=new XE(i);for(const l of ZT.values())o.addComponent(l);const a=new sx(n,r,o);return $T.set(i,a),a}function lx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YT;const t=$T.get(e);if(!t&&e===YT&&kE())return ax();if(!t)throw ix.create("no-app",{appName:e});return t}function ux(e,t,n){var r;let i=null!==(r=QT[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xT.warn(e.join(" "))}tx(new VE("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const cx="firebase-heartbeat-database",hx=1,px="firebase-heartbeat-store";let dx=null;function mx(){return dx||(dx=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=dT(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(dT(o.result),e.oldVersion,e.newVersion,dT(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(cx,hx,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(px)}catch(n){console.warn(n)}}}).catch((e=>{throw ix.create("idb-open",{originalErrorMessage:e.message})}))),dx}async function fx(e,t){try{const n=(await mx()).transaction(px,"readwrite"),r=n.objectStore(px);await r.put(t,gx(e)),await n.done}catch(n){if(n instanceof DE)xT.warn(n.message);else{const e=ix.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xT.warn(e.message)}}}function gx(e){return"".concat(e.name,"!").concat(e.options.appId)}class bx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vx(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yx();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=yx(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),_x(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_x(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=TE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function yx(){return(new Date).toISOString().substring(0,10)}class vx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!RE()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await mx()).transaction(px),n=await t.objectStore(px).get(gx(e));return await t.done,n}catch(t){if(t instanceof DE)xT.warn(t.message);else{const e=ix.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xT.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fx(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fx(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _x(e){return TE(JSON.stringify({version:2,heartbeats:e})).length}var Ex;Ex="",tx(new VE("platform-logger",(e=>new _T(e)),"PRIVATE")),tx(new VE("heartbeat",(e=>new bx(e)),"PRIVATE")),ux(ET,TT,Ex),ux(ET,TT,"esm2017"),ux("fire-js","");ux("firebase","10.12.2","app");function Tx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wx=xx,Ax=new PE("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sx=new tT("@firebase/auth");function kx(e){if(Sx.logLevel<=QE.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sx.error("Auth (".concat(ox,"): ").concat(e),...n)}}function Cx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Rx(e,...n)}function Ix(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rx(e,...n)}function Nx(e,t,n){const r=Object.assign(Object.assign({},wx()),{[t]:n});return new PE("auth","Firebase",r).create(t,{appName:e.name})}function Ox(e){return Nx(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ax.create(e,...n)}function Dx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Rx(t,...r)}}function Px(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kx(t),new Error(t)}function Lx(e,t){e||Px(t)}function Mx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fx(){return"http:"===jx()||"https:"===jx()}function jx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Bx(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fx()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ux{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lx(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(NE())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Bx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hx(e,t){Lx(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class qx{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Px("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Px("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Px("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vx=new Ux(3e4,6e4);function Gx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Kx(e,t,n,r){return Wx(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=jE(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),qx.fetch()(Yx(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Wx(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zx),t);try{const t=new $x(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Jx(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jx(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Jx(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Jx(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Nx(e,a,o);Cx(e,a)}}catch(i){if(i instanceof DE)throw i;Cx(e,"network-request-failed",{message:String(i)})}}async function Xx(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Kx(e,t,n,r,i);return"mfaPendingCredential"in s&&Cx(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Yx(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Hx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Qx(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $x{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ix(this.auth,"network-request-failed"))),Vx.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jx(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ix(e,t,r);return i.customData._tokenResponse=n,i}function Zx(e){return void 0!==e&&void 0!==e.enterprise}class ew{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qx(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function tw(e,t){return Kx(e,"GET","/v2/recaptchaConfig",Gx(e,t))}async function nw(e,t){return Kx(e,"POST","/v1/accounts:lookup",t)}function rw(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function iw(e){return 1e3*Number(e)}function sw(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kx("JWT malformed, contained fewer than 3 sections"),null;try{const e=xE(n);return e?JSON.parse(e):(kx("Failed to decode base64 JWT payload"),null)}catch(i){return kx("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function ow(e){const t=sw(e);return Dx(t,"internal-error"),Dx("undefined"!==typeof t.exp,"internal-error"),Dx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function aw(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof DE&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class lw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class uw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rw(this.lastLoginAt),this.creationTime=rw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cw(e){var t;const n=e.auth,r=await e.getIdToken(),i=await aw(e,nw(n,{idToken:r}));Dx(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?hw(s.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uw(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}function hw(e){return e.map((e=>{var{providerId:t}=e,n=Tx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class pw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dx(e.idToken,"internal-error"),Dx("undefined"!==typeof e.idToken,"internal-error"),Dx("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Dx(0!==e.length,"internal-error");const t=ow(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Dx(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Wx(e,{},(async()=>{const n=jE({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Yx(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",qx.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pw;return n&&(Dx("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Dx("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Dx("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pw,this.toJSON())}_performRefresh(){return Px("not implemented")}}function dw(e,t){Dx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mw{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Tx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new uw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await aw(this,this.stsTokenManager.getToken(this.auth,e));return Dx(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=zE(e),r=await n.getIdToken(t),i=sw(r);Dx(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rw(iw(i.auth_time)),issuedAtTime:rw(iw(i.iat)),expirationTime:rw(iw(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=zE(e);await cw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Dx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mw(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Dx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rx(this.auth.app))return Promise.reject(Ox(this.auth));const e=await this.getIdToken();return await aw(this,async function(e,t){return Kx(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:T}=t;Dx(y&&T,e,"internal-error");const x=pw.fromJSON(this.name,T);Dx("string"===typeof y,e,"internal-error"),dw(c,e.name),dw(h,e.name),Dx("boolean"===typeof v,e,"internal-error"),Dx("boolean"===typeof _,e,"internal-error"),dw(p,e.name),dw(d,e.name),dw(m,e.name),dw(f,e.name),dw(g,e.name),dw(b,e.name);const w=new mw({uid:y,auth:e,email:h,emailVerified:v,displayName:c,isAnonymous:_,photoURL:d,phoneNumber:p,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:b});return E&&Array.isArray(E)&&(w.providerData=E.map((e=>Object.assign({},e)))),f&&(w._redirectEventId=f),w}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pw;r.updateFromServerResponse(t);const i=new mw({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cw(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Dx(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?hw(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new pw;o.updateFromIdToken(n);const a=new mw({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new uw(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const fw=new Map;function gw(e){Lx(e instanceof Function,"Expected a class definition");let t=fw.get(e);return t?(Lx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fw.set(e,t),t)}class bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bw.type="NONE";const yw=bw;function vw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class _w{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=vw(this.userKey,r.apiKey,i),this.fullPersistenceKey=vw("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mw._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new _w(gw(yw),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||gw(yw);const s=vw(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=mw._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(Yp){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(Yp){}}))),new _w(i,e,n)):new _w(i,e,n)}}function Ew(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Aw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kw(t))return"Blackberry";if(Cw(t))return"Webos";if(xw(t))return"Safari";if((t.includes("chrome/")||ww(t))&&!t.includes("edge/"))return"Chrome";if(Sw(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Tw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/firefox\//i.test(e)}function xw(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ww(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/crios\//i.test(e)}function Aw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/iemobile/i.test(e)}function Sw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/android/i.test(e)}function kw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/blackberry/i.test(e)}function Cw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/webos/i.test(e)}function Iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nw(){return function(){const e=NE();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE();return Iw(e)||Sw(e)||Cw(e)||kw(e)||/windows phone/i.test(e)||Aw(e)}function Rw(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ew(NE());break;case"Worker":t="".concat(Ew(NE()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ox,"/").concat(r)}class Dw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Pw{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Lw{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fw(this),this.idTokenSubscription=new Fw(this),this.beforeStateQueue=new Dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gw(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await _w.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await nw(this,{idToken:e}),n=await mw._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rx(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Dx(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cw(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rx(this.app))return Promise.reject(Ox(this));const t=e?zE(e):null;return t&&Dx(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Dx(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return rx(this.app)?Promise.reject(Ox(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rx(this.app)?Promise.reject(Ox(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(gw(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Kx(e,"GET","/v2/passwordPolicy",Gx(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pw(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new PE("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Kx(e,"POST","/v2/accounts:revokeToken",Gx(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gw(e)||this._popupRedirectResolver;Dx(t,this,"argument-error"),this.redirectPersistenceManager=await _w.create(this,[gw(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dx(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dx(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Sx.logLevel<=QE.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sx.warn("Auth (".concat(ox,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Mw(e){return zE(e)}class Fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new HE(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Dx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bw(e){return jw.loadJS(e)}function Uw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Hw{constructor(e){this.type="recaptcha-enterprise",this.auth=Mw(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Zx(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{tw(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ew(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Zx(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=jw.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Bw(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function qw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Hw(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zw(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qw(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await qw(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Vw(e,t,n){const r=Mw(e);Dx(r._canInitEmulator,r,"emulator-config-failed"),Dx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Gw(t),{host:o,port:a}=function(e){const t=Gw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Kw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Kw(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ww{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Px("not implemented")}_getIdTokenResponse(e){return Px("not implemented")}_linkToIdToken(e,t){return Px("not implemented")}_getReauthenticationResolver(e){return Px("not implemented")}}async function Xw(e,t){return Kx(e,"POST","/v1/accounts:signUp",t)}async function Yw(e,t){return Xx(e,"POST","/v1/accounts:signInWithPassword",Gx(e,t))}async function Qw(e,t){return Kx(e,"POST","/v1/accounts:sendOobCode",Gx(e,t))}async function $w(e,t){return Qw(e,t)}class Jw extends Ww{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jw(e,t,"password")}static _fromEmailAndCode(e,t){return new Jw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return zw(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Yw);case"emailLink":return async function(e,t){return Xx(e,"POST","/v1/accounts:signInWithEmailLink",Gx(e,t))}(e,{email:this._email,oobCode:this._password});default:Cx(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return zw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xw);case"emailLink":return async function(e,t){return Xx(e,"POST","/v1/accounts:signInWithEmailLink",Gx(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cx(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zw(e,t){return Xx(e,"POST","/v1/accounts:signInWithIdp",Gx(e,t))}class eA extends Ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cx("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Tx(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new eA(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Zw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jE(t)}return e}}const tA={USER_NOT_FOUND:"user-not-found"};class nA extends Ww{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new nA({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new nA({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Xx(e,"POST","/v1/accounts:signInWithPhoneNumber",Gx(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Xx(e,"POST","/v1/accounts:signInWithPhoneNumber",Gx(e,t));if(n.temporaryProof)throw Jx(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Xx(e,"POST","/v1/accounts:signInWithPhoneNumber",Gx(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tA)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new nA({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rA{constructor(e){var t,n,r,i,s,o;const a=BE(UE(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Dx(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=BE(UE(e)).link,n=t?BE(UE(t)).deep_link_id:null,r=BE(UE(e)).deep_link_id;return(r?BE(UE(r)).link:null)||r||n||t||e}(e);try{return new rA(t)}catch(Yp){return null}}}class iA{constructor(){this.providerId=iA.PROVIDER_ID}static credential(e,t){return Jw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rA.parseLink(t);return Dx(n,"argument-error"),Jw._fromEmailAndCode(e,n.code,n.tenantId)}}iA.PROVIDER_ID="password",iA.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oA extends sA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aA extends oA{constructor(){super("facebook.com")}static credential(e){return eA._fromParams({providerId:aA.PROVIDER_ID,signInMethod:aA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aA.credentialFromTaggedObject(e)}static credentialFromError(e){return aA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return aA.credential(t.oauthAccessToken)}catch(Yp){return null}}}aA.FACEBOOK_SIGN_IN_METHOD="facebook.com",aA.PROVIDER_ID="facebook.com";class lA extends oA{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eA._fromParams({providerId:lA.PROVIDER_ID,signInMethod:lA.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return lA.credentialFromTaggedObject(e)}static credentialFromError(e){return lA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lA.credential(n,r)}catch(Yp){return null}}}lA.GOOGLE_SIGN_IN_METHOD="google.com",lA.PROVIDER_ID="google.com";class uA extends oA{constructor(){super("github.com")}static credential(e){return eA._fromParams({providerId:uA.PROVIDER_ID,signInMethod:uA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uA.credentialFromTaggedObject(e)}static credentialFromError(e){return uA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uA.credential(t.oauthAccessToken)}catch(Yp){return null}}}uA.GITHUB_SIGN_IN_METHOD="github.com",uA.PROVIDER_ID="github.com";class cA extends oA{constructor(){super("twitter.com")}static credential(e,t){return eA._fromParams({providerId:cA.PROVIDER_ID,signInMethod:cA.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cA.credentialFromTaggedObject(e)}static credentialFromError(e){return cA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cA.credential(n,r)}catch(Yp){return null}}}async function hA(e,t){return Xx(e,"POST","/v1/accounts:signUp",Gx(e,t))}cA.TWITTER_SIGN_IN_METHOD="twitter.com",cA.PROVIDER_ID="twitter.com";class pA{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mw._fromIdTokenResponse(e,n,r),s=dA(n);return new pA({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=dA(n);return new pA({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function dA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class mA extends DE{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,mA.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new mA(e,t,n,r)}}function fA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw mA._fromErrorAndOperation(e,n,t,r);throw n}))}async function gA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await aw(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pA._forOperation(e,"link",r)}async function bA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(rx(r.app))return Promise.reject(Ox(r));const i="reauthenticate";try{const s=await aw(e,fA(r,i,t,e),n);Dx(s.idToken,r,"internal-error");const o=sw(s.idToken);Dx(o,r,"internal-error");const{sub:a}=o;return Dx(e.uid===a,r,"user-mismatch"),pA._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Cx(r,"user-mismatch"),s}}async function yA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(rx(e.app))return Promise.reject(Ox(e));const r="signIn",i=await fA(e,r,t),s=await pA._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function vA(e,t){return yA(Mw(e),t)}async function _A(e,t){return bA(zE(e),t)}function EA(e,t,n){var r;Dx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Dx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Dx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Dx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function TA(e){const t=Mw(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xA(e,t){const n=zE(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&EA(n.auth,r,t);const{email:i}=await async function(e,t){return Qw(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function wA(e,t,n){const r=zE(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&EA(r.auth,i,n);const{email:s}=await async function(e,t){return Qw(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function AA(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await aw(e,async function(e,t){return Kx(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}new WeakMap;const SA="__sak";class kA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(SA,"1"),this.storage.removeItem(SA),Promise.resolve(!0)):Promise.resolve(!1)}catch(Yp){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class CA extends kA{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=NE();return xw(e)||Iw(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Nw()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CA.type="LOCAL";const IA=CA;class NA extends kA{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NA.type="SESSION";const OA=NA;class RA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new RA(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function DA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}RA.receivers=[];class PA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=DA("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function LA(){return window}function MA(){return"undefined"!==typeof LA().WorkerGlobalScope&&"function"===typeof LA().importScripts}const FA="firebaseLocalStorageDb",jA="firebaseLocalStorage",BA="fbase_key";class UA{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function HA(e,t){return e.transaction([jA],t?"readwrite":"readonly").objectStore(jA)}function qA(){const e=indexedDB.open(FA,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(jA,{keyPath:BA})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(jA)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(FA);return new UA(e).toPromise()}(),t(await qA()))}))}))}async function zA(e,t,n){const r=HA(e,!0).put({[BA]:t,value:n});return new UA(r).toPromise()}function VA(e,t){const n=HA(e,!0).delete(t);return new UA(n).toPromise()}class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await qA()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=RA._getInstance(MA()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new PA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Yp){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qA();return await zA(e,SA,"1"),await VA(e,SA),!0}catch(Yp){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>zA(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=HA(e,!1).get(t),r=await new UA(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>VA(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=HA(e,!1).getAll();return new UA(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}GA.type="LOCAL";const KA=GA;Uw("rcb"),new Ux(3e4,6e4);const WA="recaptcha";async function XA(e,t,n){var r;const i=await n.verify();try{let s;if(Dx("string"===typeof i,e,"argument-error"),Dx(n.type===WA,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Dx("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Kx(e,"POST","/v2/accounts/mfaEnrollment:start",Gx(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Dx("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Dx(n,e,"missing-multi-factor-info");const o=await function(e,t){return Kx(e,"POST","/v2/accounts/mfaSignIn:start",Gx(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Kx(e,"POST","/v1/accounts:sendVerificationCode",Gx(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class YA{constructor(e){this.providerId=YA.PROVIDER_ID,this.auth=Mw(e)}verifyPhoneNumber(e,t){return XA(this.auth,e,zE(t))}static credential(e,t){return nA._fromVerification(e,t)}static credentialFromResult(e){const t=e;return YA.credentialFromTaggedObject(t)}static credentialFromError(e){return YA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?nA._fromTokenResponse(n,r):null}}function QA(e,t){return t?gw(t):(Dx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}YA.PROVIDER_ID="phone",YA.PHONE_SIGN_IN_METHOD="phone";class $A extends Ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JA(e){return yA(e.auth,new $A(e),e.bypassAuthState)}function ZA(e){const{auth:t,user:n}=e;return Dx(n,t,"internal-error"),bA(n,new $A(e),e.bypassAuthState)}async function eS(e){const{auth:t,user:n}=e;return Dx(n,t,"internal-error"),gA(n,new $A(e),e.bypassAuthState)}class tS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JA;case"linkViaPopup":case"linkViaRedirect":return eS;case"reauthViaPopup":case"reauthViaRedirect":return ZA;default:Cx(this.auth,"internal-error")}}resolve(e){Lx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nS=new Ux(2e3,1e4);class rS extends tS{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,rS.currentPopupAction&&rS.currentPopupAction.cancel(),rS.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dx(e,this.auth,"internal-error"),e}async onExecution(){Lx(1===this.filter.length,"Popup operations only handle one event");const e=DA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ix(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ix(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rS.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ix(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,nS.get())};e()}}rS.currentPopupAction=null;const iS="pendingRedirect",sS=new Map;class oS extends tS{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sS.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=uS(t),r=lS(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}sS.set(this.auth._key(),e)}return this.bypassAuthState||sS.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function aS(e,t){sS.set(e._key(),t)}function lS(e){return gw(e._redirectPersistence)}function uS(e){return vw(iS,e.config.apiKey,e.name)}async function cS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(rx(e.app))return Promise.reject(Ox(e));const r=Mw(e),i=QA(r,t),s=new oS(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class hS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!dS(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ix(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function dS(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const mS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fS=/^https?/;async function gS(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Kx(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(bS(n))return}catch(Yp){}Cx(e,"unauthorized-domain")}function bS(e){const t=Mx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fS.test(n))return!1;if(mS.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yS=new Ux(3e4,6e4);function vS(){const e=LA().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function _S(e){return new Promise(((t,n)=>{var r,i,s;function o(){vS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vS(),n(Ix(e,"network-request-failed"))},timeout:yS.get()})}if(null===(i=null===(r=LA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=LA().gapi)||void 0===s?void 0:s.load)){const t=Uw("iframefcb");return LA()[t]=()=>{gapi.load?o():n(Ix(e,"network-request-failed"))},Bw("".concat(jw.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw ES=null,e}))}let ES=null;const TS=new Ux(5e3,15e3),xS="__/auth/iframe",wS="emulator/auth/iframe",AS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kS(e){const t=e.config;Dx(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hx(t,wS):"https://".concat(e.config.authDomain,"/").concat(xS),r={apiKey:t.apiKey,appName:e.name,v:ox},i=SS.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(jE(r).slice(1))}async function CS(e){const t=await function(e){return ES=ES||_S(e),ES}(e),n=LA().gapi;return Dx(n,e,"internal-error"),t.open({where:document.body,url:kS(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AS,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ix(e,"network-request-failed"),s=LA().setTimeout((()=>{r(i)}),TS.get());function o(){LA().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const IS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class NS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function OS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IS),{width:r.toString(),height:i.toString(),top:s,left:o}),u=NE().toLowerCase();n&&(a=ww(u)?"_blank":n),Tw(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Iw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:NE())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new NS(null);const h=window.open(t||"",a,c);Dx(h,e,"popup-blocked");try{h.focus()}catch(p){}return new NS(h)}const RS="__/auth/handler",DS="emulator/auth/handler",PS=encodeURIComponent("fac");async function LS(e,t,n,r,i,s){Dx(e.config.authDomain,e,"auth-domain-config-required"),Dx(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ox,eventId:i};if(t instanceof sA){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof oA){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(PS,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(RS);return Hx(t,DS)}(e),"?").concat(jE(a).slice(1)).concat(u)}const MS="webStorageSupport";const FS=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OA,this._completeRedirectFn=cS,this._overrideRedirectResult=aS}async _openPopup(e,t,n,r){var i;Lx(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return OS(e,await LS(e,t,n,Mx(),r),DA())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){LA().location.href=e}(await LS(e,t,n,Mx(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Lx(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await CS(e),n=new hS(e);return t.register("authEvent",(t=>{Dx(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MS,{type:MS},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[MS];void 0!==i&&t(!!i),Cx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ow()||xw()||Iw()}};var jS="@firebase/auth",BS="1.7.4";class US{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Dx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const HS=CE("authIdTokenMaxAge")||300;let qS=null;var zS,VS;zS={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ix("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},jw=zS,VS="Browser",tx(new VE("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Dx(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:VS,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(VS)},u=new Lw(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),tx(new VE("auth-internal",(e=>(e=>new US(e))(Mw(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ux(jS,BS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(VS)),ux(jS,BS,"esm2017");var GS,KS,WS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},XS={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return p(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function p(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function d(e,t){return e.add(p(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new f(a,a);if(h(e))return t=g(p(e),t),new f(p(t.g),p(t.h));if(h(t))return t=g(e,p(t)),new f(p(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=b(n),r=b(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=d(e,i.j(t)),new f(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=d(e,u)}return new f(i,e)}function b(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-p(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+p(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=d(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=d(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?p(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?p(this).j(p(e)):p(p(this).j(e));if(h(e))return p(this.j(p(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,d=65535&this.i(i),f=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=d*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=d*f,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*f,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,KS=XS.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},GS=XS.Integer=r}).apply("undefined"!==typeof WS?WS:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var YS,QS,$S,JS,ZS,ek,tk,nk,rk,ik="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sk={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ik&&ik];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function p(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function d(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function f(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var b=-1!=f().indexOf("Gecko")&&!(-1!=f().toLowerCase().indexOf("webkit")&&-1==f().indexOf("Edge"))&&!(-1!=f().indexOf("Trident")||-1!=f().indexOf("MSIE"))&&-1==f().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_.length;t++)n=_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function T(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x(e){i.setTimeout((()=>{throw e}),0)}function w(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var A=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=A.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);k=()=>{e.then(O)}};var O=()=>{for(var e;e=w();){try{e.h.call(e.g)}catch(n){x(n)}var t=A;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(b){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,D);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function H(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}H.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=z(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new B(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var V="closure_lm_"+(1e6*Math.random()|0),G={};function K(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[V]=l=new H(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)X(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=z(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(q(n,e),0==n.h&&(n.src=null,t[V]=null)):U(e)}}}function $(e){return e in G?G[e]:G[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[V])instanceof H?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new H(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;E(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&q(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,R),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}h(le,R);var ue=[];function ce(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,pe=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function me(){}function fe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var be={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function ve(){D.call(this,"c")}h(ye,D),h(ve,D);var _e={},Ee=null;function Te(){return Ee=Ee||new ne}function xe(e){D.call(this,_e.La,e)}function we(e){const t=Te();re(t,new xe(t))}function Ae(e,t){D.call(this,_e.STAT_EVENT,e),this.stat=t}function Se(e){const t=Te();re(t,new Ae(t,e))}function ke(e,t){D.call(this,_e.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}_e.La="serverreachability",h(xe,D),_e.STAT_EVENT="statevent",h(Ae,D),_e.Ma="timingevent",h(ke,D),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Oe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(Pe,me),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Oe=new Pe;var Fe={},je={};function Be(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),ze(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),At(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),we(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function He(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,Ve(e,e.I)}function Ve(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(u(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Xe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=pn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ge(a),ze(a)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Yt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}we()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const p=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>p)&&(3!=p||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=p||7==t||we(),Ge(this);var n=this.g.Z();this.X=n;t:if(He(this)){var r=Kt(this.g);e="";var s=r.length,o=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,p,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Se(12),We(this),Ke(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=qe(this,a),e==je){4==p&&(this.s=4,Se(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Se(15),Ne(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Xe(this,e)}if(He(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=p||0!=a.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Se(11))}}else Ne(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),Ke(this)}else Ne(this.i,this.l,a,null),Xe(this,a);4==p&&We(this),this.o&&!this.J&&(4==p?ln(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=T(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),We(this),Ke(this)}}}catch(p){}},Le.prototype.cancel=function(){this.J=!0,We(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(we(),Se(17)),We(this),this.s=2,Ke(this)):Ve(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=pt(t[2]||""),this.g=pt(t[3]||"",!0),lt(this,t[4]),this.l=pt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=pt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?pt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),At(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,vt)),e.i=new Et(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?yt:bt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,_t)),e.join("")};var ft,gt=/[#\/\?@]/g,bt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,_t=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){Tt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wt(e,t){return Tt(e),t=St(e,t),e.g.has(t)}function At(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),p(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new de}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){Tt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Tt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Tt(this);let t=[];if("string"===typeof e)wt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Tt(this),this.i=null,wt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Nt,me),Nt.prototype.g=function(){return new Ot(this.l,this.j)},Nt.prototype.i=(ft={},function(){return ft}),h(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Pt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var jt=/^https?$/i,Bt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ht(e),zt(e)}function Ht(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!jt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Ht(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Vt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Vt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lk){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}hn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;k||N(),C||(k(),C=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{It(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;k||N(),C||(k(),C=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Te(),new ke(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),kt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)})).catch((()=>{clearTimeout(r),kt(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(d(e.ka,t),d(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function pn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function mn(){}function fn(){}function gn(e,t){ne.call(this),this.g=new Xt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function bn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){ve.call(this),this.status=1}function vn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?fe(this.o):fe(Oe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?qt(this):this.bb())},e.bb=function(){qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(ft){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(ft){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Xt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=pn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=v(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},h(bn,ye),h(yn,ve),h(vn,mn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new bn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,rk=sk.createWebChannelTransport=function(){return new fn},nk=sk.getStatEventTarget=function(){return Te()},tk=sk.Event=_e,ek=sk.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,ZS=sk.ErrorCode=Re,De.COMPLETE="complete",JS=sk.EventType=De,ge.EventType=be,be.OPEN="a",be.CLOSE="b",be.ERROR="c",be.MESSAGE="d",ne.prototype.listen=ne.prototype.K,$S=sk.WebChannel=ge,QS=sk.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,YS=sk.XhrIo=Ft}).apply("undefined"!==typeof ik?ik:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ok="@firebase/firestore";class ak{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ak.UNAUTHENTICATED=new ak(null),ak.GOOGLE_CREDENTIALS=new ak("google-credentials-uid"),ak.FIRST_PARTY=new ak("first-party-uid"),ak.MOCK_USER=new ak("mock-user");let lk="10.12.1";const uk=new tT("@firebase/firestore");function ck(){return uk.logLevel}function hk(e){if(uk.logLevel<=QE.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mk);uk.debug("Firestore (".concat(lk,"): ").concat(e),...i)}}function pk(e){if(uk.logLevel<=QE.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mk);uk.error("Firestore (".concat(lk,"): ").concat(e),...i)}}function dk(e){if(uk.logLevel<=QE.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mk);uk.warn("Firestore (".concat(lk,"): ").concat(e),...i)}}function mk(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(lk,") INTERNAL ASSERTION FAILED: ")+e;throw pk(t),new Error(t)}function gk(e,t){e||fk()}function bk(e,t){return e}const yk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vk extends DE{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class _k{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ek{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Tk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ak.UNAUTHENTICATED)))}shutdown(){}}class xk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wk{constructor(e){this.t=e,this.currentUser=ak.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _k;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _k,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{hk("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(hk("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _k)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(hk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(gk("string"==typeof t.accessToken),new Ek(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gk(null===e||"string"==typeof e),new ak(e)}}class Ak{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ak.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Sk{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ak(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ak.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ck{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&hk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,hk("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{hk("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):hk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(gk("string"==typeof e.token),this.R=e.token,new kk(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ik(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Nk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ik(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ok(e,t){return e<t?-1:e>t?1:0}function Rk(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Dk{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vk(yk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vk(yk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vk(yk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vk(yk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dk.fromMillis(Date.now())}static fromDate(e){return Dk.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Dk(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ok(this.nanoseconds,e.nanoseconds):Ok(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pk{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pk(e)}static min(){return new Pk(new Dk(0,0))}static max(){return new Pk(new Dk(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lk{constructor(e,t,n){void 0===t?t=0:t>e.length&&fk(),void 0===n?n=e.length-t:n>e.length-t&&fk(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Lk.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lk?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mk extends Lk{construct(e,t,n){return new Mk(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vk(yk.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Mk(e)}static emptyPath(){return new Mk([])}}const Fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jk extends Lk{construct(e,t,n){return new jk(e,t,n)}static isValidIdentifier(e){return Fk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jk.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jk(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vk(yk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vk(yk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vk(yk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vk(yk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jk(t)}static emptyPath(){return new jk([])}}class Bk{constructor(e){this.path=e}static fromPath(e){return new Bk(Mk.fromString(e))}static fromName(e){return new Bk(Mk.fromString(e).popFirst(5))}static empty(){return new Bk(Mk.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mk.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mk.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bk(new Mk(e.slice()))}}class Uk{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Uk.UNKNOWN_ID=-1;function Hk(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pk.fromTimestamp(1e9===r?new Dk(n+1,0):new Dk(n,r));return new zk(i,Bk.empty(),t)}function qk(e){return new zk(e.readTime,e.key,-1)}class zk{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zk(Pk.min(),Bk.empty(),-1)}static max(){return new zk(Pk.max(),Bk.empty(),-1)}}function Vk(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Bk.comparator(e.documentKey,t.documentKey),0!==n?n:Ok(e.largestBatchId,t.largestBatchId))}const Gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wk(e){if(e.code!==yk.FAILED_PRECONDITION||e.message!==Gk)throw e;hk("LocalStore","Unexpectedly lost primary lease")}class Xk{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xk(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Xk?t:Xk.resolve(t)}catch(e){return Xk.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Xk.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Xk.reject(t)}static resolve(e){return new Xk(((t,n)=>{t(e)}))}static reject(e){return new Xk(((t,n)=>{n(e)}))}static waitFor(e){return new Xk(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Xk.resolve(!1);for(const n of e)t=t.next((e=>e?Xk.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Xk(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Xk(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Yk(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qk(e){return"IndexedDbTransactionError"===e.name}class $k{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Jk(e){return null==e}function Zk(e){return 0===e&&1/e==-1/0}function eC(e){return"number"==typeof e&&Number.isInteger(e)&&!Zk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}$k.oe=-1;const tC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rC=nC;function iC(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sC(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class aC{constructor(e,t){this.comparator=e,this.root=t||uC.EMPTY}insert(e,t){return new aC(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uC.BLACK,null,null))}remove(e){return new aC(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uC.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lC(this.root,e,this.comparator,!1)}getReverseIterator(){return new lC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lC(this.root,e,this.comparator,!0)}}class lC{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class uC{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:uC.RED,this.left=null!=r?r:uC.EMPTY,this.right=null!=i?i:uC.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new uC(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return uC.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return uC.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,uC.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,uC.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fk();if(this.right.isRed())throw fk();const e=this.left.check();if(e!==this.right.check())throw fk();return e+(this.isRed()?0:1)}}uC.EMPTY=null,uC.RED=!0,uC.BLACK=!1,uC.EMPTY=new class{constructor(){this.size=0}get key(){throw fk()}get value(){throw fk()}get color(){throw fk()}get left(){throw fk()}get right(){throw fk()}copy(e,t,n,r,i){return this}insert(e,t,n){return new uC(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cC{constructor(e){this.comparator=e,this.data=new aC(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hC(this.data.getIterator())}getIteratorFrom(e){return new hC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof cC))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cC(this.comparator);return t.data=e,t}}class hC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pC{constructor(e){this.fields=e,e.sort(jk.comparator)}static empty(){return new pC([])}unionWith(e){let t=new cC(jk.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pC(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rk(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class dC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mC{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dC("Invalid base64 string: "+e):e}}(e);return new mC(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new mC(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ok(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mC.EMPTY_BYTE_STRING=new mC("");const fC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gC(e){if(gk(!!e),"string"==typeof e){let t=0;const n=fC.exec(e);if(gk(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bC(e.seconds),nanos:bC(e.nanos)}}function bC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yC(e){return"string"==typeof e?mC.fromBase64String(e):mC.fromUint8Array(e)}function vC(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _C(e){const t=e.mapValue.fields.__previous_value__;return vC(t)?_C(t):t}function EC(e){const t=gC(e.mapValue.fields.__local_write_time__.timestampValue);return new Dk(t.seconds,t.nanos)}class TC{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class xC{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xC("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xC&&e.projectId===this.projectId&&e.database===this.database}}const wC={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function AC(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vC(e)?4:jC(e)?9007199254740991:10:fk()}function SC(e,t){if(e===t)return!0;const n=AC(e);if(n!==AC(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return EC(e).isEqual(EC(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gC(e.timestampValue),r=gC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yC(e.bytesValue).isEqual(yC(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bC(e.geoPointValue.latitude)===bC(t.geoPointValue.latitude)&&bC(e.geoPointValue.longitude)===bC(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bC(e.integerValue)===bC(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bC(e.doubleValue),r=bC(t.doubleValue);return n===r?Zk(n)===Zk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rk(e.arrayValue.values||[],t.arrayValue.values||[],SC);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iC(n)!==iC(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!SC(n[i],r[i])))return!1;return!0}(e,t);default:return fk()}}function kC(e,t){return void 0!==(e.values||[]).find((e=>SC(e,t)))}function CC(e,t){if(e===t)return 0;const n=AC(e),r=AC(t);if(n!==r)return Ok(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ok(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bC(e.integerValue||e.doubleValue),r=bC(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return IC(e.timestampValue,t.timestampValue);case 4:return IC(EC(e),EC(t));case 5:return Ok(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yC(e),r=yC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ok(n[i],r[i]);if(0!==e)return e}return Ok(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ok(bC(e.latitude),bC(t.latitude));return 0!==n?n:Ok(bC(e.longitude),bC(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=CC(n[i],r[i]);if(e)return e}return Ok(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wC.mapValue&&t===wC.mapValue)return 0;if(e===wC.mapValue)return 1;if(t===wC.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ok(r[o],s[o]);if(0!==e)return e;const t=CC(n[r[o]],i[s[o]]);if(0!==t)return t}return Ok(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fk()}}function IC(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ok(e,t);const n=gC(e),r=gC(t),i=Ok(n.seconds,r.seconds);return 0!==i?i:Ok(n.nanos,r.nanos)}function NC(e){return OC(e)}function OC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gC(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yC(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Bk.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=OC(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(OC(e.fields[i]));return n+"}"}(e.mapValue):fk()}function RC(e){return!!e&&"integerValue"in e}function DC(e){return!!e&&"arrayValue"in e}function PC(e){return!!e&&"nullValue"in e}function LC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function MC(e){return!!e&&"mapValue"in e}function FC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sC(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=FC(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=FC(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class BC{constructor(e){this.value=e}static empty(){return new BC({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!MC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=FC(t)}setAll(e){let t=jk.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=FC(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());MC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return SC(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];MC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sC(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new BC(FC(this.value))}}function UC(e){const t=[];return sC(e.fields,((e,n)=>{const r=new jk([e]);if(MC(n)){const e=UC(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new pC(t)}class HC{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new HC(e,0,Pk.min(),Pk.min(),Pk.min(),BC.empty(),0)}static newFoundDocument(e,t,n,r){return new HC(e,1,t,Pk.min(),n,r,0)}static newNoDocument(e,t){return new HC(e,2,t,Pk.min(),Pk.min(),BC.empty(),0)}static newUnknownDocument(e,t){return new HC(e,3,t,Pk.min(),Pk.min(),BC.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pk.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=BC.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=BC.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pk.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof HC&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new HC(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class qC{constructor(e,t){this.position=e,this.inclusive=t}}function zC(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Bk.comparator(Bk.fromName(o.referenceValue),n.key):CC(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!SC(e.position[n],t.position[n]))return!1;return!0}class GC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function KC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class WC{}class XC extends WC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nI(e,t,n):"array-contains"===t?new oI(e,n):"in"===t?new aI(e,n):"not-in"===t?new lI(e,n):"array-contains-any"===t?new uI(e,n):new XC(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rI(e,n):new iI(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(CC(t,this.value)):null!==t&&AC(this.value)===AC(t)&&this.matchesComparison(CC(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fk()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class YC extends WC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new YC(e,t)}matches(e){return QC(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QC(e){return"and"===e.op}function $C(e){return JC(e)&&QC(e)}function JC(e){for(const t of e.filters)if(t instanceof YC)return!1;return!0}function ZC(e){if(e instanceof XC)return e.field.canonicalString()+e.op.toString()+NC(e.value);if($C(e))return e.filters.map((e=>ZC(e))).join(",");{const t=e.filters.map((e=>ZC(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function eI(e,t){return e instanceof XC?function(e,t){return t instanceof XC&&e.op===t.op&&e.field.isEqual(t.field)&&SC(e.value,t.value)}(e,t):e instanceof YC?function(e,t){return t instanceof YC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&eI(n,t.filters[r])),!0)}(e,t):void fk()}function tI(e){return e instanceof XC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(NC(e.value))}(e):e instanceof YC?function(e){return e.op.toString()+" {"+e.getFilters().map(tI).join(" ,")+"}"}(e):"Filter"}class nI extends XC{constructor(e,t,n){super(e,t,n),this.key=Bk.fromName(n.referenceValue)}matches(e){const t=Bk.comparator(e.key,this.key);return this.matchesComparison(t)}}class rI extends XC{constructor(e,t){super(e,"in",t),this.keys=sI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class iI extends XC{constructor(e,t){super(e,"not-in",t),this.keys=sI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sI(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Bk.fromName(e.referenceValue)))}class oI extends XC{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return DC(t)&&kC(t.arrayValue,this.value)}}class aI extends XC{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kC(this.value.arrayValue,t)}}class lI extends XC{constructor(e,t){super(e,"not-in",t)}matches(e){if(kC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kC(this.value.arrayValue,t)}}class uI extends XC{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!DC(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>kC(this.value.arrayValue,e)))}}class cI{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function hI(e){return new cI(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pI(e){const t=bk(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ZC(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jk(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>NC(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>NC(e))).join(",")),t.ue=e}return t.ue}function dI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!KC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!eI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!VC(e.startAt,t.startAt)&&VC(e.endAt,t.endAt)}function mI(e){return Bk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class fI{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gI(e,t,n,r,i,s,o,a){return new fI(e,t,n,r,i,s,o,a)}function bI(e){return new fI(e)}function yI(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vI(e){return null!==e.collectionGroup}function _I(e){const t=bk(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cC(jk.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new GC(r,n))})),e.has(jk.keyField().canonicalString())||t.ce.push(new GC(jk.keyField(),n))}return t.ce}function EI(e){const t=bk(e);return t.le||(t.le=TI(t,_I(e))),t.le}function TI(e,t){if("F"===e.limitType)return hI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new GC(e.field,t)}));const n=e.endAt?new qC(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qC(e.startAt.position,e.startAt.inclusive):null;return hI(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xI(e,t,n){return new fI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wI(e,t){return dI(EI(e),EI(t))&&e.limitType===t.limitType}function AI(e){return"".concat(pI(EI(e)),"|lt:").concat(e.limitType)}function SI(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>tI(e))).join(", "),"]")),Jk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>NC(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>NC(e))).join(",")),"Target(".concat(t,")")}(EI(e)),"; limitType=").concat(e.limitType,")")}function kI(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _I(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=zC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_I(e),t))&&!(e.endAt&&!function(e,t,n){const r=zC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_I(e),t))}(e,t)}function CI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function II(e){return(t,n)=>{let r=!1;for(const i of _I(e)){const e=NI(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function NI(e,t,n){const r=e.field.isKeyField()?Bk.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?CC(r,i):fk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fk()}}class OI{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sC(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}const RI=new aC(Bk.comparator);function DI(){return RI}const PI=new aC(Bk.comparator);function LI(){let e=PI;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function MI(e){let t=PI;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function FI(){return BI()}function jI(){return BI()}function BI(){return new OI((e=>e.toString()),((e,t)=>e.isEqual(t)))}const UI=new aC(Bk.comparator),HI=new cC(Bk.comparator);function qI(){let e=HI;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const zI=new cC(Ok);function VI(){return zI}function GI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zk(t)?"-0":t}}function KI(e){return{integerValue:""+e}}function WI(e,t){return eC(t)?KI(t):GI(e,t)}class XI{constructor(){this._=void 0}}function YI(e,t,n){return e instanceof JI?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vC(t)&&(t=_C(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ZI?eN(e,t):e instanceof tN?nN(e,t):function(e,t){const n=$I(e,t),r=iN(n)+iN(e.Pe);return RC(n)&&RC(e.Pe)?KI(r):GI(e.serializer,r)}(e,t)}function QI(e,t,n){return e instanceof ZI?eN(e,t):e instanceof tN?nN(e,t):n}function $I(e,t){return e instanceof rN?function(e){return RC(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class JI extends XI{}class ZI extends XI{constructor(e){super(),this.elements=e}}function eN(e,t){const n=sN(t);for(const r of e.elements)n.some((e=>SC(e,r)))||n.push(r);return{arrayValue:{values:n}}}class tN extends XI{constructor(e){super(),this.elements=e}}function nN(e,t){let n=sN(t);for(const r of e.elements)n=n.filter((e=>!SC(e,r)));return{arrayValue:{values:n}}}class rN extends XI{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function iN(e){return bC(e.integerValue||e.doubleValue)}function sN(e){return DC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class oN{constructor(e,t){this.version=e,this.transformResults=t}}class aN{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new aN}static exists(e){return new aN(void 0,e)}static updateTime(e){return new aN(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class uN{}function cN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _N(e.key,aN.none()):new fN(e.key,e.data,aN.none());{const n=e.data,r=BC.empty();let i=new cC(jk.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gN(e.key,r,new pC(i.toArray()),aN.none())}}function hN(e,t,n){e instanceof fN?function(e,t,n){const r=e.value.clone(),i=yN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gN?function(e,t,n){if(!lN(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pN(e,t,n,r){return e instanceof fN?function(e,t,n,r){if(!lN(e.precondition,t))return n;const i=e.value.clone(),s=vN(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gN?function(e,t,n,r){if(!lN(e.precondition,t))return n;const i=vN(e.fieldTransforms,r,t),s=t.data;return s.setAll(bN(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return lN(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dN(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$I(r.transform,e||null);null!=i&&(null===n&&(n=BC.empty()),n.set(r.field,i))}return n||null}function mN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rk(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ZI&&t instanceof ZI||e instanceof tN&&t instanceof tN?Rk(e.elements,t.elements,SC):e instanceof rN&&t instanceof rN?SC(e.Pe,t.Pe):e instanceof JI&&t instanceof JI}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fN extends uN{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gN extends uN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bN(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function yN(e,t,n){const r=new Map;gk(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,QI(o,a,n[i]))}return r}function vN(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,YI(e,s,t))}return r}class _N extends uN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EN extends uN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TN{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hN(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=pN(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=pN(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=jI();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=cN(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Pk.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qI())}isEqual(e){return this.batchId===e.batchId&&Rk(this.mutations,e.mutations,((e,t)=>mN(e,t)))&&Rk(this.baseMutations,e.baseMutations,((e,t)=>mN(e,t)))}}class xN{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){gk(e.mutations.length===n.length);let r=UI;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new xN(e,t,n,r)}}class wN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class AN{constructor(e,t){this.count=e,this.unchangedNames=t}}var SN,kN;function CN(e){switch(e){default:return fk();case yk.CANCELLED:case yk.UNKNOWN:case yk.DEADLINE_EXCEEDED:case yk.RESOURCE_EXHAUSTED:case yk.INTERNAL:case yk.UNAVAILABLE:case yk.UNAUTHENTICATED:return!1;case yk.INVALID_ARGUMENT:case yk.NOT_FOUND:case yk.ALREADY_EXISTS:case yk.PERMISSION_DENIED:case yk.FAILED_PRECONDITION:case yk.ABORTED:case yk.OUT_OF_RANGE:case yk.UNIMPLEMENTED:case yk.DATA_LOSS:return!0}}function IN(e){if(void 0===e)return pk("GRPC error has no .code"),yk.UNKNOWN;switch(e){case SN.OK:return yk.OK;case SN.CANCELLED:return yk.CANCELLED;case SN.UNKNOWN:return yk.UNKNOWN;case SN.DEADLINE_EXCEEDED:return yk.DEADLINE_EXCEEDED;case SN.RESOURCE_EXHAUSTED:return yk.RESOURCE_EXHAUSTED;case SN.INTERNAL:return yk.INTERNAL;case SN.UNAVAILABLE:return yk.UNAVAILABLE;case SN.UNAUTHENTICATED:return yk.UNAUTHENTICATED;case SN.INVALID_ARGUMENT:return yk.INVALID_ARGUMENT;case SN.NOT_FOUND:return yk.NOT_FOUND;case SN.ALREADY_EXISTS:return yk.ALREADY_EXISTS;case SN.PERMISSION_DENIED:return yk.PERMISSION_DENIED;case SN.FAILED_PRECONDITION:return yk.FAILED_PRECONDITION;case SN.ABORTED:return yk.ABORTED;case SN.OUT_OF_RANGE:return yk.OUT_OF_RANGE;case SN.UNIMPLEMENTED:return yk.UNIMPLEMENTED;case SN.DATA_LOSS:return yk.DATA_LOSS;default:return fk()}}(kN=SN||(SN={}))[kN.OK=0]="OK",kN[kN.CANCELLED=1]="CANCELLED",kN[kN.UNKNOWN=2]="UNKNOWN",kN[kN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kN[kN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kN[kN.NOT_FOUND=5]="NOT_FOUND",kN[kN.ALREADY_EXISTS=6]="ALREADY_EXISTS",kN[kN.PERMISSION_DENIED=7]="PERMISSION_DENIED",kN[kN.UNAUTHENTICATED=16]="UNAUTHENTICATED",kN[kN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kN[kN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kN[kN.ABORTED=10]="ABORTED",kN[kN.OUT_OF_RANGE=11]="OUT_OF_RANGE",kN[kN.UNIMPLEMENTED=12]="UNIMPLEMENTED",kN[kN.INTERNAL=13]="INTERNAL",kN[kN.UNAVAILABLE=14]="UNAVAILABLE",kN[kN.DATA_LOSS=15]="DATA_LOSS";let NN=null;function ON(){return new TextEncoder}const RN=new GS([4294967295,4294967295],0);function DN(e){const t=ON().encode(e),n=new KS;return n.update(t),new Uint8Array(n.digest())}function PN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new GS([n,r],0),new GS([i,s],0)]}class LN{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new MN("Invalid padding: ".concat(t));if(n<0)throw new MN("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new MN("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new MN("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=GS.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(GS.fromNumber(n)));return 1===r.compare(RN)&&(r=new GS([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=DN(e),[n,r]=PN(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new LN(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=DN(e),[n,r]=PN(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class MN extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class FN{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,jN.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new FN(Pk.min(),r,new aC(Ok),DI(),qI())}}class jN{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jN(n,t,qI(),qI(),qI())}}class BN{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class UN{constructor(e,t){this.targetId=e,this.me=t}}class HN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mC.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qN{constructor(){this.fe=0,this.ge=GN(),this.pe=mC.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=qI(),t=qI(),n=qI();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fk()}})),new jN(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=GN()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gk(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zN{constructor(e){this.Le=e,this.Be=new Map,this.ke=DI(),this.qe=VN(),this.Qe=new aC(Ok)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:fk()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(mI(i))if(0===n){const e=new Bk(i.path);this.Ue(t,e,HC.newNoDocument(e,Pk.min()))}else gk(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==NN||NN.et(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},p=t.unchangedNames;return p&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==p?void 0:p.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==p?void 0:p.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==p?void 0:p.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=yC(n).toUint8Array()}catch(e){if(e instanceof dC)return dk("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new LN(s,r,i)}catch(e){return dk(e instanceof MN?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&mI(i.target)){const t=new Bk(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,HC.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=qI();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new FN(e,t,this.Qe,this.ke,n);return this.ke=DI(),this.qe=VN(),this.Qe=new aC(Ok),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new qN,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new cC(Ok),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||hk("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qN),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function VN(){return new aC(Bk.comparator)}function GN(){return new aC(Bk.comparator)}const KN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XN={and:"AND",or:"OR"};class YN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QN(e,t){return e.useProto3Json||Jk(t)?t:{value:t}}function $N(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function JN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ZN(e,t){return $N(e,t.toTimestamp())}function eO(e){return gk(!!e),Pk.fromTimestamp(function(e){const t=gC(e);return new Dk(t.seconds,t.nanos)}(e))}function tO(e,t){return nO(e,t).canonicalString()}function nO(e,t){const n=function(e){return new Mk(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function rO(e){const t=Mk.fromString(e);return gk(xO(t)),t}function iO(e,t){return tO(e.databaseId,t.path)}function sO(e,t){const n=rO(t);if(n.get(1)!==e.databaseId.projectId)throw new vk(yk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vk(yk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bk(uO(n))}function oO(e,t){return tO(e.databaseId,t)}function aO(e){const t=rO(e);return 4===t.length?Mk.emptyPath():uO(t)}function lO(e){return new Mk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uO(e){return gk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cO(e,t,n){return{name:iO(e,t),fields:n.value.mapValue.fields}}function hO(e,t){let n;if(t instanceof fN)n={update:cO(e,t.key,t.value)};else if(t instanceof _N)n={delete:iO(e,t.key)};else if(t instanceof gN)n={update:cO(e,t.key,t.data),updateMask:TO(t.fieldMask)};else{if(!(t instanceof EN))return fk();n={verify:iO(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof JI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ZI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tN)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rN)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw fk()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ZN(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fk()}(e,t.precondition)),n}function pO(e,t){return{documents:[oO(e,t.path)]}}function dO(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oO(e,i);const s=function(e){if(0!==e.length)return EO(YC.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:vO(e.field),direction:gO(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=QN(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function mO(e){let t=aO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gk(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=fO(e);return t instanceof YC&&$C(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new GC(_O(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Jk(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new qC(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new qC(n,t)}(n.endAt)),gI(t,i,o,s,a,"F",l,u)}function fO(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_O(e.unaryFilter.field);return XC.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_O(e.unaryFilter.field);return XC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_O(e.unaryFilter.field);return XC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_O(e.unaryFilter.field);return XC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fk()}}(e):void 0!==e.fieldFilter?function(e){return XC.create(_O(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fk()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return YC.create(e.compositeFilter.filters.map((e=>fO(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fk()}}(e.compositeFilter.op))}(e):fk()}function gO(e){return KN[e]}function bO(e){return WN[e]}function yO(e){return XN[e]}function vO(e){return{fieldPath:e.canonicalString()}}function _O(e){return jk.fromServerFormat(e.fieldPath)}function EO(e){return e instanceof XC?function(e){if("=="===e.op){if(LC(e.value))return{unaryFilter:{field:vO(e.field),op:"IS_NAN"}};if(PC(e.value))return{unaryFilter:{field:vO(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LC(e.value))return{unaryFilter:{field:vO(e.field),op:"IS_NOT_NAN"}};if(PC(e.value))return{unaryFilter:{field:vO(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vO(e.field),op:bO(e.op),value:e.value}}}(e):e instanceof YC?function(e){const t=e.getFilters().map((e=>EO(e)));return 1===t.length?t[0]:{compositeFilter:{op:yO(e.op),filters:t}}}(e):fk()}function TO(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function xO(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class wO{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pk.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pk.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mC.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new wO(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wO(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AO{constructor(e){this.ct=e}}function SO(e){const t=mO({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xI(t,t.limit,"L"):t}class kO{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(bC(e.integerValue));else if("doubleValue"in e){const n=bC(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Zk(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=gC(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(yC(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?jC(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):fk()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Bk.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}kO.bt=new kO;class CO{constructor(){this._n=new IO}addToCollectionParentIndex(e,t){return this._n.add(t),Xk.resolve()}getCollectionParents(e,t){return Xk.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Xk.resolve()}deleteFieldIndex(e,t){return Xk.resolve()}deleteAllFieldIndexes(e){return Xk.resolve()}createTargetIndexes(e,t){return Xk.resolve()}getDocumentsMatchingTarget(e,t){return Xk.resolve(null)}getIndexType(e,t){return Xk.resolve(0)}getFieldIndexes(e,t){return Xk.resolve([])}getNextCollectionGroupToUpdate(e){return Xk.resolve(null)}getMinOffset(e,t){return Xk.resolve(zk.min())}getMinOffsetFromCollectionGroup(e,t){return Xk.resolve(zk.min())}updateCollectionGroup(e,t,n){return Xk.resolve()}updateIndexEntries(e,t){return Xk.resolve()}}class IO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cC(Mk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cC(Mk.comparator)).toArray()}}new Uint8Array(0);class NO{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new NO(e,NO.DEFAULT_COLLECTION_PERCENTILE,NO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}NO.DEFAULT_COLLECTION_PERCENTILE=10,NO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,NO.DEFAULT=new NO(41943040,NO.DEFAULT_COLLECTION_PERCENTILE,NO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),NO.DISABLED=new NO(-1,0,0);class OO{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new OO(0)}static Ln(){return new OO(-1)}}class RO{constructor(){this.changes=new OI((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,HC.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xk.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class PO{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&pN(n.mutation,e,pC.empty(),Dk.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,qI()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qI();const r=FI();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=LI();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=FI();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,qI())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=DI();const s=BI(),o=BI();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof gN)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),pN(o.mutation,t,o.mutation.getFieldMask(),Dk.now())):s.set(t.key,pC.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new DO(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=BI();let r=new aC(((e,t)=>e-t)),i=qI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||pC.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||qI()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=jI();l.forEach((e=>{if(!i.has(e)){const r=cN(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Xk.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Bk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Xk.resolve(FI());let o=-1,a=i;return s.next((t=>Xk.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Xk.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,qI()))).next((e=>({batchId:o,changes:MI(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Bk(t)).next((e=>{let t=LI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=LI();return this.indexManager.getCollectionParents(e,i).next((o=>Xk.forEach(o,(o=>{const a=function(e,t){return new fI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,HC.newInvalidDocument(r)))}));let n=LI();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&pN(s.mutation,r,pC.empty(),Dk.now()),kI(t,r)&&(n=n.insert(e,r))})),n}))}}class LO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Xk.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:eO(e.createTime)}}(t)),Xk.resolve()}getNamedQuery(e,t){return Xk.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:SO(e.bundledQuery),readTime:eO(e.readTime)}}(t)),Xk.resolve()}}class MO{constructor(){this.overlays=new aC(Bk.comparator),this.hr=new Map}getOverlay(e,t){return Xk.resolve(this.overlays.get(t))}getOverlays(e,t){const n=FI();return Xk.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Xk.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Xk.resolve()}getOverlaysForCollection(e,t,n){const r=FI(),i=t.length+1,s=new Bk(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xk.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new aC(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=FI(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=FI(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Xk.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wN(t,n));let i=this.hr.get(t);void 0===i&&(i=qI(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class FO{constructor(){this.Pr=new cC(jO.Ir),this.Tr=new cC(jO.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new jO(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new jO(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Bk(new Mk([])),n=new jO(t,e),r=new jO(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Bk(new Mk([])),n=new jO(t,e),r=new jO(t,e+1);let i=qI();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new jO(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jO{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Bk.comparator(e.key,t.key)||Ok(e.pr,t.pr)}static Er(e,t){return Ok(e.pr,t.pr)||Bk.comparator(e.key,t.key)}}class BO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new cC(jO.Ir)}checkEmpty(e){return Xk.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new TN(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new jO(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Xk.resolve(s)}lookupMutationBatch(e,t){return Xk.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Xk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xk.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Xk.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jO(t,0),r=new jO(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Xk.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cC(Ok);return t.forEach((e=>{const t=new jO(e,0),r=new jO(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Xk.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Bk.isDocumentKey(i)||(i=i.child(""));const s=new jO(new Bk(i),0);let o=new cC(Ok);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),Xk.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){gk(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Xk.forEach(t.mutations,(r=>{const i=new jO(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new jO(t,0),r=this.wr.firstAfterOrEqual(n);return Xk.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xk.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class UO{constructor(e){this.vr=e,this.docs=new aC(Bk.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xk.resolve(n?n.document.mutableCopy():HC.newInvalidDocument(t))}getEntries(e,t){let n=DI();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():HC.newInvalidDocument(e))})),Xk.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=DI();const s=t.path,o=new Bk(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vk(qk(o),n)<=0||(r.has(o.key)||kI(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Xk.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fk()}Fr(e,t){return Xk.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new HO(this)}getSize(e){return Xk.resolve(this.size)}}class HO extends RO{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Xk.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class qO{constructor(e){this.persistence=e,this.Mr=new OI((e=>pI(e)),dI),this.lastRemoteSnapshotVersion=Pk.min(),this.highestTargetId=0,this.Or=0,this.Nr=new FO,this.targetCount=0,this.Lr=OO.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Xk.resolve()}getLastRemoteSnapshotVersion(e){return Xk.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xk.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Xk.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Xk.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new OO(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Xk.resolve()}updateTargetData(e,t){return this.qn(t),Xk.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Xk.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Xk.waitFor(i).next((()=>r))}getTargetCount(e){return Xk.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Xk.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Xk.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Xk.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Xk.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Xk.resolve(n)}containsKey(e,t){return Xk.resolve(this.Nr.containsKey(t))}}class zO{constructor(e,t){this.Br={},this.overlays={},this.kr=new $k(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qO(this),this.indexManager=new CO,this.remoteDocumentCache=function(e){return new UO(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new AO(t),this.$r=new LO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new BO(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){hk("MemoryPersistence","Starting transaction:",e);const r=new VO(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Xk.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class VO extends Kk{constructor(e){super(),this.currentSequenceNumber=e}}class GO{constructor(e){this.persistence=e,this.zr=new FO,this.jr=null}static Hr(e){return new GO(e)}get Jr(){if(this.jr)return this.jr;throw fk()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Xk.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Xk.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Xk.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xk.forEach(this.Jr,(n=>{const r=Bk.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Pk.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Xk.or([()=>Xk.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class KO{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=qI(),r=qI();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new KO(e,t.fromCache,n,r)}}class WO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=OE()?8:Yk(NE())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new WO;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(ck()<=QE.DEBUG&&hk("QueryEngine","SDK will not create cache indexes for query:",SI(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Xk.resolve()):(ck()<=QE.DEBUG&&hk("QueryEngine","Query:",SI(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(ck()<=QE.DEBUG&&hk("QueryEngine","The SDK decides to create cache indexes for query:",SI(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,EI(t))):Xk.resolve())}ji(e,t){if(yI(t))return Xk.resolve(null);let n=EI(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=xI(t,null,"F"),n=EI(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=qI(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,xI(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return yI(t)||r.isEqual(Pk.min())?Xk.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Xk.resolve(null):(ck()<=QE.DEBUG&&hk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),SI(t)),this.es(e,s,t,Hk(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new cC(II(e));return t.forEach(((t,r)=>{kI(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return ck()<=QE.DEBUG&&hk("QueryEngine","Using full collection scan to execute query:",SI(t)),this.zi.getDocumentsMatchingQuery(e,t,zk.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class YO{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new aC(Ok),this.rs=new OI((e=>pI(e)),dI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function QO(e,t,n,r){return new YO(e,t,n,r)}async function $O(e,t){const n=bk(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=qI();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function JO(e){const t=bk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function ZO(e,t,n){let r=qI(),i=qI();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=DI();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Pk.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):hk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function eR(e,t){const n=bk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function tR(e,t){const n=bk(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Xk.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new wO(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function nR(e,t,n){const r=bk(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qk(e))throw e;hk("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function rR(e,t,n){const r=bk(e);let i=Pk.min(),s=qI();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=bk(e),i=r.rs.get(n);return void 0!==i?Xk.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,EI(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Pk.min(),n?s:qI()))).next((e=>(iR(r,CI(t),e),{documents:e,hs:s})))))}function iR(e,t,n){let r=e.ss.get(t)||Pk.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class sR{constructor(){this.activeTargetIds=VI()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oR{constructor(){this.no=new sR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sR,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aR{io(e){}shutdown(){}}class lR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){hk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){hk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uR=null;function cR(){return null===uR?uR=268435456+Math.round(2147483648*Math.random()):uR++,"0x"+uR.toString(16)}const hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pR{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const dR="WebChannelConnection";class mR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const s=cR(),o=this.vo(e,t.toUriEncodedString());hk("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(hk("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw dk("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=hR[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=cR();return new Promise(((s,o)=>{const a=new YS;a.setWithCredentials(!0),a.listenOnce(JS.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ZS.NO_ERROR:const t=a.getResponseJson();hk(dR,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case ZS.TIMEOUT:hk(dR,"RPC '".concat(e,"' ").concat(i," timed out")),o(new vk(yk.DEADLINE_EXCEEDED,"Request time out"));break;case ZS.HTTP_ERROR:const n=a.getStatus();if(hk(dR,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(yk).indexOf(t)>=0?t:yk.UNKNOWN}(t.status);o(new vk(e,t.message))}else o(new vk(yk.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new vk(yk.UNAVAILABLE,"Connection failed."));break;default:fk()}}finally{hk(dR,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);hk(dR,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=cR(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rk(),o=nk(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new QS({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");hk(dR,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,p=!1;const d=new pR({lo:t=>{p?hk(dR,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(hk(dR,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),hk(dR,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:()=>c.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(c,$S.EventType.OPEN,(()=>{p||(hk(dR,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),d.mo())})),m(c,$S.EventType.CLOSE,(()=>{p||(p=!0,hk(dR,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.po())})),m(c,$S.EventType.ERROR,(t=>{p||(p=!0,dk(dR,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.po(new vk(yk.UNAVAILABLE,"The operation could not be completed")))})),m(c,$S.EventType.MESSAGE,(t=>{var n;if(!p){const i=t.data[0];gk(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){hk(dR,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=SN[e];if(void 0!==t)return IN(t)}(t),i=o.message;void 0===n&&(n=yk.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),p=!0,d.po(new vk(n,i)),c.close()}else hk(dR,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.yo(i)}})),m(o,tk.STAT_EVENT,(t=>{t.stat===ek.PROXY?hk(dR,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ek.NOPROXY&&hk(dR,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{d.fo()}),0),d}}function fR(){return"undefined"!=typeof document?document:null}function gR(e){return new YN(e,!0)}class bR{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&hk("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class yR{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new bR(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===yk.RESOURCE_EXHAUSTED?(pk(t.toString()),pk("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===yk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new vk(yk.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return hk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(hk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vR extends yR{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(gk(void 0===t||"string"==typeof t),mC.fromBase64String(t||"")):(gk(void 0===t||t instanceof Buffer||t instanceof Uint8Array),mC.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?yk.UNKNOWN:IN(e.code);return new vk(t,e.message||"")}(o);n=new HN(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sO(e,r.document.name),s=eO(r.document.updateTime),o=r.document.createTime?eO(r.document.createTime):Pk.min(),a=new BC({mapValue:{fields:r.document.fields}}),l=HC.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new BN(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sO(e,r.document),s=r.readTime?eO(r.readTime):Pk.min(),o=HC.newNoDocument(i,s),a=r.removedTargetIds||[];n=new BN([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sO(e,r.document),s=r.removedTargetIds||[];n=new BN([],s,i,null)}else{if(!("filter"in t))return fk();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new AN(r,i),o=e.targetId;n=new UN(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pk.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Pk.min():t.readTime?eO(t.readTime):Pk.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=lO(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mI(r)?{documents:pO(e,r)}:{query:dO(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=JN(e,t.resumeToken);const r=QN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Pk.min())>0){n.readTime=$N(e,t.snapshotVersion.toTimestamp());const r=QN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fk()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=lO(this.serializer),t.removeTarget=e,this.i_(t)}}class _R extends yR{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(gk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(gk(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?eO(e.updateTime):eO(t);return n.isEqual(Pk.min())&&(n=eO(t)),new oN(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=eO(e.commitTime);return this.listener.A_(n,t)}return gk(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=lO(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>hO(this.serializer,e)))};this.i_(t)}}class ER extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new vk(yk.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,nO(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yk.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vk(yk.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(e,nO(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===yk.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vk(yk.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class TR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(pk(t),this.y_=!1):hk("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class xR{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{RR(this)&&(hk("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bk(e);t.M_.add(4),await AR(t),t.N_.set("Unknown"),t.M_.delete(4),await wR(t)}(this))}))})),this.N_=new TR(n,r)}}async function wR(e){if(RR(e))for(const t of e.x_)await t(!0)}async function AR(e){for(const t of e.x_)await t(!1)}function SR(e,t){const n=bk(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),OR(n)?NR(n):$R(n).Xo()&&CR(n,t))}function kR(e,t){const n=bk(e),r=$R(n);n.F_.delete(t),r.Xo()&&IR(n,t),0===n.F_.size&&(r.Xo()?r.n_():RR(n)&&n.N_.set("Unknown"))}function CR(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pk.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$R(e).P_(t)}function IR(e,t){e.L_.xe(t),$R(e).I_(t)}function NR(e){e.L_=new zN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),$R(e).start(),e.N_.w_()}function OR(e){return RR(e)&&!$R(e).Zo()&&e.F_.size>0}function RR(e){return 0===bk(e).M_.size}function DR(e){e.L_=void 0}async function PR(e){e.N_.set("Online")}async function LR(e){e.F_.forEach(((t,n)=>{CR(e,t)}))}async function MR(e,t){DR(e),OR(e)?(e.N_.D_(t),NR(e)):e.N_.set("Unknown")}async function FR(e,t,n){if(e.N_.set("Online"),t instanceof HN&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){hk("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await jR(e,n)}else if(t instanceof BN?e.L_.Ke(t):t instanceof UN?e.L_.He(t):e.L_.We(t),!n.isEqual(Pk.min()))try{const t=await JO(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(mC.EMPTY_BYTE_STRING,r.snapshotVersion)),IR(e,t);const i=new wO(r.target,t,n,r.sequenceNumber);CR(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){hk("RemoteStore","Failed to raise snapshot:",t),await jR(e,t)}}async function jR(e,t,n){if(!Qk(t))throw t;e.M_.add(1),await AR(e),e.N_.set("Offline"),n||(n=()=>JO(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{hk("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await wR(e)}))}function BR(e,t){return t().catch((n=>jR(e,n,t)))}async function UR(e){const t=bk(e),n=JR(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;HR(t);)try{const e=await eR(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,qR(t,e)}catch(e){await jR(t,e)}zR(t)&&VR(t)}function HR(e){return RR(e)&&e.v_.length<10}function qR(e,t){e.v_.push(t);const n=JR(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function zR(e){return RR(e)&&!JR(e).Zo()&&e.v_.length>0}function VR(e){JR(e).start()}async function GR(e){JR(e).V_()}async function KR(e){const t=JR(e);for(const n of e.v_)t.d_(n.mutations)}async function WR(e,t,n){const r=e.v_.shift(),i=xN.from(r,t,n);await BR(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await UR(e)}async function XR(e,t){t&&JR(e).E_&&await async function(e,t){if(function(e){return CN(e)&&e!==yk.ABORTED}(t.code)){const n=e.v_.shift();JR(e).t_(),await BR(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await UR(e)}}(e,t),zR(e)&&VR(e)}async function YR(e,t){const n=bk(e);n.asyncQueue.verifyOperationInProgress(),hk("RemoteStore","RemoteStore received new credentials");const r=RR(n);n.M_.add(3),await AR(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await wR(n)}async function QR(e,t){const n=bk(e);t?(n.M_.delete(2),await wR(n)):t||(n.M_.add(2),await AR(n),n.N_.set("Unknown"))}function $R(e){return e.B_||(e.B_=function(e,t,n){const r=bk(e);return r.f_(),new vR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:PR.bind(null,e),To:LR.bind(null,e),Ao:MR.bind(null,e),h_:FR.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),OR(e)?NR(e):e.N_.set("Unknown")):(await e.B_.stop(),DR(e))}))),e.B_}function JR(e){return e.k_||(e.k_=function(e,t,n){const r=bk(e);return r.f_(),new _R(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:GR.bind(null,e),Ao:XR.bind(null,e),R_:KR.bind(null,e),A_:WR.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await UR(e)):(await e.k_.stop(),e.v_.length>0&&(hk("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class ZR{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _k,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ZR(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vk(yk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eD(e,t){if(pk("AsyncQueue","".concat(t,": ").concat(e)),Qk(e))return new vk(yk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class tD{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Bk.comparator(t.key,n.key):(e,t)=>Bk.comparator(e.key,t.key),this.keyedMap=LI(),this.sortedSet=new aC(this.comparator)}static emptySet(e){return new tD(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tD))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tD;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class nD{constructor(){this.q_=new aC(Bk.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):fk():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class rD{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new rD(e,t,tD.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class iD{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class sD{constructor(){this.queries=new OI((e=>AI(e)),wI),this.onlineState="Unknown",this.z_=new Set}}async function oD(e,t){const n=bk(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new iD,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=eD(e,"Initialization of query '".concat(SI(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&cD(n)}async function aD(e,t){const n=bk(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lD(e,t){const n=bk(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&cD(n)}function uD(e,t,n){const r=bk(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function cD(e){e.z_.forEach((e=>{e.next()}))}var hD,pD;(pD=hD||(hD={})).J_="default",pD.Cache="cache";class dD{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rD(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=rD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==hD.Cache}}class mD{constructor(e){this.key=e}}class fD{constructor(e){this.key=e}}class gD{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=qI(),this.mutatedKeys=qI(),this.Ia=II(e),this.Ta=new tD(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new nD,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=kI(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),p=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==p&&(n.track({type:3,doc:c}),d=!0):this.Ra(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Ia(c,a)>0||l&&this.Ia(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=p?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fk()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new rD(this.query,e.Ta,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new nD,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=qI(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new fD(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new mD(n))})),t}pa(e){this.la=e.hs,this.Pa=qI();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return rD.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class bD{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class yD{constructor(e){this.key=e,this.wa=!1}}class vD{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new OI((e=>AI(e)),wI),this.Da=new Map,this.Ca=new Set,this.va=new aC(Bk.comparator),this.Fa=new Map,this.Ma=new FO,this.xa={},this.Oa=new Map,this.Na=OO.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function _D(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=HD(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await TD(r,t,n,!0),i}async function ED(e,t){const n=HD(e);await TD(n,t,!0,!1)}async function TD(e,t,n,r){const i=await tR(e.localStore,EI(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await xD(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&SR(e.remoteStore,i),a}async function xD(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await rR(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return LD(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await rR(e.localStore,t,!0),o=new gD(t,s.hs),a=o.da(s.documents),l=jN.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);LD(e,n,u.fa);const c=new bD(t,n,o);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function wD(e,t,n){const r=bk(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!wI(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nR(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kR(r.remoteStore,i.targetId),DD(r,i.targetId)})).catch(Wk)):(DD(r,i.targetId),await nR(r.localStore,i.targetId,!0))}async function AD(e,t){const n=bk(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kR(n.remoteStore,r.targetId))}async function SD(e,t){const n=bk(e);try{const e=await function(e,t){const n=bk(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(mC.EMPTY_BYTE_STRING,Pk.min()).withLastLimboFreeSnapshotVersion(Pk.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=DI(),l=qI();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ZO(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Pk.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Xk.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(gk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?gk(r.wa):e.removedDocuments.size>0&&(gk(r.wa),r.wa=!1))})),await jD(n,e,t)}catch(e){await Wk(e)}}function kD(e,t,n){const r=bk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bk(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&cD(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CD(e,t,n){const r=bk(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new aC(Bk.comparator);e=e.insert(s,HC.newNoDocument(s,Pk.min()));const n=qI().add(s),i=new FN(Pk.min(),new Map,new aC(Ok),e,n);await SD(r,i),r.va=r.va.remove(s),r.Fa.delete(t),FD(r)}else await nR(r.localStore,t,!1).then((()=>DD(r,t,n))).catch(Wk)}async function ID(e,t){const n=bk(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Xk.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);gk(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qI();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);RD(n,r,null),OD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jD(n,e)}catch(e){await Wk(e)}}async function ND(e,t,n){const r=bk(e);try{const e=await function(e,t){const n=bk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(gk(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);RD(r,t,n),OD(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jD(r,e)}catch(n){await Wk(n)}}function OD(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function RD(e,t,n){const r=bk(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function DD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||PD(e,t)}))}function PD(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(kR(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),FD(e))}function LD(e,t,n){for(const r of n)r instanceof mD?(e.Ma.addReference(r.key,t),MD(e,r)):r instanceof fD?(hk("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||PD(e,r.key)):fk()}function MD(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(hk("SyncEngine","New document in limbo: "+n),e.Ca.add(r),FD(e))}function FD(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Bk(Mk.fromString(t)),r=e.Na.next();e.Fa.set(r,new yD(n)),e.va=e.va.insert(n,r),SR(e.remoteStore,new wO(EI(bI(n.path)),r,"TargetPurposeLimboResolution",$k.oe))}}async function jD(e,t,n){const r=bk(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=KO.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=bk(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Xk.forEach(t,(t=>Xk.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Xk.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Qk(e))throw e;hk("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function BD(e,t){const n=bk(e);if(!n.currentUser.isEqual(t)){hk("SyncEngine","User change. New user:",t.toKey());const e=await $O(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new vk(yk.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jD(n,e.us)}}function UD(e,t){const n=bk(e),r=n.Fa.get(t);if(r&&r.wa)return qI().add(r.key);{let e=qI();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function HD(e){const t=bk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CD.bind(null,t),t.Sa.h_=lD.bind(null,t.eventManager),t.Sa.ka=uD.bind(null,t.eventManager),t}function qD(e){const t=bk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,t),t}class zD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gR(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return QO(this.persistence,new XO,e.initialUser,this.serializer)}createPersistence(e){return new zO(GO.Hr,this.serializer)}createSharedClientState(e){return new oR}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class VD{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>kD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=BD.bind(null,this.syncEngine),await QR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sD}createDatastore(e){const t=gR(e.databaseInfo.databaseId),n=function(e){return new mR(e)}(e.databaseInfo);return function(e,t,n,r){return new ER(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new xR(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>kD(this.syncEngine,e,0)),lR.D()?new lR:new aR)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new vD(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=bk(e);hk("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await AR(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class GD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):pk("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class KD{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ak.UNAUTHENTICATED,this.clientId=Nk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{hk("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(hk("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vk(yk.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _k;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=eD(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function WD(e,t){e.asyncQueue.verifyOperationInProgress(),hk("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $O(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function XD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await QD(e);hk("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>YR(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>YR(t.remoteStore,n))),e._onlineComponents=t}function YD(e){return"FirebaseError"===e.name?e.code===yk.FAILED_PRECONDITION||e.code===yk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function QD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){hk("FirestoreClient","Using user provided OfflineComponentProvider");try{await WD(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!YD(n))throw n;dk("Error using user provided cache. Falling back to memory cache: "+n),await WD(e,new zD)}}else hk("FirestoreClient","Using default OfflineComponentProvider"),await WD(e,new zD);return e._offlineComponents}async function $D(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(hk("FirestoreClient","Using user provided OnlineComponentProvider"),await XD(e,e._uninitializedComponentsProvider._online)):(hk("FirestoreClient","Using default OnlineComponentProvider"),await XD(e,new VD))),e._onlineComponents}function JD(e){return $D(e).then((e=>e.syncEngine))}async function ZD(e){const t=await $D(e),n=t.eventManager;return n.onListen=_D.bind(null,t.syncEngine),n.onUnlisten=wD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ED.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AD.bind(null,t.syncEngine),n}function eP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _k;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new GD({next:s=>{t.enqueueAndForget((()=>aD(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new vk(yk.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new vk(yk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new dD(bI(n.path),s,{includeMetadataChanges:!0,ra:!0});return oD(e,o)}(await ZD(e),e.asyncQueue,t,n,r))),r.promise}function tP(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const nP=new Map;function rP(e,t,n){if(!n)throw new vk(yk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iP(e){if(!Bk.isDocumentKey(e))throw new vk(yk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sP(e){if(Bk.isDocumentKey(e))throw new vk(yk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fk()}function aP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vk(yk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oP(e);throw new vk(yk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class lP{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vk(yk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vk(yk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vk(yk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tP(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vk(yk.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vk(yk.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vk(yk.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uP{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vk(yk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vk(yk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tk;switch(e.type){case"firstParty":return new Sk(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vk(yk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nP.get(e);t&&(hk("ComponentProvider","Removing Datastore"),nP.delete(e),t.terminate())}(this),Promise.resolve()}}function cP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=aP(e,uP))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&dk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ak.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[TE(JSON.stringify({alg:"none",type:"JWT"})),TE(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vk(yk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ak(s)}e._authCredentials=new xk(new Ek(t,n))}}class hP{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hP(this.firestore,e,this._query)}}class pP{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dP(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pP(this.firestore,e,this._key)}}class dP extends hP{constructor(e,t,n){super(e,t,bI(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pP(this.firestore,null,new Bk(e))}withConverter(e){return new dP(this.firestore,e,this._path)}}function mP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zE(e),rP("collection","path",t),e instanceof uP){const n=Mk.fromString(t,...r);return sP(n),new dP(e,null,n)}{if(!(e instanceof pP||e instanceof dP))throw new vk(yk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mk.fromString(t,...r));return sP(n),new dP(e.firestore,null,n)}}function fP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zE(e),1===arguments.length&&(t=Nk.newId()),rP("doc","path",t),e instanceof uP){const n=Mk.fromString(t,...r);return iP(n),new pP(e,null,new Bk(n))}{if(!(e instanceof pP||e instanceof dP))throw new vk(yk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mk.fromString(t,...r));return iP(n),new pP(e.firestore,e instanceof dP?e.converter:null,new Bk(n))}}class gP{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new bR(this,"async_queue_retry"),this.hu=()=>{const e=fR();e&&hk("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=fR();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=fR();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new _k;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Qk(e))throw e;hk("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pk("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=ZR.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&fk()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function bP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class yP extends uP{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gP,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_P(this),this._firestoreClient.terminate()}}function vP(e){return e._firestoreClient||_P(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _P(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new TC(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,tP(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new KD(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class EP{constructor(e){this._byteString=e}static fromBase64String(e){try{return new EP(mC.fromBase64String(e))}catch(e){throw new vk(yk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new EP(mC.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class TP{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vk(yk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jk(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xP{constructor(e){this._methodName=e}}class wP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vk(yk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vk(yk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ok(this._lat,e._lat)||Ok(this._long,e._long)}}const AP=/^__.*__$/;class SP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gN(e,this.data,this.fieldMask,t,this.fieldTransforms):new fN(e,this.data,t,this.fieldTransforms)}}function kP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fk()}}class CP{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new CP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return BP(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(kP(this.fu)&&AP.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class IP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||gR(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new CP({fu:e,methodName:t,vu:n,path:jk.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NP(e){const t=e._freezeSettings(),n=gR(e._databaseId);return new IP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OP(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);LP("Data must be an object, but it was:",o,r);const a=DP(r,o);let l,u;if(s.merge)l=new pC(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=MP(t,r,n);if(!o.contains(i))throw new vk(yk.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));UP(e,i)||e.push(i)}l=new pC(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new SP(new BC(a),l,u)}function RP(e,t){if(PP(e=zE(e)))return LP("Unsupported field value:",t,e),DP(e,t);if(e instanceof xP)return function(e,t){if(!kP(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=RP(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=zE(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return WI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dk.fromDate(e);return{timestampValue:$N(t.serializer,n)}}if(e instanceof Dk){const n=new Dk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$N(t.serializer,n)}}if(e instanceof wP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof EP)return{bytesValue:JN(t.serializer,e._byteString)};if(e instanceof pP){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:tO(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(oP(e)))}(e,t)}function DP(e,t){const n={};return oC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sC(e,((e,r)=>{const i=RP(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function PP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dk||e instanceof wP||e instanceof EP||e instanceof pP||e instanceof xP)}function LP(e,t,n){if(!PP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=oP(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function MP(e,t,n){if((t=zE(t))instanceof TP)return t._internalPath;if("string"==typeof t)return jP(e,t);throw BP("Field path arguments must be of type string or ",e,!1,void 0,n)}const FP=new RegExp("[~\\*/\\[\\]]");function jP(e,t,n){if(t.search(FP)>=0)throw BP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new TP(...t.split("."))._internalPath}catch(r){throw BP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function BP(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new vk(yk.INVALID_ARGUMENT,a+e+l)}function UP(e,t){return e.some((e=>e.isEqual(t)))}class HP{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pP(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qP extends HP{data(){return super.data()}}function zP(e,t){return"string"==typeof t?jP(e,t):t instanceof TP?t._internalPath:t._delegate._internalPath}function VP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vk(yk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GP{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(AC(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bC(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fk()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sC(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new wP(bC(e.latitude),bC(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_C(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(EC(e));default:return null}}convertTimestamp(e){const t=gC(e);return new Dk(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mk.fromString(e);gk(xO(n));const r=new xC(n.get(1),n.get(3)),i=new Bk(n.popFirst(5));return r.isEqual(t)||pk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function KP(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class WP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XP extends HP{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new YP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class YP extends XP{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class QP{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new WP(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new YP(this._firestore,this._userDataWriter,n.key,n,new WP(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vk(yk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new YP(e._firestore,e._userDataWriter,n.doc.key,n.doc,new WP(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new YP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new WP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:$P(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $P(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fk()}}function JP(e){e=aP(e,pP);const t=aP(e.firestore,yP);return eP(vP(t),e._key).then((n=>rL(t,e,n)))}class ZP extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new EP(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pP(this.firestore,null,t)}}function eL(e,t,n){e=aP(e,pP);const r=aP(e.firestore,yP),i=KP(e.converter,t,n);return nL(r,[OP(NP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,aN.none())])}function tL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=zE(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||bP(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bP(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,p;if(e instanceof pP)h=aP(e.firestore,yP),p=bI(e._key.path),c={next:t=>{n[l]&&n[l](rL(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=aP(e,hP);h=aP(t.firestore,yP),p=t._query;const r=new ZP(h);c={next:e=>{n[l]&&n[l](new QP(h,r,t,e))},error:n[l+1],complete:n[l+2]},VP(e._query)}return function(e,t,n,r){const i=new GD(r),s=new dD(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>oD(await ZD(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>aD(await ZD(e),s)))}}(vP(h),p,u,c)}function nL(e,t){return function(e,t){const n=new _k;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qD(e);try{const e=await function(e,t){const n=bk(e),r=Dk.now(),i=t.reduce(((e,t)=>e.add(t.key)),qI());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=DI(),l=qI();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=dN(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new gN(e.key,t,UC(t.value.mapValue),aN.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:MI(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new aC(Ok)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await jD(r,e.changes),await UR(r.remoteStore)}catch(e){const t=eD(e,"Failed to persist write");n.reject(t)}}(await JD(e),t,n))),n.promise}(vP(e),t)}function rL(e,t,n){const r=n.docs.get(t._key),i=new ZP(e);return new XP(e,i,t._key,r,new WP(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lk=e}(ox),tx(new VE("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new yP(new wk(e.getProvider("auth-internal")),new Ck(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vk(yk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xC(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ux(ok,"4.6.3",e),ux(ok,"4.6.3","esm2017")}();const iL=ax({apiKey:"AIzaSyAmpwgQXKfM8Kloob5k4Wgxi6cFslML4cM",authDomain:"citeease-c1b63.firebaseapp.com",projectId:"citeease-c1b63",storageBucket:"citeease-c1b63.appspot.com",messagingSenderId:"77600030297",appId:"1:77600030297:web:ddb919005ff9bf6dbebb48"}),sL=function(e,t){const n="string"==typeof e?e:t||"(default)",r=nx("object"==typeof e?e:lx(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=SE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&cP(r,...e)}return r}(iL),oL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lx();const t=nx(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=nx(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ME(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Cx(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:FS,persistence:[KA,IA,OA]}),r=CE("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>HS)return;const r=null===t||void 0===t?void 0:t.token;qS!==r&&(qS=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){zE(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){zE(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=SE("auth");return s&&Vw(n,"http://".concat(s)),n}(iL),aL=sL,lL=(0,O.createContext)();function uL(){return(0,O.useContext)(lL)}function cL(e){let{children:t}=e;const[n,r]=(0,O.useState)(void 0),[i,s]=(0,O.useState)(!0);(0,O.useEffect)((()=>{const e=function(e,t,n,r){return zE(e).onAuthStateChanged(t,n,r)}(oL,(e=>{r(e),s(!1)}));return e}),[]);const o={currentUser:n,signup:async function(e,t){return async function(e,t,n){if(rx(e.app))return Promise.reject(Ox(e));const r=Mw(e),i=zw(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hA),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&TA(e),t})),o=await pA._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(oL,e,t)},login:async function(e,t){return function(e,t,n){return rx(e.app)?Promise.reject(Ox(e)):vA(zE(e),iA.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&TA(e),t}))}(oL,e,t)},logout:async function(){return await function(e){return zE(e).signOut()}(oL)},verifyEmail:async function(){return xA(n)},resetPassword:async function(e){return async function(e,t,n){const r=Mw(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&EA(r,i,n),await zw(r,i,"getOobCode",$w)}(oL,e)},updateEmail:async function(e){return wA(n,e)},changePassword:async function(e,t){const r=iA.credential(n.email,e);return await _A(oL.currentUser,r),function(e,t){return AA(zE(e),null,t)}(n,t)},deleteAccount:async function(e){const t=iA.credential(n.email,e);return await _A(oL.currentUser,t),async function(e){return zE(e).delete()}(n)}};return(0,Ge.jsx)(lL.Provider,{value:o,children:!i&&t})}const hL={ARTICLE_JOURNAL:{label:"Journal article",code:"article-journal"},BOOK:{label:"Book",code:"book"},WEBPAGE:{label:"Webpage",code:"webpage"}};function pL(e){var t,n,r,i,s;const{showConfirmDialog:o,showAcceptDialog:a}=e,l=nu((e=>e.bibliographies)),u=Cu(),c=Iu(),{currentUser:h}=uL(),{bibId:p}=ke(),[d,m]=(0,O.useState)(null===u||void 0===u||null===(t=u.collab)||void 0===t?void 0:t.open),[f,g]=(0,O.useState)(!1),[b,y]=(0,O.useState)(!1),[v,_]=(0,O.useState)(!1),[E,T]=(0,O.useState)(!1),[x,w]=(0,O.useState)(!1),[A,S]=(0,O.useState)(!1),[k,C]=(0,O.useState)(!1),[I,N]=(0,O.useState)(!1),[R,D]=(0,O.useState)(!1),[P,L]=(0,O.useState)(!1),[M,F]=(0,O.useState)(""),j=Se(),B=mu();function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[...n?[n]:[]];null===u||void 0===u||u.citations.forEach((e=>{e.isChecked&&r.push(e.id)})),t?B(Nl({bibliographyId:u.id,sourceType:e})):1===r.length&&B(Ol({bibliographyId:u.id,citationId:r[0]})),_(!0),T(!1)}function H(){B(Bl({bibliographyId:null===u||void 0===u?void 0:u.id,checkedCitations:c}))}async function q(){const e={...u,collab:{...u.collab,open:!0}},t=fP(aL,"coBibs",u.collab.id);await eL(t,{bibliography:JSON.stringify(e)}),B(Al({bibId:u.id})),m(!0)}async function z(){var e;await(e=fP(aL,"coBibs",u.collab.id),nL(aP(e.firestore,yP),[new _N(e._key,aN.none())])),B(Sl({bibId:u.id})),m(!1)}function V(){j("/"),B(Cl({bibliographyId:u.id}))}return(0,O.useEffect)((()=>{var e,t,n;u&&(null!==u&&void 0!==u&&null!==(e=u.collab)&&void 0!==e&&e.open&&p!==(null===u||void 0===u||null===(t=u.collab)||void 0===t?void 0:t.id)?j("/"+u.collab.id,{replace:!0}):null!==u&&void 0!==u&&null!==(n=u.collab)&&void 0!==n&&n.open||p===u.id||j("/"+u.id,{replace:!0}))}),[p,null===u||void 0===u||null===(n=u.collab)||void 0===n?void 0:n.open]),(0,O.useEffect)((()=>{var e;if(h&&null!==u&&void 0!==u&&null!==(e=u.collab)&&void 0!==e&&e.open){const e=tL(mP(aL,"coBibs"),(async e=>{var t;const n=null===(t=e.docs.find((e=>e.id===u.collab.id)))||void 0===t?void 0:t.data();n&&B(xl({bibliographies:[JSON.parse(n.bibliography)]}))}));return e}}),[h]),(0,O.useEffect)((()=>{!async function(){var e;if(h&&null!==u&&void 0!==u&&null!==(e=u.collab)&&void 0!==e&&e.open){const e=fP(aL,"coBibs",u.collab.id);await eL(e,{bibliography:JSON.stringify(u)}),console.log("saved bib to db")}}()}),[u,h]),(0,Ge.jsx)("div",{className:"mx-auto max-w-[50rem]",children:(0,Ge.jsxs)(yE.HotKeys,{keyMap:{},children:[(0,Ge.jsxs)("div",{children:[(0,Ge.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ge.jsxs)("div",{children:[(null===u||void 0===u||null===(r=u.collab)||void 0===r?void 0:r.open)&&(0,Ge.jsxs)("div",{className:"text-md font-bold w-fit rounded-md transition duration-150 ease-in-out hover:bg-neutral-transparentGray",children:[(0,Ge.jsx)(Ru,{name:"group"})," ",null===u||void 0===u||null===(i=u.collab)||void 0===i?void 0:i.id]}),(0,Ge.jsx)("h1",{className:"m-0 rounded-md transition duration-150 ease-in-out hover:bg-neutral-transparentGray",onClick:()=>C(!0),children:null===u||void 0===u?void 0:u.title})]}),(0,Ge.jsx)($e,{className:"self-start",icon:"more_vert",menuStyle:{position:"absolute",right:"0"},buttonType:"Small Button",options:[...0!==(null===c||void 0===c?void 0:c.length)?[{label:"Copy to clipboard",method:async function(){const e=await fo(c,null===u||void 0===u?void 0:u.style,"text");try{navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy text: ",t)}}},{label:"Export to LaTeX",method:()=>w(!0)},"DEVIDER",{label:"Move",method:function(){l.length>1?S(!0):o("No bibliographies to move","You have no other bibliography to move citations to. Would you like to create a new bibliography and move the selected citations to it?",(()=>B(Ul({checkedCitations:c,bibliographyStyle:null===u||void 0===u?void 0:u.style}))),"Create new bibliography","Cancel")}},{label:"Duplicate",method:function(){B(jl({bibliographyId:null===u||void 0===u?void 0:u.id,checkedCitations:c}))}},"DEVIDER",...1===(null===c||void 0===c?void 0:c.length)?[...c[0].content.URL?[{label:"Visit website",method:()=>window.open(c[0].content.URL,"_blank")}]:[],{label:"Edit",method:()=>U(c[0].content.type)},"DEVIDER"]:[],{label:"Delete",method:()=>o("Delete ".concat(1===(null===c||void 0===c?void 0:c.length)?"citation":"citations","?"),"Are you sure you want to delete ".concat(1===(null===c||void 0===c?void 0:c.length)?"this citation":"these citations","?"),H,"Delete","Cancel"),icon:"delete",style:{color:"crimson"}}]:[{label:"Rename",method:()=>C(!0)},{label:"Tags",method:()=>L(!0)},{label:"Change style",method:()=>D(!0)},"DEVIDER",{label:"Preferences",method:()=>j("/".concat(u.id,"/preferences"))},...d?[{label:"Close collaboration",method:function(){o("Close collaboration?","This will remove all collaborators, permanently delete the collaboration history, and revoke access foe all contributors. The bibliography will be removed from their list of accessible bibliographies. Are you sure you want to proceed? Collaboration can be opened anytime if needed.",z,"Close collaboration","Cancel")}}]:[{label:"Open collaboration",method:function(){if(h)if(null!==u&&void 0!==u&&u.collab)o("Open collaboration?","Are you sure you want to open this bibliography for collaboration?",q,"Open","Cancel");else{l.some((e=>null===e||void 0===e?void 0:e.collab));o("Open collaboration?","Are you sure you want to open this bibliography for collaboration?",(()=>g(!0)),"Open","Cancel")}else o("Login required","You need to log in first to use this feature.",(()=>j("/login")),"Log In","Cancel")},badge:{label:"test",color:"white",backgroundColor:"blue"}}],"DEVIDER",{label:"Delete bibliography",method:()=>o("Delete bibliography","You'll no longer see this bibliography in your list. This will also delete related work and citations.",V,"Delete","Cancel"),icon:"delete",style:{color:"crimson"}}]]})]}),(0,Ge.jsx)("h3",{className:"w-fit rounded-md transition duration-150 ease-in-out hover:bg-neutral-transparentGray",onClick:()=>D(!0),children:null===u||void 0===u?void 0:u.style.name.long}),(0,Ge.jsx)("div",{className:"flex gap-1 flex-wrap",children:null===u||void 0===u||null===(s=u.tags)||void 0===s?void 0:s.map(((e,t)=>(0,Ge.jsx)(Ou,{tagProps:e,onClick:()=>L(!0)},t)))})]}),(0,Ge.jsx)(aE,{openCitationForm:U,openIntextCitationDialog:function(){y(!0)}}),b&&0!==c.length&&(0,Ge.jsx)(lE,{setIntextCitationDialogVisible:y}),v&&(null===u||void 0===u?void 0:u.editedCitation)&&(0,Ge.jsx)(cE,{showAcceptDialog:a,setCitationFormVisible:_}),R&&(0,Ge.jsx)(mE,{setCitationStyleMenuVisible:D,onStyleSelected:e=>B(Il({bibliographyId:u.id,key:"style",value:e}))}),x&&(0,Ge.jsx)(hE,{setLaTeXWindowVisible:w}),A&&(0,Ge.jsx)(pE,{setMoveWindowVisible:S}),k&&(0,Ge.jsx)(dE,{title:null===u||void 0===u?void 0:u.title,setRenameWindowVisible:C,handleRename:function(e){/^\s*$/.test(e)?a("Title is empty","You cant't set the title to an emdpty value."):B(Il({bibliographyId:u.id,key:"title",value:e}))}}),I&&M.length&&(0,Ge.jsx)(fE,{searchByIdentifiersInput:M,setSmartGeneratorDialogVisible:N}),E&&(0,Ge.jsx)(uE,{setAddCitationMenuVisible:T,openCitationForm:U,handleSearchByIdentifiers:function(e){F(e),N(!0)},handleImportCitation:function(){}}),P&&(0,Ge.jsx)(gE,{setTagsDialogVisible:L,onTagAdded:function(e){B(Il({bibliographyId:u.id,key:"tags",value:[...u.tags,e]}))},onTagRemoved:function(e){B(Il({bibliographyId:u.id,key:"tags",value:u.tags.filter((t=>t.id!==e.id))}))}}),f&&(0,Ge.jsx)(bE,{setIsVisible:g,onSubmit:async function(e){const t={...u,collab:{open:!0,id:e.id,adminId:h.uid,collaborators:[{name:h.adminName,id:h.uid}],preferences:{},changelog:[],password:e.password}},n=fP(aL,"coBibs",e.id);await eL(n,{bibliography:JSON.stringify(t)}),B(wl({bibId:u.id,adminId:h.uid,adminName:h.displayName,coId:e.id,password:e.password})),m(!0)}}),(0,Ge.jsx)("button",{onClick:()=>T(!0),children:"Add citation"})]})})}var dL=n(7950),mL=n.t(dL,2);function fL(){return fL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fL.apply(this,arguments)}function gL(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const bL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(EU){}new Map;const yL=R.startTransition;mL.flushSync,R.useId;function vL(e){let{basename:t,children:n,future:r,window:i}=e,s=O.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),q((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=H(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),B("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:U(t))}),(function(e,t){F("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:i,v5Compat:!0}));let o=s.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=O.useCallback((e=>{u&&yL?yL((()=>l(e))):l(e)}),[l,u]);return O.useLayoutEffect((()=>o.listen(c)),[o,c]),O.createElement(qe,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _L="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,EL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TL=O.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,p=gL(e,bL),{basename:d}=O.useContext(ve),m=!1;if("string"===typeof u&&EL.test(u)&&(n=u,_L))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=ie(t.pathname,d);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(EU){}let f=function(e,t){let{relative:n}=void 0===t?{}:t;xe()||M(!1);let{basename:r,navigator:i}=O.useContext(ve),{hash:s,pathname:o,search:a}=Ce(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:ue([r,o])),i.createHref({pathname:l,search:a,hash:s})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=void 0===t?{}:t,l=Se(),u=we(),c=Ce(e,{relative:o});return O.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:U(u)===U(c);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}}),[u,l,c,r,i,n,e,s,o,a])}(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});return O.createElement("a",fL({},p,{href:n||f,onClick:m||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}));var xL,wL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xL||(xL={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(wL||(wL={}));function AL(){return(0,Ge.jsx)("div",{className:"relative h-min w-fit select-none text-neutral-black",children:(0,Ge.jsxs)("div",{className:"text-3xl font-cambo inline",style:{marginTrim:"block"},children:["C",(0,Ge.jsx)("small",{children:"ITE"}),(0,Ge.jsxs)("span",{className:"relative bg-primary-200",children:[(0,Ge.jsx)("div",{className:"absolute bg-primary-500 w-0.5 h-full top-0 start-0",children:(0,Ge.jsx)("div",{className:"absolute start-1/2 rounded-full w-3 h-3 bg-primary-500 -translate-x-1/2 -translate-y-full"})}),"E",(0,Ge.jsx)("small",{children:"ASE"}),(0,Ge.jsx)("div",{className:"absolute bg-primary-500 w-0.5 h-full top-0 start-full",children:(0,Ge.jsx)("div",{className:"absolute start-1/2 rounded-full bottom-0 w-3 h-3 bg-primary-500 -translate-x-1/2 translate-y-full"})})]}),(0,Ge.jsx)("sup",{className:"font-sans text-sm font-bold",children:" EXPERIMENTAL"})]})})}function SL(e){let{setIsVisible:t}=e;const[n,r]=(0,O.useState)(null),[i,s]=(0,O.useState)(!1),[o,a]=(0,O.useState)(null),[l,u]=(0,O.useState)(null),[c,h]=(0,O.useState)(null),p=(0,O.useId)(),d=(0,O.useRef)(),m=(0,O.useRef)(),f=nu((e=>e.bibliographies)),g=mu(),{currentUser:b}=uL();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{children:"Search for collaborative bibliographies"}),(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),(0,Ge.jsxs)("search",{children:[(0,Ge.jsx)("pre",{children:o}),(0,Ge.jsxs)("form",{onSubmit:async function(e){e.preventDefault(),console.log();try{a(null),s(!0);const e=fP(aL,"coBibs",d.current.value),t=await JP(e);if(t.exists()){const e=JSON.parse(t.data().bibliography);f.some((t=>t.id===e.id))?a("You are already a collaborator in ".concat(e.title," (").concat(e.collab.id,")")):r(e)}else a("No such collaborative bibliography!")}catch(t){a(t)}s(!1)},children:[(0,Ge.jsx)("input",{type:"search",ref:d,placeholder:"Search for collaborative bibliographies..."}),(0,Ge.jsx)("button",{type:"submit",disabled:i,children:"Search"})]})]}),n&&(0,Ge.jsxs)("div",{children:[(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{children:n.title}),(0,Ge.jsxs)("div",{children:["Number of collaborators: ",n.collab.collaborators.length]})]}),(0,Ge.jsx)("pre",{children:c}),(0,Ge.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(h(null),u(!0),m.current.value===n.collab.password){const e={...n,collab:{...n.collab,collaborators:[...n.collab.collaborators,{name:b.displayName,id:b.uid}]}},t=fP(aL,"coBibs",e.collab.id);await eL(t,{bibliography:JSON.stringify(e)}),g(xl({bibliographies:[e]}))}else h("The password you entered is wrong")}catch(t){h(t)}u(!1)},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(p,"-password"),children:"Enter the password to join"}),(0,Ge.jsx)("input",{ref:m,type:"password",name:"password",id:"".concat(p,"-password")}),(0,Ge.jsx)("button",{type:"submit",disabled:l,children:"Join"})]})]})]})}function kL(){const e=nu((e=>e.bibliographies)),[t,n]=(0,O.useState)(!1),[r,i]=(0,O.useState)(!1),[s,o]=(0,O.useState)(!1),{currentUser:a}=uL(),l=Se(),u=mu();return(0,Ge.jsxs)("div",{className:"mx-auto max-w-[50rem]",children:[(0,Ge.jsxs)("div",{className:"flex justify-between mb-5",children:[(0,Ge.jsx)("h1",{className:"hidden",children:"Home"})," ",(0,Ge.jsx)(AL,{}),(0,Ge.jsx)($e,{icon:"more_vert",menuStyle:{},buttonType:"Small Button",options:[{label:"Settings",method:()=>l("/settings")},...a?[{label:"Account",method:()=>l("/account")}]:[{label:"Log in",method:()=>l("/login")}]]})]}),(0,Ge.jsx)("div",{className:"grid place-items-start gap-y-2",children:e&&e.length>0?e.map((e=>{var t;return(0,Ge.jsx)(TL,{to:"/".concat(null!==e&&void 0!==e&&null!==(t=e.collab)&&void 0!==t&&t.open?e.collab.id:e.id),className:"w-full",style:{textDecoration:"none"},children:(0,Ge.jsx)(Du,{bibliography:e})},e.id)})):(0,Ge.jsx)("p",{children:"No bibliographies added yet. Click the button to create one based on citation style or to import from other softwares."})}),(0,Ge.jsx)("button",{className:"border-2 border-neutral-black fixed p-3 bottom-5 right-5 bg-primary-500",onClick:()=>i(!0),children:"Add bibliography"}),r&&(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{children:"Add bibliography"}),(0,Ge.jsx)("button",{onClick:()=>i(!1),children:"X"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>n(!0),children:"Choose by citation style"}),(0,Ge.jsx)("button",{children:"Import"}),(0,Ge.jsx)("button",{onClick:()=>o(!0),children:"Search for collaborative bibliograpies"})]})]}),t&&(0,Ge.jsx)(mE,{setCitationStyleMenuVisible:n,onStyleSelected:function(e){n(!1),u(kl({bibliographyStyle:e})),async function(e){if(!e)return;const t=await yo();if(!t||!((null===e||void 0===e?void 0:e.code)in t)){const n=await fetch("https://raw.githubusercontent.com/citation-style-language/styles/master/".concat(null===e||void 0===e?void 0:e.code,".csl")),r=await n.text();vo({...t,[null===e||void 0===e?void 0:e.code]:r})}}(e)}}),s&&(0,Ge.jsx)(SL,{setIsVisible:o})]})}function CL(e){const{title:t,children:n}=e;return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{children:t}),n]})}function IL(e){const{children:t}=e;return(0,Ge.jsx)("button",{...e,children:t})}function NL(e){const{children:t,to:n,onClick:r}=e,i=Se();return(0,Ge.jsx)("button",{className:"w-full p-2 bg-transparent border-transparent rounded-md mb-2 text-start transition duration-150 ease-in-out transform hover:bg-neutral-transparentGray",onClick:e=>{n&&i(n),r&&r(e)},children:t})}function OL(e){var t,n;const{setTagsManagerVisible:r}=e,i=nu((e=>e.settings)),[s,o]=(0,O.useState)(""),[a,l]=(0,O.useState)(fu.YELLOW),u=mu(),[c]=Nu(a);return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>r(!1),children:"X"}),(0,Ge.jsx)("div",{className:"flex gap-1 flex-wrap",children:null===(t=i.tags)||void 0===t?void 0:t.map(((e,t)=>(0,Ge.jsx)(Ou,{tagProps:e,showX:!0,onClick:()=>u(Au({tagId:e.id}))},t)))}),(0,Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),/^\s*$/.test(s)||(u(wu({tag:{label:s,color:a,id:Qe()}})),o(""))},children:[(0,Ge.jsx)("input",{className:"rounded-md p-2",style:{border:"solid 0.1rem ".concat(gu[a]),backgroundColor:c,color:gu[a]},type:"text",placeholder:"Tag label",value:s,onChange:e=>o(e.target.value)}),(0,Ge.jsx)("button",{type:"submit",children:"Add tag"}),(0,Ge.jsx)("div",{className:"flex gap-1 flex-wrap",children:null===(n=Object.values(fu))||void 0===n?void 0:n.map(((e,t)=>(0,Ge.jsx)("button",{className:"rounded-full w-5 h-5",type:"button",style:{backgroundColor:gu[e]},onClick:()=>l(e)},t)))})]}),(0,Ge.jsx)("button",{onClick:()=>u(xu()),children:"Restore default tags"})]})}function RL(e){const{setIsVisible:t}=e,{updateEmail:n}=uL(),r=(0,O.useId)(),[i,s]=(0,O.useState)(!1),[o,a]=(0,O.useState)(""),l=(0,O.useRef)(),u=Se();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),(0,Ge.jsx)("h3",{children:"Update email"}),(0,Ge.jsx)("pre",{children:o}),(0,Ge.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{a(""),s(!0),await n(l.current.value),u("/")}catch(o){a("Failed to update email: "+o)}s(!1)},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(r,"-newEmail"),children:"Type your new email."}),(0,Ge.jsx)("input",{id:"".concat(r,"-newEmail"),type:"email",ref:l,required:!0}),(0,Ge.jsx)("button",{type:"submite",disabled:i,children:"Update email"})]})]})}function DL(e){const{setIsVisible:t}=e,{changePassword:n}=uL(),r=(0,O.useId)(),[i,s]=(0,O.useState)(!1),[o,a]=(0,O.useState)(""),l=(0,O.useRef)(),u=(0,O.useRef)(),c=(0,O.useRef)();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),(0,Ge.jsx)("h3",{children:"Change password"}),(0,Ge.jsx)("pre",{children:o}),(0,Ge.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),u.current.value!==c.current.value)a("Passwords do not match.");else{try{a(""),s(!0),await n(l.current.value,u.current.value),t(!1)}catch(o){a("Failed to update password: "+o)}s(!1)}},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(r,"-prevPassword"),children:"Previous password"}),(0,Ge.jsx)("input",{type:"password",id:"".concat(r,"-prevPassword"),ref:l,required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(r,"-newPassword"),children:"New password"}),(0,Ge.jsx)("input",{type:"password",id:"".concat(r,"-newPassword"),ref:u,required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(r,"-confirmPassword"),children:"Confirm password"}),(0,Ge.jsx)("input",{type:"password",id:"".concat(r,"-confirmPassword"),ref:c,required:!0}),(0,Ge.jsx)("button",{type:"submit",disabled:i,children:"Update password"})]})]})}function PL(e){const{setIsVisible:t}=e,{deleteAccount:n}=uL(),r=(0,O.useId)(),[i,s]=(0,O.useState)(!1),[o,a]=(0,O.useState)(""),l=(0,O.useRef)(),u=(0,O.useRef)(),c=Se(),h=mu();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("button",{onClick:()=>t(!1),children:"X"}),(0,Ge.jsx)("h3",{children:"Delete account?"}),(0,Ge.jsx)("pre",{children:o}),(0,Ge.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{a(""),s(!0),await n(l.current.value),u.current.checked||(h(Hl()),h(Su())),c("/")}catch(o){a("Failed to delete account: "+o)}s(!1)},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(r,"-password"),children:"Type your password to delete your account."}),(0,Ge.jsx)("input",{id:"".concat(r,"-password"),type:"password",ref:l,required:!0}),(0,Ge.jsx)("input",{id:"".concat(r,"-checkbox"),type:"checkbox",ref:u}),(0,Ge.jsx)("label",{htmlFor:"".concat(r,"-checkbox"),children:"Keep a copy of the associated data locally"}),(0,Ge.jsx)("strong",{children:"Warning: This action can't be undone"}),(0,Ge.jsx)("button",{type:"submite",disabled:i,children:"Delete account"})]})]})}function LL(){nu((e=>e.settings));const[e,t]=(0,O.useState)(!1);mu();return(0,Ge.jsxs)("div",{className:"mx-auto max-w-[50rem]",children:[(0,Ge.jsx)("h1",{children:"Settings"}),(0,Ge.jsx)(NL,{onClick:function(){t(!0)},children:"Manage tags"}),(0,Ge.jsxs)(CL,{children:[(0,Ge.jsx)(NL,{to:"/about",children:"About CiteEase"}),(0,Ge.jsx)(NL,{to:"/terms",children:"Terms of Use"}),(0,Ge.jsx)(NL,{to:"/privacy",children:"Privacy Policy"})]}),e&&(0,Ge.jsx)(OL,{setTagsManagerVisible:t})]})}function ML(e){const{bibId:t}=ke(),{bibliographies:n}=e;Cu();return(0,Ge.jsx)("div",{})}const FL=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jL=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BL={};function UL(e,t){return((t||BL).jsx?jL:FL).test(e)}const HL=/[ \t\n\f\r]/g;function qL(e){return""===e.replace(HL,"")}class zL{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function VL(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new zL(n,r,t)}function GL(e){return e.toLowerCase()}zL.prototype.property={},zL.prototype.normal={},zL.prototype.space=null;class KL{constructor(e,t){this.property=e,this.attribute=t}}KL.prototype.space=null,KL.prototype.boolean=!1,KL.prototype.booleanish=!1,KL.prototype.overloadedBoolean=!1,KL.prototype.number=!1,KL.prototype.commaSeparated=!1,KL.prototype.spaceSeparated=!1,KL.prototype.commaOrSpaceSeparated=!1,KL.prototype.mustUseProperty=!1,KL.prototype.defined=!1;let WL=0;const XL=tM(),YL=tM(),QL=tM(),$L=tM(),JL=tM(),ZL=tM(),eM=tM();function tM(){return 2**++WL}const nM=Object.keys(C);class rM extends KL{constructor(e,t,n,r){let i=-1;if(super(e,t),iM(this,"space",r),"number"===typeof n)for(;++i<nM.length;){const e=nM[i];iM(this,nM[i],(n&C[e])===C[e])}}}function iM(e,t,n){n&&(e[t]=n)}rM.prototype.defined=!0;const sM={}.hasOwnProperty;function oM(e){const t={},n={};let r;for(r in e.properties)if(sM.call(e.properties,r)){const i=e.properties[r],s=new rM(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[GL(r)]=r,n[GL(s.attribute)]=r}return new zL(t,n,e.space)}const aM=oM({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lM=oM({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function uM(e,t){return t in e?e[t]:t}function cM(e,t){return uM(e,t.toLowerCase())}const hM=oM({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cM,properties:{xmlns:null,xmlnsXLink:null}}),pM=oM({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:YL,ariaAutoComplete:null,ariaBusy:YL,ariaChecked:YL,ariaColCount:$L,ariaColIndex:$L,ariaColSpan:$L,ariaControls:JL,ariaCurrent:null,ariaDescribedBy:JL,ariaDetails:null,ariaDisabled:YL,ariaDropEffect:JL,ariaErrorMessage:null,ariaExpanded:YL,ariaFlowTo:JL,ariaGrabbed:YL,ariaHasPopup:null,ariaHidden:YL,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:JL,ariaLevel:$L,ariaLive:null,ariaModal:YL,ariaMultiLine:YL,ariaMultiSelectable:YL,ariaOrientation:null,ariaOwns:JL,ariaPlaceholder:null,ariaPosInSet:$L,ariaPressed:YL,ariaReadOnly:YL,ariaRelevant:null,ariaRequired:YL,ariaRoleDescription:JL,ariaRowCount:$L,ariaRowIndex:$L,ariaRowSpan:$L,ariaSelected:YL,ariaSetSize:$L,ariaSort:null,ariaValueMax:$L,ariaValueMin:$L,ariaValueNow:$L,ariaValueText:null,role:null}}),dM=oM({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:cM,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ZL,acceptCharset:JL,accessKey:JL,action:null,allow:null,allowFullScreen:XL,allowPaymentRequest:XL,allowUserMedia:XL,alt:null,as:null,async:XL,autoCapitalize:null,autoComplete:JL,autoFocus:XL,autoPlay:XL,blocking:JL,capture:null,charSet:null,checked:XL,cite:null,className:JL,cols:$L,colSpan:null,content:null,contentEditable:YL,controls:XL,controlsList:JL,coords:$L|ZL,crossOrigin:null,data:null,dateTime:null,decoding:null,default:XL,defer:XL,dir:null,dirName:null,disabled:XL,download:QL,draggable:YL,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:XL,formTarget:null,headers:JL,height:$L,hidden:XL,high:$L,href:null,hrefLang:null,htmlFor:JL,httpEquiv:JL,id:null,imageSizes:null,imageSrcSet:null,inert:XL,inputMode:null,integrity:null,is:null,isMap:XL,itemId:null,itemProp:JL,itemRef:JL,itemScope:XL,itemType:JL,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:XL,low:$L,manifest:null,max:null,maxLength:$L,media:null,method:null,min:null,minLength:$L,multiple:XL,muted:XL,name:null,nonce:null,noModule:XL,noValidate:XL,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:XL,optimum:$L,pattern:null,ping:JL,placeholder:null,playsInline:XL,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:XL,referrerPolicy:null,rel:JL,required:XL,reversed:XL,rows:$L,rowSpan:$L,sandbox:JL,scope:null,scoped:XL,seamless:XL,selected:XL,shadowRootClonable:XL,shadowRootDelegatesFocus:XL,shadowRootMode:null,shape:null,size:$L,sizes:null,slot:null,span:$L,spellCheck:YL,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$L,step:null,style:null,tabIndex:$L,target:null,title:null,translate:null,type:null,typeMustMatch:XL,useMap:null,value:YL,width:$L,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:JL,axis:null,background:null,bgColor:null,border:$L,borderColor:null,bottomMargin:$L,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:XL,declare:XL,event:null,face:null,frame:null,frameBorder:null,hSpace:$L,leftMargin:$L,link:null,longDesc:null,lowSrc:null,marginHeight:$L,marginWidth:$L,noResize:XL,noHref:XL,noShade:XL,noWrap:XL,object:null,profile:null,prompt:null,rev:null,rightMargin:$L,rules:null,scheme:null,scrolling:YL,standby:null,summary:null,text:null,topMargin:$L,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$L,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:XL,disableRemotePlayback:XL,prefix:null,property:null,results:$L,security:null,unselectable:null}}),mM=oM({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:uM,properties:{about:eM,accentHeight:$L,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$L,amplitude:$L,arabicForm:null,ascent:$L,attributeName:null,attributeType:null,azimuth:$L,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$L,by:null,calcMode:null,capHeight:$L,className:JL,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$L,diffuseConstant:$L,direction:null,display:null,dur:null,divisor:$L,dominantBaseline:null,download:XL,dx:null,dy:null,edgeMode:null,editable:null,elevation:$L,enableBackground:null,end:null,event:null,exponent:$L,externalResourcesRequired:null,fill:null,fillOpacity:$L,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ZL,g2:ZL,glyphName:ZL,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$L,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$L,horizOriginX:$L,horizOriginY:$L,id:null,ideographic:$L,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$L,k:$L,k1:$L,k2:$L,k3:$L,k4:$L,kernelMatrix:eM,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$L,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$L,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$L,overlineThickness:$L,paintOrder:null,panose1:null,path:null,pathLength:$L,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:JL,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$L,pointsAtY:$L,pointsAtZ:$L,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:eM,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:eM,rev:eM,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:eM,requiredFeatures:eM,requiredFonts:eM,requiredFormats:eM,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$L,specularExponent:$L,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$L,strikethroughThickness:$L,string:null,stroke:null,strokeDashArray:eM,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$L,strokeOpacity:$L,strokeWidth:null,style:null,surfaceScale:$L,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:eM,tabIndex:$L,tableValues:null,target:null,targetX:$L,targetY:$L,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:eM,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$L,underlineThickness:$L,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$L,values:null,vAlphabetic:$L,vMathematical:$L,vectorEffect:null,vHanging:$L,vIdeographic:$L,version:null,vertAdvY:$L,vertOriginX:$L,vertOriginY:$L,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$L,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),fM=VL([lM,aM,hM,pM,dM],"html"),gM=VL([lM,aM,hM,pM,mM],"svg"),bM=/^data[-\w.:]+$/i,yM=/-[a-z]/g,vM=/[A-Z]/g;function _M(e){return"-"+e.toLowerCase()}function EM(e){return e.charAt(1).toUpperCase()}const TM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var xM=n(4222);const wM=xM.default||xM,AM=kM("end"),SM=kM("start");function kM(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function CM(e){return e&&"object"===typeof e?"position"in e||"type"in e?NM(e.position):"start"in e||"end"in e?NM(e):"line"in e||"column"in e?IM(e):"":""}function IM(e){return OM(e&&e.line)+":"+OM(e&&e.column)}function NM(e){return IM(e&&e.start)+"-"+IM(e&&e.end)}function OM(e){return e&&"number"===typeof e?e:1}class RM extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",i={},s=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!i.cause&&e&&(s=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=o?o.line:void 0,this.name=CM(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&"string"===typeof i.cause.stack?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}RM.prototype.file="",RM.prototype.name="",RM.prototype.reason="",RM.prototype.message="",RM.prototype.stack="",RM.prototype.column=void 0,RM.prototype.line=void 0,RM.prototype.ancestors=void 0,RM.prototype.cause=void 0,RM.prototype.fatal=void 0,RM.prototype.place=void 0,RM.prototype.ruleId=void 0,RM.prototype.source=void 0;const DM={}.hasOwnProperty,PM=new Map,LM=/[A-Z]/g,MM=/-([a-z])/g,FM=new Set(["table","tbody","thead","tfoot","tr"]),jM=new Set(["td","th"]),BM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function UM(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,s){const o=Array.isArray(i.children),a=SM(n);return t(r,i,s,o,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,s){const o=Array.isArray(i.children)?n:t;return s?o(r,i,s):o(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?gM:fM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=HM(i,e,void 0);return s&&"string"!==typeof s?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function HM(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=gM,e.schema=i);e.ancestors.push(t);const s=KM(e,t.tagName,!1),o=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&DM.call(t.properties,i)){const s=GM(e,i,t.properties[i]);if(s){const[i,o]=s;e.tableCellAlignToStyle&&"align"===i&&"string"===typeof o&&jM.has(t.tagName)?r=o:n[i]=o}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let a=VM(e,t);FM.has(t.tagName)&&(a=a.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&qL(t.value):qL(t));var t})));return qM(e,o,s,t),zM(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}WM(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=gM,e.schema=i);e.ancestors.push(t);const s=null===t.name?e.Fragment:KM(e,t.name,!0),o=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const i=t.expression;i.type;const s=i.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else WM(e,t.position);else{const i=r.name;let s;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,s=e.evaluater.evaluateExpression(t.expression)}else WM(e,t.position);else s=null===r.value||r.value;n[i]=s}return n}(e,t),a=VM(e,t);return qM(e,o,s,t),zM(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);WM(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return zM(r,VM(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function qM(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function zM(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function VM(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:PM;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){const t=i.get(e)||0;o=e+"-"+t,i.set(e,t+1)}}const a=HM(e,s,o);void 0!==a&&n.push(a)}return n}function GM(e,t,n){const r=function(e,t){const n=GL(t);let r=t,i=KL;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&bM.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(yM,EM);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!yM.test(e)){let n=e.replace(vM,_M);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=rM}return new i(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){const n={};try{wM(t,r)}catch(i){if(!e.ignoreInvalidStyle){const t=i,n=new RM("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=BM+"#cannot-parse-style-attribute",n}}return n;function r(e,t){let r=e;"--"!==r.slice(0,2)&&("-ms-"===r.slice(0,4)&&(r="ms-"+r.slice(4)),r=r.replace(MM,YM)),n[r]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)DM.call(e,n)&&(t[XM(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?TM[r.property]||r.property:r.attribute,n]}}function KM(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=UL(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}r=n}else r=UL(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return DM.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);WM(e)}function WM(e,t){const n=new RM("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=BM+"#cannot-handle-mdx-estrees-without-createevaluater",n}function XM(e){let t=e.replace(LM,QM);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function YM(e,t){return t.toUpperCase()}function QM(e){return"-"+e.toLowerCase()}const $M={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},JM={};function ZM(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return eF(e.children,t,n)}return Array.isArray(e)?eF(e,t,n):""}function eF(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=ZM(e[i],t,n);return r.join("")}function tF(e,t,n,r){const i=e.length;let s,o=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function nF(e,t){return e.length>0?(tF(e,e.length,0,t),e):t}class rF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&iF(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),iF(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),iF(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);iF(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);iF(this.left,t.reverse())}}}function iF(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function sF(e){const t={};let n,r,i,s,o,a,l,u=-1;const c=new rF(e);for(;++u<c.length;){for(;u in t;)u=t[u];if(n=c.get(u),u&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(u-1)[1].type&&(a=n[1]._tokenizer.events,i=0,i<a.length&&"lineEndingBlank"===a[i][1].type&&(i+=2),i<a.length&&"content"===a[i][1].type))for(;++i<a.length&&"content"!==a[i][1].type;)"chunkText"===a[i][1].type&&(a[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,oF(c,u)),u=t[u],l=!0);else if(n[1]._container){for(i=u,r=void 0;i--&&(s=c.get(i),"lineEnding"===s[1].type||"lineEndingBlank"===s[1].type);)"enter"===s[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},c.get(r)[1].start),o=c.slice(r,u),o.unshift(n),c.splice(r,u-r+1,o))}}return tF(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function oF(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,h,p=-1,d=n,m=0,f=0;const g=[f];for(;d;){for(;e.get(++i)[1]!==d;);s.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),h&&o.defineSkip(d.start),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++p<a.length;)"exit"===a[p][0]&&"enter"===a[p-1][0]&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(f=p+1,g.push(f),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(o.events=[],d?(d._tokenizer=void 0,d.previous=void 0):g.pop(),p=g.length;p--;){const t=a.slice(g[p],g[p+1]),n=s.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const aF={}.hasOwnProperty;function lF(e,t){let n;for(n in t){const r=(aF.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let s;if(i)for(s in i){aF.call(r,s)||(r[s]=[]);const e=i[s];uF(r[s],Array.isArray(e)?e:e?[e]:[])}}}function uF(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);tF(e,0,0,r)}const cF=TF(/[A-Za-z]/),hF=TF(/[\dA-Za-z]/),pF=TF(/[#-'*+\--9=?A-Z^-~]/);function dF(e){return null!==e&&(e<32||127===e)}const mF=TF(/\d/),fF=TF(/[\dA-Fa-f]/),gF=TF(/[!-/:-@[-`{-~]/);function bF(e){return null!==e&&e<-2}function yF(e){return null!==e&&(e<0||32===e)}function vF(e){return-2===e||-1===e||32===e}const _F=TF(/\p{P}|\p{S}/u),EF=TF(/\s/);function TF(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function xF(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return function(r){if(vF(r))return e.enter(n),o(r);return t(r)};function o(r){return vF(r)&&s++<i?(e.consume(r),o):(e.exit(n),t(r))}}const wF={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xF(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):bF(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const AF={tokenize:function(e){const t=this,n=[];let r,i,s,o=0;return a;function a(r){if(o<n.length){const i=n[o];return t.containerState=i[1],e.attempt(i[0].continuation,l,u)(r)}return u(r)}function l(e){if(o++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,s=n;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){i=t.events[s][1].end;break}b(o);let a=n;for(;a<t.events.length;)t.events[a][1].end=Object.assign({},i),a++;return tF(t.events,s+1,0,t.events.slice(n)),t.events.length=a,u(e)}return a(e)}function u(i){if(o===n.length){if(!r)return p(i);if(r.currentConstruct&&r.currentConstruct.concrete)return m(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(SF,c,h)(i)}function c(e){return r&&y(),b(o),p(e)}function h(e){return t.parser.lazy[t.now().line]=o!==n.length,s=t.now().offset,m(e)}function p(n){return t.containerState={},e.attempt(SF,d,m)(n)}function d(e){return o++,n.push([t.currentConstruct,t.containerState]),p(e)}function m(n){return null===n?(r&&y(),b(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),b(0),void e.consume(n)):bF(n)?(e.consume(n),g(e.exit("chunkFlow")),o=0,t.interrupt=void 0,a):(e.consume(n),f)}function g(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(a),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<s&&(!r.events[e][1].end||r.events[e][1].end.offset>s))return;const n=t.events.length;let i,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){a=t.events[l][1].end;break}i=!0}for(b(o),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},a),e++;tF(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function b(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},SF={tokenize:function(e,t,n){return xF(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const kF={tokenize:function(e,t,n){return function(t){return vF(t)?xF(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||bF(e)?t(e):n(e)}},partial:!0};const CF={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):bF(t)?e.check(IF,s,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function s(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return sF(e),e}},IF={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xF(e,i,"linePrefix")};function i(i){if(null===i||bF(i))return n(i);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};const NF={tokenize:function(e){const t=this,n=e.attempt(kF,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,xF(e,e.attempt(this.parser.constructs.flow,r,e.attempt(CF,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const OF={resolveAll:LF()},RF=PF("string"),DF=PF("text");function PF(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,s,o);return s;function s(e){return l(e)?i(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:LF("text"===e?MF:void 0)}}function LF(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function MF(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let s,o=i.length,a=-1,l=0;for(;o--;){const e=i[o];if("string"===typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)s=!0,l++;else if(-1!==e){o++;break}}if(l){const i={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+o,_bufferIndex:o?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}function FF(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}function jF(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[],l=!0;const u={consume:function(e){bF(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,_()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=m(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=m(),c.events.push(["exit",t,c]),t},attempt:y((function(e,t){v(e,t.from)})),check:y(b),interrupt:y(b,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if("string"===typeof s)o=s;else switch(s){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&i)continue;o=" ";break;default:o=String.fromCharCode(s)}i=-2===s,r.push(o)}return r.join("")}(d(e),t)},now:m,defineSkip:function(e){i[e.line]=e.column,_()},write:function(e){if(o=nF(o,e),f(),null!==o[o.length-1])return[];return v(t,0),c.events=FF(s,c.events,c),c.events}};let h,p=t.tokenize.call(c,u);return t.resolveAll&&s.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const e=o[0];"string"===typeof e?o[0]=e.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}(o,e)}function m(){const{line:e,column:t,offset:n,_index:i,_bufferIndex:s}=r;return{line:e,column:t,offset:n,_index:i,_bufferIndex:s}}function f(){let e;for(;r._index<o.length;){const t=o[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){l=void 0,h=e,p=p(e)}function b(e,t){t.restore()}function y(e,t){return function(n,i,s){let o,h,p,d;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return o=e,h=0,0===e.length?s:g(e[h])}function g(e){return function(n){d=function(){const e=m(),t=c.previous,n=c.currentConstruct,i=c.events.length,s=Array.from(a);return{restore:o,from:i};function o(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,a=s,_()}}(),p=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return y(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,u,b,y)(n)}}function b(t){return l=!0,e(p,d),i}function y(e){return l=!0,d.restore(),++h<o.length?g(o[h]):s}}}function v(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&tF(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const BF={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,s(e)}(t)};function s(s){return s===r?(e.enter("thematicBreakSequence"),o(s)):i>=3&&(null===s||bF(s))?(e.exit("thematicBreak"),t(s)):n(s)}function o(t){return t===r?(e.consume(t),i++,o):(e.exit("thematicBreakSequence"),vF(t)?xF(e,s,"whitespace")(t):s(t))}}};const UF={name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,o=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:mF(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(BF,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return mF(t)&&++o<10?(e.consume(t),a):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(kF,r.interrupt?n:u,e.attempt(HF,h,c))}function u(e){return r.containerState.initialBlankLine=!0,s++,h(e)}function c(t){return vF(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),h):n(t)}function h(n){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(kF,i,s);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xF(e,t,"listItemIndent",r.containerState.size+1)(n)}function s(n){return r.containerState.furtherBlankLines||!vF(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qF,t,o)(n))}function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,xF(e,e.attempt(UF,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},HF={tokenize:function(e,t,n){const r=this;return xF(e,(function(e){const i=r.events[r.events.length-1];return!vF(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},qF={tokenize:function(e,t,n){const r=this;return xF(e,(function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const zF={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return vF(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(vF(t))return xF(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(r){return e.attempt(zF,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};function VF(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(i),e.enter(s),e.consume(t),e.exit(s),h;if(null===t||32===t||41===t||dF(t))return n(t);return e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(t)};function h(n){return 62===n?(e.enter(s),e.consume(n),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(a),h(t)):null===t||60===t||bF(t)?n(t):(e.consume(t),92===t?d:p)}function d(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function m(i){return c||null!==i&&41!==i&&!yF(i)?c<u&&40===i?(e.consume(i),c++,m):41===i?(e.consume(i),c--,m):null===i||32===i||40===i||dF(i)?n(i):(e.consume(i),92===i?f:m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(i))}function f(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function GF(e,t,n,r,i,s){const o=this;let a,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(s),u};function u(h){return l>999||null===h||91===h||93===h&&!a||94===h&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):93===h?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):bF(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(t){return null===t||91===t||93===t||bF(t)||l++>999?(e.exit("chunkString"),u(t)):(e.consume(t),a||(a=!vF(t)),92===t?h:c)}function h(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function KF(e,t,n,r,i,s){let o;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=40===t?41:t,a;return n(t)};function a(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(s),l(n))}function l(t){return t===o?(e.exit(s),a(o)):null===t?n(t):bF(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xF(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(t))}function u(t){return t===o||null===t||bF(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:u)}function c(t){return t===o||92===t?(e.consume(t),u):u(t)}}function WF(e,t){let n;return function r(i){if(bF(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r;if(vF(i))return xF(e,r,n?"linePrefix":"lineSuffix")(i);return t(i)}}function XF(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const YF={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return GF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function s(t){return i=XF(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o):n(t)}function o(t){return yF(t)?WF(e,a)(t):a(t)}function a(t){return VF(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(QF,u,u)(t)}function u(t){return vF(t)?xF(e,c,"whitespace")(t):c(t)}function c(s){return null===s||bF(s)?(e.exit("definition"),r.parser.defined.push(i),t(s)):n(s)}}},QF={tokenize:function(e,t,n){return function(t){return yF(t)?WF(e,r)(t):n(t)};function r(t){return KF(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return vF(t)?xF(e,s,"whitespace")(t):s(t)}function s(e){return null===e||bF(e)?t(e):n(e)}},partial:!0};const $F={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),xF(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?s(e):n(e)}function s(t){return null===t?a(t):bF(t)?e.attempt(JF,s,a)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||bF(t)?(e.exit("codeFlowValue"),s(t)):(e.consume(t),o)}function a(n){return e.exit("codeIndented"),t(n)}}},JF={tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):bF(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):xF(e,s,"linePrefix",5)(t)}function s(e){const s=r.events[r.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):bF(e)?i(e):n(e)}},partial:!0};const ZF={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||yF(t)?(e.exit("atxHeadingSequence"),s(t)):n(t)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),o(n)):null===n||bF(n)?(e.exit("atxHeading"),t(n)):vF(n)?xF(e,s,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function o(t){return 35===t?(e.consume(t),o):(e.exit("atxHeadingSequence"),s(t))}function a(t){return null===t||35===t||yF(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),a)}},resolve:function(e,t){let n,r,i=e.length-2,s=3;"whitespace"===e[s][1].type&&(s+=2);i-2>s&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(s===i-1||i-4>s&&"whitespace"===e[i-2][1].type)&&(i-=s+1===i?2:4);i>s&&(n={type:"atxHeadingText",start:e[s][1].start,end:e[i][1].end},r={type:"chunkText",start:e[s][1].start,end:e[i][1].end,contentType:"text"},tF(e,s,i-s+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const ej={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let i;return function(t){let o,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){o="paragraph"===r.events[a][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||o))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),s(t)}(t);return n(t)};function s(t){return t===i?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),vF(t)?xF(e,o,"lineSuffix")(t):o(t))}function o(r){return null===r||bF(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,i,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){n=s;break}"paragraph"===e[s][1].type&&(r=s)}else"content"===e[s][1].type&&e.splice(s,1),i||"definition"!==e[s][1].type||(i=s);const o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};const tj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nj=["pre","script","style","textarea"],rj={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let i,s,o,a,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),u}(t)};function u(a){return 33===a?(e.consume(a),c):47===a?(e.consume(a),s=!0,d):63===a?(e.consume(a),i=3,r.interrupt?t:P):cF(a)?(e.consume(a),o=String.fromCharCode(a),m):n(a)}function c(s){return 45===s?(e.consume(s),i=2,h):91===s?(e.consume(s),i=5,a=0,p):cF(s)?(e.consume(s),i=4,r.interrupt?t:P):n(s)}function h(i){return 45===i?(e.consume(i),r.interrupt?t:P):n(i)}function p(i){const s="CDATA[";return i===s.charCodeAt(a++)?(e.consume(i),6===a?r.interrupt?t:S:p):n(i)}function d(t){return cF(t)?(e.consume(t),o=String.fromCharCode(t),m):n(t)}function m(a){if(null===a||47===a||62===a||yF(a)){const l=47===a,u=o.toLowerCase();return l||s||!nj.includes(u)?tj.includes(o.toLowerCase())?(i=6,l?(e.consume(a),f):r.interrupt?t(a):S(a)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(a):s?g(a):b(a)):(i=1,r.interrupt?t(a):S(a))}return 45===a||hF(a)?(e.consume(a),o+=String.fromCharCode(a),m):n(a)}function f(i){return 62===i?(e.consume(i),r.interrupt?t:S):n(i)}function g(t){return vF(t)?(e.consume(t),g):w(t)}function b(t){return 47===t?(e.consume(t),w):58===t||95===t||cF(t)?(e.consume(t),y):vF(t)?(e.consume(t),b):w(t)}function y(t){return 45===t||46===t||58===t||95===t||hF(t)?(e.consume(t),y):v(t)}function v(t){return 61===t?(e.consume(t),_):vF(t)?(e.consume(t),v):b(t)}function _(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,E):vF(t)?(e.consume(t),_):T(t)}function E(t){return t===l?(e.consume(t),l=null,x):null===t||bF(t)?n(t):(e.consume(t),E)}function T(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||yF(t)?v(t):(e.consume(t),T)}function x(e){return 47===e||62===e||vF(e)?b(e):n(e)}function w(t){return 62===t?(e.consume(t),A):n(t)}function A(t){return null===t||bF(t)?S(t):vF(t)?(e.consume(t),A):n(t)}function S(t){return 45===t&&2===i?(e.consume(t),N):60===t&&1===i?(e.consume(t),O):62===t&&4===i?(e.consume(t),L):63===t&&3===i?(e.consume(t),P):93===t&&5===i?(e.consume(t),D):!bF(t)||6!==i&&7!==i?null===t||bF(t)?(e.exit("htmlFlowData"),k(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(ij,M,k)(t))}function k(t){return e.check(sj,C,M)(t)}function C(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return null===t||bF(t)?k(t):(e.enter("htmlFlowData"),S(t))}function N(t){return 45===t?(e.consume(t),P):S(t)}function O(t){return 47===t?(e.consume(t),o="",R):S(t)}function R(t){if(62===t){const n=o.toLowerCase();return nj.includes(n)?(e.consume(t),L):S(t)}return cF(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),R):S(t)}function D(t){return 93===t?(e.consume(t),P):S(t)}function P(t){return 62===t?(e.consume(t),L):45===t&&2===i?(e.consume(t),P):S(t)}function L(t){return null===t||bF(t)?(e.exit("htmlFlowData"),M(t)):(e.consume(t),L)}function M(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},ij={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(kF,t,n)}},partial:!0},sj={tokenize:function(e,t,n){const r=this;return function(t){if(bF(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const oj={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},aj={name:"codeFenced",tokenize:function(e,t,n){const r=this,i={tokenize:function(e,t,n){let i=0;return o;function o(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),vF(t)?xF(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):u(t)}function u(t){return t===s?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===s?(i++,e.consume(t),c):i>=a?(e.exit("codeFencedFenceSequence"),vF(t)?xF(e,h,"whitespace")(t):h(t)):n(t)}function h(r){return null===r||bF(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let s,o=0,a=0;return function(t){return function(t){const n=r.events[r.events.length-1];return o=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===s?(a++,e.consume(t),l):a<3?n(t):(e.exit("codeFencedFenceSequence"),vF(t)?xF(e,u,"whitespace")(t):u(t))}function u(n){return null===n||bF(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(oj,d,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||bF(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(t)):vF(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xF(e,h,"whitespace")(t)):96===t&&t===s?n(t):(e.consume(t),c)}function h(t){return null===t||bF(t)?u(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||bF(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(t)):96===t&&t===s?n(t):(e.consume(t),p)}function d(t){return e.attempt(i,y,m)(t)}function m(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return o>0&&vF(t)?xF(e,g,"linePrefix",o+1)(t):g(t)}function g(t){return null===t||bF(t)?e.check(oj,d,y)(t):(e.enter("codeFlowValue"),b(t))}function b(t){return null===t||bF(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),b)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const lj=document.createElement("i");function uj(e){const t="&"+e+";";lj.innerHTML=t;const n=lj.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const cj={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,s,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,s=hF,u(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=fF,u):(e.enter("characterReferenceValue"),i=7,s=mF,u(t))}function u(a){if(59===a&&o){const i=e.exit("characterReferenceValue");return s!==hF||uj(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return s(a)&&o++<i?(e.consume(a),u):n(a)}}};const hj={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return gF(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const pj={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xF(e,t,"linePrefix")}}};const dj={name:"labelEnd",tokenize:function(e,t,n){const r=this;let i,s,o=r.events.length;for(;o--;)if(("labelImage"===r.events[o][1].type||"labelLink"===r.events[o][1].type)&&!r.events[o][1]._balanced){i=r.events[o][1];break}return function(t){if(!i)return n(t);if(i._inactive)return c(t);return s=r.parser.defined.includes(XF(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(mj,u,s?u:c)(t):91===t?e.attempt(fj,u,s?l:c)(t):s?u(t):c(t)}function l(t){return e.attempt(gj,u,c)(t)}function u(e){return t(e)}function c(e){return i._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,i,s,o=e.length,a=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(i=o);const l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},c={type:"labelText",start:Object.assign({},e[r+a+2][1].end),end:Object.assign({},e[i-2][1].start)};return s=[["enter",l,t],["enter",u,t]],s=nF(s,e.slice(r+1,r+a+3)),s=nF(s,[["enter",c,t]]),s=nF(s,FF(t.parser.constructs.insideSpan.null,e.slice(r+a+4,i-3),t)),s=nF(s,[["exit",c,t],e[i-2],e[i-1],["exit",u,t]]),s=nF(s,e.slice(i+1)),s=nF(s,[["exit",l,t]]),tF(e,r,e.length,s),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},mj={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return yF(t)?WF(e,i)(t):i(t)}function i(t){return 41===t?u(t):VF(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function s(t){return yF(t)?WF(e,a)(t):u(t)}function o(e){return n(e)}function a(t){return 34===t||39===t||40===t?KF(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):u(t)}function l(t){return yF(t)?WF(e,u)(t):u(t)}function u(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},fj={tokenize:function(e,t,n){const r=this;return function(t){return GF.call(r,e,i,s,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(XF(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function s(e){return n(e)}}},gj={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const bj={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),s):n(t)}function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:dj.resolveAll};function yj(e){return null===e||yF(e)||EF(e)?1:_F(e)?2:void 0}const vj={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yj(r);let s;return function(t){return s=t,e.enter("attentionSequence"),o(t)};function o(a){if(a===s)return e.consume(a),o;const l=e.exit("attentionSequence"),u=yj(a),c=!u||2===u&&i||n.includes(a),h=!i||2===i&&u||n.includes(r);return l._open=Boolean(42===s?c:c&&(i||!h)),l._close=Boolean(42===s?h:h&&(u||!c)),t(a)}},resolveAll:function(e,t){let n,r,i,s,o,a,l,u,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const h=Object.assign({},e[n][1].end),p=Object.assign({},e[c][1].start);_j(h,-a),_j(p,a),s={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[n][1].end)},o={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[c][1].start),end:p},i={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[c][1].start)},r={type:a>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},e[n][1].end=Object.assign({},s.start),e[c][1].start=Object.assign({},o.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=nF(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=nF(l,[["enter",r,t],["enter",s,t],["exit",s,t],["enter",i,t]]),l=nF(l,FF(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=nF(l,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(u=2,l=nF(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):u=0,tF(e,n-1,c-n+3,l),c=n+l.length-u-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e}};function _j(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ej={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return cF(t)?(e.consume(t),s):64===t?n(t):l(t)}function s(e){return 43===e||45===e||46===e||hF(e)?(r=1,o(e)):l(e)}function o(t){return 58===t?(e.consume(t),r=0,a):(43===t||45===t||46===t||hF(t))&&r++<32?(e.consume(t),o):(r=0,l(t))}function a(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||dF(r)?n(r):(e.consume(r),a)}function l(t){return 64===t?(e.consume(t),u):pF(t)?(e.consume(t),l):n(t)}function u(e){return hF(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,u):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):h(n)}function h(t){if((45===t||hF(t))&&r++<63){const n=45===t?h:c;return e.consume(t),n}return n(t)}}};const Tj={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,s,o;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),_):63===t?(e.consume(t),y):cF(t)?(e.consume(t),x):n(t)}function l(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),s=0,d):cF(t)?(e.consume(t),b):n(t)}function u(t){return 45===t?(e.consume(t),p):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),h):bF(t)?(o=c,R(t)):(e.consume(t),c)}function h(t){return 45===t?(e.consume(t),p):c(t)}function p(e){return 62===e?O(e):45===e?h(e):c(e)}function d(t){const r="CDATA[";return t===r.charCodeAt(s++)?(e.consume(t),6===s?m:d):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),f):bF(t)?(o=m,R(t)):(e.consume(t),m)}function f(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?O(t):93===t?(e.consume(t),g):m(t)}function b(t){return null===t||62===t?O(t):bF(t)?(o=b,R(t)):(e.consume(t),b)}function y(t){return null===t?n(t):63===t?(e.consume(t),v):bF(t)?(o=y,R(t)):(e.consume(t),y)}function v(e){return 62===e?O(e):y(e)}function _(t){return cF(t)?(e.consume(t),E):n(t)}function E(t){return 45===t||hF(t)?(e.consume(t),E):T(t)}function T(t){return bF(t)?(o=T,R(t)):vF(t)?(e.consume(t),T):O(t)}function x(t){return 45===t||hF(t)?(e.consume(t),x):47===t||62===t||yF(t)?w(t):n(t)}function w(t){return 47===t?(e.consume(t),O):58===t||95===t||cF(t)?(e.consume(t),A):bF(t)?(o=w,R(t)):vF(t)?(e.consume(t),w):O(t)}function A(t){return 45===t||46===t||58===t||95===t||hF(t)?(e.consume(t),A):S(t)}function S(t){return 61===t?(e.consume(t),k):bF(t)?(o=S,R(t)):vF(t)?(e.consume(t),S):w(t)}function k(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,C):bF(t)?(o=k,R(t)):vF(t)?(e.consume(t),k):(e.consume(t),I)}function C(t){return t===i?(e.consume(t),i=void 0,N):null===t?n(t):bF(t)?(o=C,R(t)):(e.consume(t),C)}function I(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||yF(t)?w(t):(e.consume(t),I)}function N(e){return 47===e||62===e||yF(e)?w(e):n(e)}function O(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function R(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return vF(t)?xF(e,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):P(t)}function P(t){return e.enter("htmlTextData"),o(t)}}};const xj={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:dj.resolveAll};const wj={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return bF(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Aj={name:"codeText",tokenize:function(e,t,n){let r,i,s=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),s++,o):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(i=e.enter("codeTextSequence"),r=0,u(t)):bF(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||bF(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function u(n){return 96===n?(e.consume(n),r++,u):r===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const Sj={42:UF,43:UF,45:UF,48:UF,49:UF,50:UF,51:UF,52:UF,53:UF,54:UF,55:UF,56:UF,57:UF,62:zF},kj={91:YF},Cj={[-2]:$F,[-1]:$F,32:$F},Ij={35:ZF,42:BF,45:[ej,BF],60:rj,61:ej,95:BF,96:aj,126:aj},Nj={38:cj,92:hj},Oj={[-5]:pj,[-4]:pj,[-3]:pj,33:bj,38:cj,42:vj,60:[Ej,Tj],91:xj,92:[wj,hj],93:dj,95:vj,96:Aj},Rj={null:[vj,OF]},Dj={null:[42,95]},Pj={null:[]};function Lj(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)lF(t,e[n]);return t}([I,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:t,content:r(wF),document:r(AF),flow:r(NF),string:r(RF),text:r(DF)};return n;function r(e){return function(t){return jF(n,e,t)}}}const Mj=/[\0\t\n\r]/g;function Fj(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const jj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Bj(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Fj(n.slice(t?2:1),t?16:10)}return uj(n)||e}const Uj={}.hasOwnProperty;function Hj(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(te),autolinkProtocol:A,autolinkEmail:A,atxHeading:s($),blockQuote:s(K),characterEscape:A,characterReference:A,codeFenced:s(W),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(W,o),codeText:s(X,o),codeTextData:A,data:A,codeFlowValue:A,definition:s(Y),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Q),hardBreakEscape:s(J),hardBreakTrailing:s(J),htmlFlow:s(Z,o),htmlFlowData:A,htmlText:s(Z,o),htmlTextData:A,image:s(ee),label:o,link:s(te),listItem:s(re),listItemValue:p,listOrdered:s(ne,h),listUnordered:s(ne),paragraph:s(ie),reference:B,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s($),strong:s(se),thematicBreak:s(ae)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:G,autolinkProtocol:V,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:q,characterReference:z,codeFenced:l(g),codeFencedFence:f,codeFencedFenceInfo:d,codeFencedFenceMeta:m,codeFlowValue:S,codeIndented:l(b),codeText:l(O),codeTextData:S,data:S,definition:l(),definitionDestinationString:_,definitionLabelString:y,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(I),htmlFlowData:S,htmlText:l(N),htmlTextData:S,image:l(D),label:L,labelText:P,lineEnding:k,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:M,resourceTitleString:F,resource:j,setextHeading:l(w),setextHeadingLineSequence:x,setextHeadingText:T,strong:l(),thematicBreak:l()}};zj(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const s={stack:[r],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},l=[];let h=-1;for(;++h<e.length;)if("listOrdered"===e[h][1].type||"listUnordered"===e[h][1].type)if("enter"===e[h][0])l.push(h);else{h=i(e,l.pop(),h)}for(h=-1;++h<e.length;){const n=t[e[h][0]];Uj.call(n,e[h][1].type)&&n[e[h][1].type].call(Object.assign({sliceSerialize:e[h][2].sliceSerialize},s),e[h][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||Gj).call(s,void 0,e[0])}for(r.position={start:qj(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:qj(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},h=-1;++h<t.transforms.length;)r=t.transforms[h](r)||r;return r}function i(e,t,n){let r,i,s,o,a=t-1,l=-1,u=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,o=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||o||l||s||(s=a),o=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:o=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let o=a;for(i=void 0;o--;){const t=e[o];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",u=!0),t[1].type="lineEnding",i=o}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!i||s<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||a,0,["exit",r,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(a,0,["enter",i,t[2]]),a++,n++,s=void 0,o=!0}}}return e[t][1]._spread=u,n}function s(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:qj(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+CM({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Gj).call(this,e,r[0])}n.position.end=qj(e.end)}function c(){return function(e,t){const n=t||JM;return ZM(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function d(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function m(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=XF(this.sliceSerialize(e)).toLowerCase()}function v(){const e=this.resume();this.stack[this.stack.length-1].title=e}function _(){const e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function x(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function A(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=oe(),n.position={start:qj(e.start),end:void 0},t.push(n)),this.stack.push(n)}function S(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=qj(e.end)}function k(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=qj(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(A.call(this,e),S.call(this,e))}function C(){this.data.atHardBreak=!0}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function O(){const e=this.resume();this.stack[this.stack.length-1].value=e}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(jj,Bj)}(t),n.identifier=XF(t).toLowerCase()}function L(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function M(){const e=this.resume();this.stack[this.stack.length-1].url=e}function F(){const e=this.resume();this.stack[this.stack.length-1].title=e}function j(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function U(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=XF(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function H(e){this.data.characterReferenceType=e.type}function q(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Fj(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=uj(t)}this.stack[this.stack.length-1].value+=r}function z(e){this.stack.pop().position.end=qj(e.end)}function V(e){S.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function G(e){S.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function K(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(n)(function(e){for(;!sF(e););return e}(Lj(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,s,o){const a=[];let l,u,c,h,p;for(i=n+("string"===typeof i?i.toString():new TextDecoder(s||void 0).decode(i)),c=0,n="",r&&(65279===i.charCodeAt(0)&&c++,r=void 0);c<i.length;){if(Mj.lastIndex=c,l=Mj.exec(i),h=l&&void 0!==l.index?l.index:i.length,p=i.charCodeAt(h),!l){n=i.slice(c);break}if(10===p&&c===h&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),c<h&&(a.push(i.slice(c,h)),t+=h-c),p){case 0:a.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),a.push(-2);t++<u;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}c=h+1}return o&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function qj(e){return{line:e.line,column:e.column,offset:e.offset}}function zj(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?zj(e,r):Vj(e,r)}}function Vj(e,t){let n;for(n in t)if(Uj.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Gj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+CM({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+CM({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+CM({start:t.start,end:t.end})+") is still open")}function Kj(e){const t=this;t.parser=function(n){return Hj(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Wj="object"===typeof self?self:globalThis,Xj=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case 0:case-1:return n(o,i);case 1:{const e=n([],i);for(const t of o)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of o)e[r(t)]=r(n);return e}case 3:return n(new Date(o),i);case 4:{const{source:e,flags:t}=o;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of o)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of o)e.add(r(t));return e}case 7:{const{name:e,message:t}=o;return n(new Wj[e](t),i)}case 8:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new Wj[s](o),i)};return r})(new Map,e)(0),Yj="",{toString:Qj}={},{keys:$j}=Object,Jj=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Qj.call(e).slice(8,-1);switch(n){case"Array":return[1,Yj];case"Object":return[2,Yj];case"Date":return[3,Yj];case"RegExp":return[4,Yj];case"Map":return[5,Yj];case"Set":return[6,Yj]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Zj=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},eB=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},s=r=>{if(n.has(r))return n.get(r);let[o,a]=Jj(r);switch(o){case 0:{let t=r;switch(a){case"bigint":o=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return i([-1],r)}return i([o,t],r)}case 1:{if(a)return i([a,[...r]],r);const e=[],t=i([o,e],r);for(const n of r)e.push(s(n));return t}case 2:{if(a)switch(a){case"BigInt":return i([a,r.toString()],r);case"Boolean":case"Number":case"String":return i([a,r.valueOf()],r)}if(t&&"toJSON"in r)return s(r.toJSON());const n=[],l=i([o,n],r);for(const t of $j(r))!e&&Zj(Jj(r[t]))||n.push([s(t),s(r[t])]);return l}case 3:return i([o,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([o,{source:e,flags:t}],r)}case 5:{const t=[],n=i([o,t],r);for(const[i,o]of r)(e||!Zj(Jj(i))&&!Zj(Jj(o)))&&t.push([s(i),s(o)]);return n}case 6:{const t=[],n=i([o,t],r);for(const i of r)!e&&Zj(Jj(i))||t.push(s(i));return n}}const{message:l}=r;return i([o,{name:a,message:l}],r)};return s})(!(t||n),!!t,new Map,r)(e),r},tB="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Xj(eB(e,t)):structuredClone(e):(e,t)=>Xj(eB(e,t));function nB(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(37===s&&hF(e.charCodeAt(n+1))&&hF(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const t=e.charCodeAt(n+1);s<56320&&t>56319&&t<57344?(o=String.fromCharCode(s,t),i=1):o="\ufffd"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function rB(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function iB(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const sB=function(e){if(null===e||void 0===e)return aB;if("function"===typeof e)return oB(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sB(e[n]);return oB(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return oB(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"===typeof e)return function(e){return oB(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function oB(e){return function(t,n,r){return Boolean(lB(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function aB(){return!0}function lB(e){return null!==e&&"object"===typeof e&&"type"in e}const uB=[],cB=!0,hB=!1,pB="skip";function dB(e,t,n,r){let i;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):i=t;const s=sB(i),o=r?-1:1;!function e(i,a,l){const u=i&&"object"===typeof i?i:{};if("string"===typeof u.type){const e="string"===typeof u.tagName?u.tagName:"string"===typeof u.name?u.name:void 0;Object.defineProperty(c,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return c;function c(){let u,c,h,p=uB;if((!t||s(i,a,l[l.length-1]||void 0))&&(p=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[cB,e];return null===e||void 0===e?uB:[e]}(n(i,l)),p[0]===hB))return p;if("children"in i&&i.children){const t=i;if(t.children&&p[0]!==pB)for(c=(r?t.children.length:-1)+o,h=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(u=e(n,c,h)(),u[0]===hB)return u;c="number"===typeof u[1]?u[1]:c+o}}return p}}(e,void 0,[])()}function mB(e,t,n,r){let i,s,o;"function"===typeof t&&"function"!==typeof n?(s=void 0,o=t,i=n):(s=t,o=n,i=r),dB(e,s,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return o(e,r,n)}),i)}function fB(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&"text"===s.type?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&"text"===o.type?o.value+=r:i.push({type:"text",value:r}),i}function gB(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}const bB=9,yB=32;function vB(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(_B(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(_B(t.slice(i),i>0,!1)),s.join("")}function _B(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;t===bB||t===yB;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;t===bB||t===yB;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const EB={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=nB(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);void 0===a?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fB(e,t);const i={src:nB(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){const n={src:nB(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fB(e,t);const i={href:nB(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){const n={href:nB(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=gB(n[r])}return t}(n):gB(t),s={},o=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const e=r[a];(i||0!==a||"element"!==e.type||"p"!==e.tagName)&&o.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?o.push(e):o.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&o.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=SM(t.children[1]),o=AM(t.children[t.children.length-1]);s&&o&&(r.position={start:s,end:o}),i.push(r)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",s=n&&"table"===n.type?n.align:void 0,o=s?s.length:t.children.length;let a=-1;const l=[];for(;++a<o;){const n=t.children[a],r={},o=s?s[a]:void 0;o&&(r.align=o);let u={type:"element",tagName:i,properties:r,children:[]};n&&(u.children=e.all(n),e.patch(n,u),u=e.applyData(n,u)),l.push(u)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)},text:function(e,t){const n={type:"text",value:vB(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:TB,yaml:TB,definition:TB,footnoteDefinition:TB};function TB(){}const xB={}.hasOwnProperty,wB={};function AB(e,t){e.position&&(t.position=function(e){const t=SM(e),n=AM(e);if(t&&n)return{start:t,end:n}}(e))}function SB(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,tB(i)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function kB(e,t){const n=t.data||{},r=!("value"in t)||xB.call(n,"hProperties")||xB.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function CB(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function IB(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function NB(e,t){const n=function(e,t){const n=t||wB,r=new Map,i=new Map,s=new Map,o={...EB,...n.handlers},a={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=a.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=IB(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=IB(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:SB,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:function(e,t){const n=e.type,r=a.handlers[n];if(xB.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=tB(n);return r.children=a.all(e),r}return tB(e)}return(a.options.unknownHandler||kB)(a,e,t)},options:n,patch:AB,wrap:CB};return mB(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),a}(e,t),r=n.one(e,void 0),i=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rB,r=e.options.footnoteBackLabel||iB,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const s=e.all(i),o=String(i.identifier).toUpperCase(),u=nB(o.toLowerCase());let c=0;const h=[],p=e.footnoteCounts.get(o);for(;void 0!==p&&++c<=p;){h.length>0&&h.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,c);"string"===typeof e&&(e={type:"text",value:e}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+u+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const d=s[s.length-1];if(d&&"element"===d.type&&"p"===d.tagName){const e=d.children[d.children.length-1];e&&"text"===e.type?e.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...h)}else s.push(...h);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+u},children:e.wrap(s,!0)};e.patch(i,m),a.push(m)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...tB(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:"\n"},i),s}function OB(e,t){return e&&"run"in e?async function(n,r){const i=NB(n,{file:r,...t});await e.run(i,r)}:function(n,r){return NB(n,{file:r,...t||e})}}function RB(e){if(e)throw e}var DB=n(3240);function PB(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function LB(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1;const s=n.pop();if("function"!==typeof s)throw new TypeError("Expected function as last argument, not "+s);!function t(r){const o=e[++i];let a=-1;if(r)s(r);else{for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];for(;++a<n.length;)null!==u[a]&&void 0!==u[a]||(u[a]=n[a]);n=u,o?function(e,t){let n;return i;function i(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];const l=e.length>i.length;let u;l&&i.push(s);try{u=e.apply(this,i)}catch(r){if(l&&n)throw r;return s(r)}l||(u&&u.then&&"function"===typeof u.then?u.then(o,s):u instanceof Error?s(u):o(u))}function s(e){if(!n){n=!0;for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];t(e,...i)}}function o(e){s(null,e)}}(o,t)(...u):s(null,...u)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const MB={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');FB(e);let n,r=0,i=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else i<0&&(n=!0,i=s+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let o=-1,a=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(n){r=s+1;break}}else o<0&&(n=!0,o=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(i=s):(a=-1,i=o));r===i?i=o:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(FB(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){FB(e);let t,n=e.length,r=-1,i=0,s=-1,o=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)r<0&&(t=!0,r=n+1),46===a?s<0?s=n:1!==o&&(o=1):s>-1&&(o=-1);else if(t){i=n+1;break}}if(s<0||r<0||0===o||1===o&&s===r-1&&s===i+1)return"";return e.slice(s,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)FB(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){FB(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",s=0,o=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(o===l-1||1===a);else if(o!==l-1&&2===a){if(i.length<2||2!==s||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",s=0):(i=i.slice(0,r),s=i.length-1-i.lastIndexOf("/")),o=l,a=0;continue}}else if(i.length>0){i="",s=0,o=l,a=0;continue}t&&(i=i.length>0?i+"/..":"..",s=2)}else i.length>0?i+="/"+e.slice(o+1,l):i=e.slice(o+1,l),s=l-o-1;o=l,a=0}else 46===n&&a>-1?a++:a=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function FB(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const jB={cwd:function(){return"/"}};function BB(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function UB(e){if("string"===typeof e)e=new URL(e);else if(!BB(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const HB=["history","path","basename","stem","extname","dirname"];class qB{constructor(e){let t;t=e?BB(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd=jB.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<HB.length;){const e=HB[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)HB.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?MB.basename(this.path):void 0}set basename(e){VB(e,"basename"),zB(e,"basename"),this.path=MB.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?MB.dirname(this.path):void 0}set dirname(e){GB(this.basename,"dirname"),this.path=MB.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?MB.extname(this.path):void 0}set extname(e){if(zB(e,"extname"),GB(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=MB.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){BB(e)&&(e=UB(e)),VB(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?MB.basename(this.path,this.extname):void 0}set stem(e){VB(e,"stem"),zB(e,"stem"),this.path=MB.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new RM(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function zB(e,t){if(e&&e.includes(MB.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+MB.sep+"`")}function VB(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function GB(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const KB=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};Object.setPrototypeOf(r,t);const i=Object.getOwnPropertyNames(n);for(const s of i){const e=Object.getOwnPropertyDescriptor(n,s);e&&Object.defineProperty(r,s,e)}return r},WB={}.hasOwnProperty;class XB extends KB{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LB()}copy(){const e=new XB;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(DB(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(JB("data",this.frozen),this.namespace[e]=t,this):WB.call(this.namespace,e)&&this.namespace[e]||void 0:e?(JB("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=tU(e),n=this.parser||this.Parser;return QB("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),QB("process",this.parser||this.Parser),$B("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const s=tU(e),o=n.parse(s);function a(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(o,s,(function(e,t,r){if(e||!t||!r)return a(e);const i=t,s=n.stringify(i,r);var o;"string"===typeof(o=s)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(o)?r.value=s:r.result=s,a(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),QB("processSync",this.parser||this.Parser),$B("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,RB(e),t=r})),eU("processSync","process",n),t}run(e,t,n){ZB(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,s){const o=tU(t);r.run(e,o,(function(t,r,o){const a=r||e;t?s(t):i?i(a):n(void 0,a,o)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){RB(e),n=t,r=!0})),eU("runSync","run",r),n}stringify(e,t){this.freeze();const n=tU(t),r=this.compiler||this.Compiler;return $B("stringify",r),ZB(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(JB("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];u(e,i)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):a(e)}return this;function o(e){if("function"===typeof e)u(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=DB(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){o(e[t])}}}function u(e,n){let r=-1,i=-1;for(;++r<t.length;)if(t[r][0]===e){i=r;break}if(-1===i)t.push([e,...n]);else if(n.length>0){let[r,...s]=n;const o=t[i][1];PB(o)&&PB(r)&&(r=DB(!0,o,r)),t[i]=[e,r,...s]}}}}const YB=(new XB).freeze();function QB(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function $B(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function JB(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ZB(e){if(!PB(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function eU(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function tU(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new qB(e)}const nU=[],rU={allowDangerousHtml:!0},iU=/^(https?|ircs?|mailto|xmpp)$/i,sU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oU(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,s=e.components,o=e.disallowedElements,a=e.rehypePlugins||nU,l=e.remarkPlugins||nU,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rU}:rU,c=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||aU,d=YB().use(Kj).use(l).use(OB,u).use(a),m=new qB;"string"===typeof r&&(m.value=r);for(const b of sU)Object.hasOwn(e,b.from)&&(b.from,b.to&&b.to,b.id);const f=d.parse(m);let g=d.runSync(f,m);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:"root"===g.type?g.children:[g]}),mB(g,(function(e,r,i){if("raw"===e.type&&i&&"number"===typeof r)return c?i.children.splice(r,1):i.children[r]={type:"text",value:e.value},r;if("element"===e.type){let t;for(t in $M)if(Object.hasOwn($M,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=$M[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=p(String(n||""),t,e))}}if("element"===e.type){let s=t?!t.includes(e.tagName):!!o&&o.includes(e.tagName);if(!s&&n&&"number"===typeof r&&(s=!n(e,r,i)),s&&i&&"number"===typeof r)return h&&e.children?i.children.splice(r,1,...e.children):i.children.splice(r,1),r}})),UM(g,{Fragment:Ge.Fragment,components:s,ignoreInvalidStyle:!0,jsx:Ge.jsx,jsxs:Ge.jsxs,passKeys:!0,passNode:!0})}function aU(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||iU.test(e.slice(0,t))?e:""}function lU(e){const{title:t,filePath:n}=e,[r,i]=(0,O.useState)("");return(0,O.useEffect)((()=>{!async function(){const e=await fetch(n),t=await e.text();i(t)}()}),[n]),(0,Ge.jsxs)("div",{className:"mx-auto max-w-[50rem]",children:[(0,Ge.jsx)("h1",{className:"hidden",children:t})," ",(0,Ge.jsx)(oU,{children:r})]})}function uU(e){const{message:t,onConfirmMethod:n,yesLabel:r,noLabel:i,closeDialog:s}=e;return(0,Ge.jsxs)("div",{className:"dialog",children:[(0,Ge.jsx)("div",{className:"dialog-background",onClick:s}),(0,Ge.jsxs)("div",{className:"dialog-box",children:[(0,Ge.jsx)("h3",{children:t.title}),(0,Ge.jsx)("p",{children:t.body}),(0,Ge.jsx)("button",{onClick:function(){n(),s()},children:r||"Yes"}),(0,Ge.jsx)("button",{onClick:s,children:i||"No"})]})]})}function cU(e){const{message:t,closeDialog:n}=e;return(0,Ge.jsxs)("div",{className:"dialog",children:[(0,Ge.jsx)("div",{className:"dialog-background",onClick:n}),(0,Ge.jsxs)("div",{className:"dialog-box",children:[(0,Ge.jsx)("h3",{children:t.title}),(0,Ge.jsx)("button",{onClick:n,children:"X"}),t.body&&(0,Ge.jsx)("p",{children:t.body}),(0,Ge.jsx)("button",{onClick:n,children:"Accept"})]})]})}function hU(){return(0,Ge.jsx)("div",{className:"mx-auto max-w-[50rem]",children:(0,Ge.jsx)("h1",{children:"Not Found!"})})}function pU(){const[e,t]=(0,O.useState)(!1),[n,r]=(0,O.useState)(""),i=(0,O.useId)(),s=(0,O.useRef)(null),o=(0,O.useRef)(null),a=(0,O.useRef)(null),{signup:l}=uL(),u=Se();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h1",{children:"Sign Up"}),(0,Ge.jsx)("pre",{children:n}),(0,Ge.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),o.current.value!==a.current.value)r("Passwords do not match.");else{try{r(""),t(!0),await l(s.current.value,o.current.value),u("/")}catch(n){r("Failed to create an account: "+n)}t(!1)}},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(i,"-email"),children:"Email"}),(0,Ge.jsx)("input",{id:"".concat(i,"-email"),type:"email",ref:s,required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(i,"-password"),children:"Password"}),(0,Ge.jsx)("input",{id:"".concat(i,"-password"),type:"password",ref:o,required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(i,"-password-confirm"),children:"Password confirmation"}),(0,Ge.jsx)("input",{id:"".concat(i,"-password-confirm"),type:"password",ref:a,required:!0}),(0,Ge.jsx)("button",{type:"submit",disabled:e,children:"Sign up"})]})]}),(0,Ge.jsxs)("p",{children:["Already have an account? ",(0,Ge.jsx)(TL,{to:"/login",children:"Log in"}),"."]})]})}function dU(){const[e,t]=(0,O.useState)(!1),[n,r]=(0,O.useState)(""),i=(0,O.useId)(),s=(0,O.useRef)(null),o=(0,O.useRef)(null),{login:a}=uL(),l=Se();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h1",{children:"Log in"}),(0,Ge.jsx)("pre",{children:n}),(0,Ge.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{r(""),t(!0),await a(s.current.value,o.current.value),l("/")}catch(n){r("Failed to sign in: "+n)}t(!1)},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(i,"-email"),children:"Email"}),(0,Ge.jsx)("input",{id:"".concat(i,"-email"),type:"email",ref:s,required:!0}),(0,Ge.jsx)("label",{htmlFor:"".concat(i,"-password"),children:"Password"}),(0,Ge.jsx)("input",{id:"".concat(i,"-password"),type:"password",ref:o,required:!0}),(0,Ge.jsx)(TL,{to:"/forgot-password",children:"Forgot password?"}),(0,Ge.jsx)("button",{type:"submit",disabled:e,children:"Log in"})]})]}),(0,Ge.jsxs)("p",{children:["Don't have an account? ",(0,Ge.jsx)(TL,{to:"/signup",children:"Sign up"}),"."]})]})}function mU(){const e=Se(),{currentUser:t,logout:n,verifyEmail:r}=uL(),[i,s]=(0,O.useState)(!1),[o,a]=(0,O.useState)(!1),[l,u]=(0,O.useState)(!1),[c,h]=(0,O.useState)(!1),[p,d]=(0,O.useState)(!1),[m,f]=(0,O.useState)((()=>{const e=localStorage.getItem("emailVerificationDisableTimestamp");if(e)return Number(e)>Date.now()})),g=mu(),[b,y]=(0,O.useState)(!t);return(0,O.useEffect)((()=>{b&&(e("/"),g(Hl()),g(Su()))}),[t]),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h1",{children:"Account"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:null===t||void 0===t?void 0:t.displayName}),(0,Ge.jsxs)("p",{children:[null===t||void 0===t?void 0:t.email,(0,Ge.jsx)("span",{children:null!==t&&void 0!==t&&t.emailVerified?"Verified":"Not verified"})]})]}),!(null!==t&&void 0!==t&&t.emailVerified)&&(0,Ge.jsx)(IL,{disabled:m||i,onClick:async function(){try{s(!0),await r();const e=Date.now()+6e4;localStorage.setItem("emailVerificationDisableTimestamp",e.toString()),f(e>Date.now())}catch(e){}s(!1)},children:"Verify email"}),(0,Ge.jsx)(NL,{onClick:()=>u(!0),children:"Update email"}),(0,Ge.jsx)(NL,{onClick:()=>h(!0),children:"Change password"}),(0,Ge.jsx)(NL,{onClick:()=>e("/login"),children:"Switch account"}),(0,Ge.jsx)(NL,{onClick:async function(){try{a(!0),await n(),y(!0)}catch(e){}a(!1)},disabled:o,children:"Log out"}),(0,Ge.jsx)(NL,{onClick:()=>d(!0),children:"Delete account"}),l&&(0,Ge.jsx)(RL,{setIsVisible:u}),c&&(0,Ge.jsx)(DL,{setIsVisible:h}),p&&(0,Ge.jsx)(PL,{setIsVisible:d})]})}function fU(){const e=(0,O.useId)(),t=(0,O.useRef)(null),{resetPassword:n}=uL(),[r,i]=(0,O.useState)(!1),[s,o]=(0,O.useState)(""),a=Se();return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h1",{children:"Forgot password"}),(0,Ge.jsx)("pre",{children:s}),(0,Ge.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{o(""),i(!0),await n(t.current.value),a("/")}catch(s){o("Failed to reset password: "+s)}i(!1)},children:[(0,Ge.jsx)("label",{htmlFor:"".concat(e,"-email"),children:"Email"}),(0,Ge.jsx)("input",{type:"email",ref:t}),(0,Ge.jsx)("button",{type:"submit",disabled:r,children:"Reset password"})]})]})}function gU(){const[e,t]=(0,O.useState)({}),[n,r]=(0,O.useState)({}),i=nu((e=>e.bibliographies)),s=nu((e=>e.settings)),{currentUser:o}=uL(),a=mu();return(0,O.useEffect)((()=>{const e=document.querySelector("h1");return document.title=e?"".concat(e.textContent," - CiteEase"):"CiteEase",()=>document.title="CiteEase"})),(0,O.useEffect)((()=>{a(Tl()),a(Eu())}),[a]),(0,O.useEffect)((()=>{if(o){return tL(mP(aL,"users"),(async e=>{var t;const n=null===(t=e.docs.find((e=>e.id===o.uid)))||void 0===t?void 0:t.data();if(n){a(xl({bibliographies:JSON.parse(null===n||void 0===n?void 0:n.bibliographies)})),a(Tu({settings:JSON.parse(null===n||void 0===n?void 0:n.settings)}));const e=JSON.parse(null===n||void 0===n?void 0:n.bibliographies);let t=[];e.forEach((e=>{var n;null!==e&&void 0!==e&&null!==(n=e.collab)&&void 0!==n&&n.open&&t.push(e.collab.id)})),t.forEach((async e=>{const t=await JP(fP(aL,"coBibs",e));t.data()&&a(xl({bibliographies:[JSON.parse(t.data().bibliography)]}))}))}else try{await eL(fP(aL,"users",o.uid),{bibliographies:JSON.stringify(i),settings:JSON.stringify(s)})}catch(r){console.error("Error adding document: ",r)}}))}}),[o]),(0,O.useEffect)((()=>{if(o){eL(fP(aL,"users",o.uid),{bibliographies:JSON.stringify(i),settings:JSON.stringify(s)})}}),[i,s]),(0,Ge.jsxs)("div",{className:"font-sans bg-neutral-white p-5 min-h-screen text-neutral-black",children:[(0,Ge.jsxs)(ze,{children:[(0,Ge.jsx)(He,{path:"/",element:(0,Ge.jsx)(kL,{})}),(0,Ge.jsx)(He,{path:"/signup",element:(0,Ge.jsx)(pU,{})}),(0,Ge.jsx)(He,{path:"/login",element:(0,Ge.jsx)(dU,{})}),(0,Ge.jsx)(He,{path:"/forgot-password",element:(0,Ge.jsx)(fU,{})}),(0,Ge.jsx)(He,{path:"/account",element:(0,Ge.jsx)(mU,{})})," ",(0,Ge.jsx)(He,{path:"/settings",element:(0,Ge.jsx)(LL,{})}),(0,Ge.jsx)(He,{path:"/:bibId",element:(0,Ge.jsx)(pL,{showAcceptDialog:function(e){t({message:{title:e,body:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}})},showConfirmDialog:function(e,t,n){r({message:{title:e,body:t},onConfirmMethod:n,yesLabel:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Yes",noLabel:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"No"})}})}),(0,Ge.jsx)(He,{path:"/:bibId/settings",element:(0,Ge.jsx)(ML,{})}),(0,Ge.jsx)(He,{path:"/about",element:(0,Ge.jsx)(lU,{title:"About CiteEase",filePath:"/citeease/markdown/about.md"})}),(0,Ge.jsx)(He,{path:"/terms",element:(0,Ge.jsx)(lU,{title:"Terms of Use",filePath:"/citeease/markdown/terms.md"})}),(0,Ge.jsx)(He,{path:"/privacy",element:(0,Ge.jsx)(lU,{title:"Privacy Policy",filePath:"/citeease/markdown/privacy.md"})}),(0,Ge.jsx)(He,{path:"*",element:(0,Ge.jsx)(hU,{})})]}),e.message&&(0,Ge.jsx)(cU,{message:e.message,closeDialog:()=>t({})}),n.message&&(0,Ge.jsx)(uU,{...n,closeDialog:()=>r({})})]})}const bU=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yU(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}const vU=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let s=new Ba;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(Pa):s.push(La(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:o}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!Ia(n))throw new Error(yl(1));a=Oa(n)}l="function"===typeof r?r(t):t();let u=Ra;i&&(u=Ma({trace:!1,..."object"===typeof i&&i}));const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Aa(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},a=t.map((e=>e(o)));return s=Ra(...a)(i.dispatch),{...i,dispatch:s}}}(...l),h=Ga(c);let p="function"===typeof o?o(h):h();return Na(a,s,u(...p))}({reducer:Oa({bibliographies:ql,settings:ku})}),_U=vU;D.createRoot(document.getElementById("root")).render((0,Ge.jsx)(O.StrictMode,{children:(0,Ge.jsx)(vL,{children:(0,Ge.jsx)(cL,{children:(0,Ge.jsx)(uu,{store:_U,children:(0,Ge.jsx)(gU,{})})})})})),function(e){if("serviceWorker"in navigator){if(new URL("/citeease",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("/citeease","/service-worker.js");bU?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):yU(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):yU(t,e)}))}}()})()})();
//# sourceMappingURL=main.48dc7b14.js.map